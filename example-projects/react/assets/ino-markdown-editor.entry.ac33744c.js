import{r as tl,c as co,h as H}from"./index.183b517a.js";import{c as He}from"./index-b7e5b0c5.07a60787.js";import{c as wa,a as Gs,g as el}from"./_commonjsHelpers-212d567a.0ea80d68.js";/*!
 * Crafted with ‚ù§ by inovex GmbH
 */function mt(r){this.content=r}mt.prototype={constructor:mt,find:function(r){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===r)return t;return-1},get:function(r){var t=this.find(r);return t==-1?void 0:this.content[t+1]},update:function(r,t,e){var n=e&&e!=r?this.remove(e):this,o=n.find(r),s=n.content.slice();return o==-1?s.push(e||r,t):(s[o+1]=t,e&&(s[o]=e)),new mt(s)},remove:function(r){var t=this.find(r);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new mt(e)},addToStart:function(r,t){return new mt([r,t].concat(this.remove(r).content))},addToEnd:function(r,t){var e=this.remove(r).content.slice();return e.push(r,t),new mt(e)},addBefore:function(r,t,e){var n=this.remove(t),o=n.content.slice(),s=n.find(r);return o.splice(s==-1?o.length:s,0,t,e),new mt(o)},forEach:function(r){for(var t=0;t<this.content.length;t+=2)r(this.content[t],this.content[t+1])},prepend:function(r){return r=mt.from(r),r.size?new mt(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=mt.from(r),r.size?new mt(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var t=this;r=mt.from(r);for(var e=0;e<r.content.length;e+=2)t=t.remove(r.content[e]);return t},get size(){return this.content.length>>1}};mt.from=function(r){if(r instanceof mt)return r;var t=[];if(r)for(var e in r)t.push(e,r[e]);return new mt(t)};var Zs=mt;function Sa(r,t,e){for(var n=0;;n++){if(n==r.childCount||n==t.childCount)return r.childCount==t.childCount?null:e;var o=r.child(n),s=t.child(n);if(o==s){e+=o.nodeSize;continue}if(!o.sameMarkup(s))return e;if(o.isText&&o.text!=s.text){for(var i=0;o.text[i]==s.text[i];i++)e++;return e}if(o.content.size||s.content.size){var a=Sa(o.content,s.content,e+1);if(a!=null)return a}e+=o.nodeSize}}function Ma(r,t,e,n){for(var o=r.childCount,s=t.childCount;;){if(o==0||s==0)return o==s?null:{a:e,b:n};var i=r.child(--o),a=t.child(--s),c=i.nodeSize;if(i==a){e-=c,n-=c;continue}if(!i.sameMarkup(a))return{a:e,b:n};if(i.isText&&i.text!=a.text){for(var u=0,l=Math.min(i.text.length,a.text.length);u<l&&i.text[i.text.length-u-1]==a.text[a.text.length-u-1];)u++,e--,n--;return{a:e,b:n}}if(i.content.size||a.content.size){var f=Ma(i.content,a.content,e-1,n-1);if(f)return f}e-=c,n-=c}}var x=function(t,e){if(this.content=t,this.size=e||0,e==null)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},Vn={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};x.prototype.nodesBetween=function(t,e,n,o,s){o===void 0&&(o=0);for(var i=0,a=0;a<e;i++){var c=this.content[i],u=a+c.nodeSize;if(u>t&&n(c,o+a,s,i)!==!1&&c.content.size){var l=a+1;c.nodesBetween(Math.max(0,t-l),Math.min(c.content.size,e-l),n,o+l)}a=u}};x.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)};x.prototype.textBetween=function(t,e,n,o){var s="",i=!0;return this.nodesBetween(t,e,function(a,c){a.isText?(s+=a.text.slice(Math.max(t,c)-c,e-c),i=!n):a.isLeaf&&o?(s+=typeof o=="function"?o(a):o,i=!n):!i&&a.isBlock&&(s+=n,i=!0)},0),s};x.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,o=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(n)&&(o[o.length-1]=e.withText(e.text+n.text),s=1);s<t.content.length;s++)o.push(t.content[s]);return new x(o,this.size+t.size)};x.prototype.cut=function(t,e){if(e==null&&(e=this.size),t==0&&e==this.size)return this;var n=[],o=0;if(e>t)for(var s=0,i=0;i<e;s++){var a=this.content[s],c=i+a.nodeSize;c>t&&((i<t||c>e)&&(a.isText?a=a.cut(Math.max(0,t-i),Math.min(a.text.length,e-i)):a=a.cut(Math.max(0,t-i-1),Math.min(a.content.size,e-i-1))),n.push(a),o+=a.nodeSize),i=c}return new x(n,o)};x.prototype.cutByIndex=function(t,e){return t==e?x.empty:t==0&&e==this.content.length?this:new x(this.content.slice(t,e))};x.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var o=this.content.slice(),s=this.size+e.nodeSize-n.nodeSize;return o[t]=e,new x(o,s)};x.prototype.addToStart=function(t){return new x([t].concat(this.content),this.size+t.nodeSize)};x.prototype.addToEnd=function(t){return new x(this.content.concat(t),this.size+t.nodeSize)};x.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0};Vn.firstChild.get=function(){return this.content.length?this.content[0]:null};Vn.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Vn.childCount.get=function(){return this.content.length};x.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e};x.prototype.maybeChild=function(t){return this.content[t]};x.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var o=this.content[e];t(o,n,e),n+=o.nodeSize}};x.prototype.findDiffStart=function(t,e){return e===void 0&&(e=0),Sa(this,t,e)};x.prototype.findDiffEnd=function(t,e,n){return e===void 0&&(e=this.size),n===void 0&&(n=t.size),Ma(this,t,e,n)};x.prototype.findIndex=function(t,e){if(e===void 0&&(e=-1),t==0)return Gr(0,t);if(t==this.size)return Gr(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,o=0;;n++){var s=this.child(n),i=o+s.nodeSize;if(i>=t)return i==t||e>0?Gr(n+1,i):Gr(n,o);o=i}};x.prototype.toString=function(){return"<"+this.toStringInner()+">"};x.prototype.toStringInner=function(){return this.content.join(", ")};x.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null};x.fromJSON=function(t,e){if(!e)return x.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new x(e.map(t.nodeFromJSON))};x.fromArray=function(t){if(!t.length)return x.empty;for(var e,n=0,o=0;o<t.length;o++){var s=t[o];n+=s.nodeSize,o&&s.isText&&t[o-1].sameMarkup(s)?(e||(e=t.slice(0,o)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new x(e||t,n)};x.from=function(t){if(!t)return x.empty;if(t instanceof x)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new x([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(x.prototype,Vn);var uo={index:0,offset:0};function Gr(r,t){return uo.index=r,uo.offset=t,uo}x.empty=new x([],0);function nn(r,t){if(r===t)return!0;if(!(r&&typeof r=="object")||!(t&&typeof t=="object"))return!1;var e=Array.isArray(r);if(Array.isArray(t)!=e)return!1;if(e){if(r.length!=t.length)return!1;for(var n=0;n<r.length;n++)if(!nn(r[n],t[n]))return!1}else{for(var o in r)if(!(o in t)||!nn(r[o],t[o]))return!1;for(var s in t)if(!(s in r))return!1}return!0}var z=function(t,e){this.type=t,this.attrs=e};z.prototype.addToSet=function(t){for(var e,n=!1,o=0;o<t.length;o++){var s=t[o];if(this.eq(s))return t;if(this.type.excludes(s.type))e||(e=t.slice(0,o));else{if(s.type.excludes(this.type))return t;!n&&s.type.rank>this.type.rank&&(e||(e=t.slice(0,o)),e.push(this),n=!0),e&&e.push(s)}}return e||(e=t.slice()),n||e.push(this),e};z.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t};z.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1};z.prototype.eq=function(t){return this==t||this.type==t.type&&nn(this.attrs,t.attrs)};z.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t};z.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)};z.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0};z.setFrom=function(t){if(!t||t.length==0)return z.none;if(t instanceof z)return[t];var e=t.slice();return e.sort(function(n,o){return n.type.rank-o.type.rank}),e};z.none=[];function te(r){var t=Error.call(this,r);return t.__proto__=te.prototype,t}te.prototype=Object.create(Error.prototype);te.prototype.constructor=te;te.prototype.name="ReplaceError";var w=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},Ta={size:{configurable:!0}};Ta.size.get=function(){return this.content.size-this.openStart-this.openEnd};w.prototype.insertAt=function(t,e){var n=Fa(this.content,t+this.openStart,e,null);return n&&new w(n,this.openStart,this.openEnd)};w.prototype.removeBetween=function(t,e){return new w(Oa(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)};w.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd};w.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};w.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t};w.fromJSON=function(t,e){if(!e)return w.empty;var n=e.openStart||0,o=e.openEnd||0;if(typeof n!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new w(x.fromJSON(t,e.content),n,o)};w.maxOpen=function(t,e){e===void 0&&(e=!0);for(var n=0,o=0,s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)o++;return new w(t,n,o)};Object.defineProperties(w.prototype,Ta);function Oa(r,t,e){var n=r.findIndex(t),o=n.index,s=n.offset,i=r.maybeChild(o),a=r.findIndex(e),c=a.index,u=a.offset;if(s==t||i.isText){if(u!=e&&!r.child(c).isText)throw new RangeError("Removing non-flat range");return r.cut(0,t).append(r.cut(e))}if(o!=c)throw new RangeError("Removing non-flat range");return r.replaceChild(o,i.copy(Oa(i.content,t-s-1,e-s-1)))}function Fa(r,t,e,n){var o=r.findIndex(t),s=o.index,i=o.offset,a=r.maybeChild(s);if(i==t||a.isText)return n&&!n.canReplace(s,s,e)?null:r.cut(0,t).append(e).append(r.cut(t));var c=Fa(a.content,t-i-1,e);return c&&r.replaceChild(s,a.copy(c))}w.empty=new w(x.empty,0,0);function rl(r,t,e){if(e.openStart>r.depth)throw new te("Inserted content deeper than insertion position");if(r.depth-e.openStart!=t.depth-e.openEnd)throw new te("Inconsistent open depths");return Na(r,t,e,0)}function Na(r,t,e,n){var o=r.index(n),s=r.node(n);if(o==t.index(n)&&n<r.depth-e.openStart){var i=Na(r,t,e,n+1);return s.copy(s.content.replaceChild(o,i))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&r.depth==n&&t.depth==n){var a=r.parent,c=a.content;return Ne(a,c.cut(0,r.parentOffset).append(e.content).append(c.cut(t.parentOffset)))}else{var u=nl(e,r),l=u.start,f=u.end;return Ne(s,Ra(r,l,f,t,n))}else return Ne(s,on(r,t,n))}function Ba(r,t){if(!t.type.compatibleContent(r.type))throw new te("Cannot join "+t.type.name+" onto "+r.type.name)}function jo(r,t,e){var n=r.node(e);return Ba(n,t.node(e)),n}function Fe(r,t){var e=t.length-1;e>=0&&r.isText&&r.sameMarkup(t[e])?t[e]=r.withText(t[e].text+r.text):t.push(r)}function xr(r,t,e,n){var o=(t||r).node(e),s=0,i=t?t.index(e):o.childCount;r&&(s=r.index(e),r.depth>e?s++:r.textOffset&&(Fe(r.nodeAfter,n),s++));for(var a=s;a<i;a++)Fe(o.child(a),n);t&&t.depth==e&&t.textOffset&&Fe(t.nodeBefore,n)}function Ne(r,t){if(!r.type.validContent(t))throw new te("Invalid content for node "+r.type.name);return r.copy(t)}function Ra(r,t,e,n,o){var s=r.depth>o&&jo(r,t,o+1),i=n.depth>o&&jo(e,n,o+1),a=[];return xr(null,r,o,a),s&&i&&t.index(o)==e.index(o)?(Ba(s,i),Fe(Ne(s,Ra(r,t,e,n,o+1)),a)):(s&&Fe(Ne(s,on(r,t,o+1)),a),xr(t,e,o,a),i&&Fe(Ne(i,on(e,n,o+1)),a)),xr(n,null,o,a),new x(a)}function on(r,t,e){var n=[];if(xr(null,r,e,n),r.depth>e){var o=jo(r,t,e+1);Fe(Ne(o,on(r,t,e+1)),n)}return xr(t,null,e,n),new x(n)}function nl(r,t){for(var e=t.depth-r.openStart,n=t.node(e),o=n.copy(r.content),s=e-1;s>=0;s--)o=t.node(s).copy(x.from(o));return{start:o.resolveNoCache(r.openStart+e),end:o.resolveNoCache(o.content.size-r.openEnd-e)}}var Q=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},cr={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Q.prototype.resolveDepth=function(t){return t==null?this.depth:t<0?this.depth+t:t};cr.parent.get=function(){return this.node(this.depth)};cr.doc.get=function(){return this.node(0)};Q.prototype.node=function(t){return this.path[this.resolveDepth(t)*3]};Q.prototype.index=function(t){return this.path[this.resolveDepth(t)*3+1]};Q.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)};Q.prototype.start=function(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1};Q.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size};Q.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]};Q.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize};cr.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};cr.nodeAfter.get=function(){var r=this.parent,t=this.index(this.depth);if(t==r.childCount)return null;var e=this.pos-this.path[this.path.length-1],n=r.child(t);return e?r.child(t).cut(e):n};cr.nodeBefore.get=function(){var r=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(r).cut(0,t):r==0?null:this.parent.child(r-1)};Q.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[e*3],o=e==0?0:this.path[e*3-1]+1,s=0;s<t;s++)o+=n.child(s).nodeSize;return o};Q.prototype.marks=function(){var t=this.parent,e=this.index();if(t.content.size==0)return z.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),o=t.maybeChild(e);if(!n){var s=n;n=o,o=s}for(var i=n.marks,a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!o||!i[a].isInSet(o.marks))&&(i=i[a--].removeFromSet(i));return i};Q.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,o=t.parent.maybeChild(t.index()),s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!o||!n[s].isInSet(o.marks))&&(n=n[s--].removeFromSet(n));return n};Q.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0};Q.prototype.blockRange=function(t,e){if(t===void 0&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Or(this,t,n)};Q.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset};Q.prototype.max=function(t){return t.pos>this.pos?t:this};Q.prototype.min=function(t){return t.pos<this.pos?t:this};Q.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset};Q.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],o=0,s=e,i=t;;){var a=i.content.findIndex(s),c=a.index,u=a.offset,l=s-u;if(n.push(i,c,o+u),!l||(i=i.child(c),i.isText))break;s=l-1,o+=u+1}return new Q(e,n,s)};Q.resolveCached=function(t,e){for(var n=0;n<lo.length;n++){var o=lo[n];if(o.pos==e&&o.doc==t)return o}var s=lo[fo]=Q.resolve(t,e);return fo=(fo+1)%ol,s};Object.defineProperties(Q.prototype,cr);var lo=[],fo=0,ol=12,Or=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},ur={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};ur.start.get=function(){return this.$from.before(this.depth+1)};ur.end.get=function(){return this.$to.after(this.depth+1)};ur.parent.get=function(){return this.$from.node(this.depth)};ur.startIndex.get=function(){return this.$from.index(this.depth)};ur.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(Or.prototype,ur);var sl=Object.create(null),j=function(t,e,n,o){this.type=t,this.attrs=e,this.content=n||x.empty,this.marks=o||z.none},Tt={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Tt.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};Tt.childCount.get=function(){return this.content.childCount};j.prototype.child=function(t){return this.content.child(t)};j.prototype.maybeChild=function(t){return this.content.maybeChild(t)};j.prototype.forEach=function(t){this.content.forEach(t)};j.prototype.nodesBetween=function(t,e,n,o){o===void 0&&(o=0),this.content.nodesBetween(t,e,n,o,this)};j.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)};Tt.textContent.get=function(){return this.textBetween(0,this.content.size,"")};j.prototype.textBetween=function(t,e,n,o){return this.content.textBetween(t,e,n,o)};Tt.firstChild.get=function(){return this.content.firstChild};Tt.lastChild.get=function(){return this.content.lastChild};j.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)};j.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)};j.prototype.hasMarkup=function(t,e,n){return this.type==t&&nn(this.attrs,e||t.defaultAttrs||sl)&&z.sameSet(this.marks,n||z.none)};j.prototype.copy=function(t){return t===void 0&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)};j.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)};j.prototype.cut=function(t,e){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))};j.prototype.slice=function(t,e,n){if(e===void 0&&(e=this.content.size),n===void 0&&(n=!1),t==e)return w.empty;var o=this.resolve(t),s=this.resolve(e),i=n?0:o.sharedDepth(e),a=o.start(i),c=o.node(i),u=c.content.cut(o.pos-a,s.pos-a);return new w(u,o.depth-i,s.depth-i)};j.prototype.replace=function(t,e,n){return rl(this.resolve(t),this.resolve(e),n)};j.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),o=n.index,s=n.offset;if(e=e.maybeChild(o),!e)return null;if(s==t||e.isText)return e;t-=s+1}};j.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,o=e.offset;return{node:this.content.maybeChild(n),index:n,offset:o}};j.prototype.childBefore=function(t){if(t==0)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,o=e.offset;if(o<t)return{node:this.content.child(n),index:n,offset:o};var s=this.content.child(n-1);return{node:s,index:n-1,offset:o-s.nodeSize}};j.prototype.resolve=function(t){return Q.resolveCached(this,t)};j.prototype.resolveNoCache=function(t){return Q.resolve(this,t)};j.prototype.rangeHasMark=function(t,e,n){var o=!1;return e>t&&this.nodesBetween(t,e,function(s){return n.isInSet(s.marks)&&(o=!0),!o}),o};Tt.isBlock.get=function(){return this.type.isBlock};Tt.isTextblock.get=function(){return this.type.isTextblock};Tt.inlineContent.get=function(){return this.type.inlineContent};Tt.isInline.get=function(){return this.type.isInline};Tt.isText.get=function(){return this.type.isText};Tt.isLeaf.get=function(){return this.type.isLeaf};Tt.isAtom.get=function(){return this.type.isAtom};j.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),La(this.marks,t)};j.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e};j.prototype.canReplace=function(t,e,n,o,s){n===void 0&&(n=x.empty),o===void 0&&(o=0),s===void 0&&(s=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,o,s),a=i&&i.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var c=o;c<s;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0};j.prototype.canReplaceWith=function(t,e,n,o){if(o&&!this.type.allowsMarks(o))return!1;var s=this.contentMatchAt(t).matchType(n),i=s&&s.matchFragment(this.content,e);return i?i.validEnd:!1};j.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)};j.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=z.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!z.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(n){return n.type.name}));this.content.forEach(function(n){return n.check()})};j.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(n){return n.toJSON()})),t};j.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var o=x.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,o,n)};Object.defineProperties(j.prototype,Tt);var il=function(r){function t(n,o,s,i){if(r.call(this,n,o,null,i),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):La(this.marks,JSON.stringify(this.text))},e.textContent.get=function(){return this.text},t.prototype.textBetween=function(o,s){return this.text.slice(o,s)},e.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(o){return o==this.marks?this:new t(this.type,this.attrs,this.text,o)},t.prototype.withText=function(o){return o==this.text?this:new t(this.type,this.attrs,o,this.marks)},t.prototype.cut=function(o,s){return o===void 0&&(o=0),s===void 0&&(s=this.text.length),o==0&&s==this.text.length?this:this.withText(this.text.slice(o,s))},t.prototype.eq=function(o){return this.sameMarkup(o)&&this.text==o.text},t.prototype.toJSON=function(){var o=r.prototype.toJSON.call(this);return o.text=this.text,o},Object.defineProperties(t.prototype,e),t}(j);function La(r,t){for(var e=r.length-1;e>=0;e--)t=r[e].type.name+"("+t+")";return t}var gt=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Hn={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};gt.parse=function(t,e){var n=new jn(t,e);if(n.next==null)return gt.empty;var o=Pa(n);n.next&&n.err("Unexpected trailing text");var s=hl(pl(o));return dl(s,n),s};gt.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null};gt.prototype.matchFragment=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=t.childCount);for(var o=this,s=e;o&&s<n;s++)o=o.matchType(t.child(s).type);return o};Hn.inlineContent.get=function(){var r=this.next[0];return r?r.isInline:!1};Hn.defaultType.get=function(){for(var r=0;r<this.next.length;r+=2){var t=this.next[r];if(!(t.isText||t.hasRequiredAttrs()))return t}};gt.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1};gt.prototype.fillBefore=function(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=0);var o=[this];function s(i,a){var c=i.matchFragment(t,n);if(c&&(!e||c.validEnd))return x.from(a.map(function(h){return h.createAndFill()}));for(var u=0;u<i.next.length;u+=2){var l=i.next[u],f=i.next[u+1];if(!(l.isText||l.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);var p=s(f,a.concat(l));if(p)return p}}}return s(this,[])};gt.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n};gt.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var o=n.shift(),s=o.match;if(s.matchType(t)){for(var i=[],a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var c=0;c<s.next.length;c+=2){var u=s.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in e)&&(!o.type||s.next[c+1].validEnd)&&(n.push({match:u.contentMatch,type:u,via:o}),e[u.name]=!0)}}};Hn.edgeCount.get=function(){return this.next.length>>1};gt.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}};gt.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var o=1;o<n.next.length;o+=2)t.indexOf(n.next[o])==-1&&e(n.next[o])}return e(this),t.map(function(n,o){for(var s=o+(n.validEnd?"*":" ")+" ",i=0;i<n.next.length;i+=2)s+=(i?", ":"")+n.next[i].name+"->"+t.indexOf(n.next[i+1]);return s}).join(`
`)};Object.defineProperties(gt.prototype,Hn);gt.empty=new gt(!0);var jn=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},Ia={next:{configurable:!0}};Ia.next.get=function(){return this.tokens[this.pos]};jn.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)};jn.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")};Object.defineProperties(jn.prototype,Ia);function Pa(r){var t=[];do t.push(al(r));while(r.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function al(r){var t=[];do t.push(cl(r));while(r.next&&r.next!=")"&&r.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function cl(r){for(var t=fl(r);;)if(r.eat("+"))t={type:"plus",expr:t};else if(r.eat("*"))t={type:"star",expr:t};else if(r.eat("?"))t={type:"opt",expr:t};else if(r.eat("{"))t=ul(r,t);else break;return t}function Ys(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");var t=Number(r.next);return r.pos++,t}function ul(r,t){var e=Ys(r),n=e;return r.eat(",")&&(r.next!="}"?n=Ys(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function ll(r,t){var e=r.nodeTypes,n=e[t];if(n)return[n];var o=[];for(var s in e){var i=e[s];i.groups.indexOf(t)>-1&&o.push(i)}return o.length==0&&r.err("No node type or group '"+t+"' found"),o}function fl(r){if(r.eat("(")){var t=Pa(r);return r.eat(")")||r.err("Missing closing paren"),t}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{var e=ll(r,r.next).map(function(n){return r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}});return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function pl(r){var t=[[]];return o(s(r,0),e()),t;function e(){return t.push([])-1}function n(i,a,c){var u={term:c,to:a};return t[i].push(u),u}function o(i,a){i.forEach(function(c){return c.to=a})}function s(i,a){if(i.type=="choice")return i.exprs.reduce(function(y,g){return y.concat(s(g,a))},[]);if(i.type=="seq")for(var c=0;;c++){var u=s(i.exprs[c],a);if(c==i.exprs.length-1)return u;o(u,a=e())}else if(i.type=="star"){var l=e();return n(a,l),o(s(i.expr,l),l),[n(l)]}else if(i.type=="plus"){var f=e();return o(s(i.expr,a),f),o(s(i.expr,f),f),[n(f)]}else{if(i.type=="opt")return[n(a)].concat(s(i.expr,a));if(i.type=="range"){for(var p=a,h=0;h<i.min;h++){var d=e();o(s(i.expr,p),d),p=d}if(i.max==-1)o(s(i.expr,p),p);else for(var m=i.min;m<i.max;m++){var v=e();n(p,v),o(s(i.expr,p),v),p=v}return[n(p)]}else if(i.type=="name")return[n(a,null,i.value)]}}}function qa(r,t){return t-r}function Qs(r,t){var e=[];return n(t),e.sort(qa);function n(o){var s=r[o];if(s.length==1&&!s[0].term)return n(s[0].to);e.push(o);for(var i=0;i<s.length;i++){var a=s[i],c=a.term,u=a.to;!c&&e.indexOf(u)==-1&&n(u)}}}function hl(r){var t=Object.create(null);return e(Qs(r,0));function e(n){var o=[];n.forEach(function(c){r[c].forEach(function(u){var l=u.term,f=u.to;if(!!l){var p=o.indexOf(l),h=p>-1&&o[p+1];Qs(r,f).forEach(function(d){h||o.push(l,h=[]),h.indexOf(d)==-1&&h.push(d)})}})});for(var s=t[n.join(",")]=new gt(n.indexOf(r.length-1)>-1),i=0;i<o.length;i+=2){var a=o[i+1].sort(qa);s.next.push(o[i],t[a.join(",")]||e(a))}return s}}function dl(r,t){for(var e=0,n=[r];e<n.length;e++){for(var o=n[e],s=!o.validEnd,i=[],a=0;a<o.next.length;a+=2){var c=o.next[a],u=o.next[a+1];i.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),n.indexOf(u)==-1&&n.push(u)}s&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function za(r){var t=Object.create(null);for(var e in r){var n=r[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function Va(r,t){var e=Object.create(null);for(var n in r){var o=t&&t[n];if(o===void 0){var s=r[n];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=o}return e}function Ha(r){var t=Object.create(null);if(r)for(var e in r)t[e]=new ja(r[e]);return t}var At=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Ha(n.attrs),this.defaultAttrs=za(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"},lr={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};lr.isInline.get=function(){return!this.isBlock};lr.isTextblock.get=function(){return this.isBlock&&this.inlineContent};lr.isLeaf.get=function(){return this.contentMatch==gt.empty};lr.isAtom.get=function(){return this.isLeaf||this.spec.atom};lr.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};At.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1};At.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)};At.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:Va(this.attrs,t)};At.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new j(this,this.computeAttrs(t),x.from(e),z.setFrom(n))};At.prototype.createChecked=function(t,e,n){if(e=x.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new j(this,this.computeAttrs(t),e,z.setFrom(n))};At.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=x.from(e),e.size){var o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}var s=this.contentMatch.matchFragment(e).fillBefore(x.empty,!0);return s?new j(this,t,e.append(s),z.setFrom(n)):null};At.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0};At.prototype.allowsMarkType=function(t){return this.markSet==null||this.markSet.indexOf(t)>-1};At.prototype.allowsMarks=function(t){if(this.markSet==null)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0};At.prototype.allowedMarks=function(t){if(this.markSet==null)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:z.empty:t};At.compile=function(t,e){var n=Object.create(null);t.forEach(function(i,a){return n[i]=new At(i,e,a)});var o=e.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n};Object.defineProperties(At.prototype,lr);var ja=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Ua={isRequired:{configurable:!0}};Ua.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(ja.prototype,Ua);var be=function(t,e,n,o){this.name=t,this.schema=n,this.spec=o,this.attrs=Ha(o.attrs),this.rank=e,this.excluded=null;var s=za(this.attrs);this.instance=s&&new z(this,s)};be.prototype.create=function(t){return!t&&this.instance?this.instance:new z(this,Va(this.attrs,t))};be.compile=function(t,e){var n=Object.create(null),o=0;return t.forEach(function(s,i){return n[s]=new be(s,o++,e,i)}),n};be.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t};be.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]};be.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var xe=function(t){this.spec={};for(var e in t)this.spec[e]=t[e];this.spec.nodes=Zs.from(t.nodes),this.spec.marks=Zs.from(t.marks),this.nodes=At.compile(this.spec.nodes,this),this.marks=be.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var s=this.nodes[o],i=s.spec.content||"",a=s.spec.marks;s.contentMatch=n[i]||(n[i]=gt.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=a=="_"?null:a?Xs(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=l==null?[u]:l==""?[]:Xs(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};xe.prototype.node=function(t,e,n,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof At){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,o)};xe.prototype.text=function(t,e){var n=this.nodes.text;return new il(n,n.defaultAttrs,t,z.setFrom(e))};xe.prototype.mark=function(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)};xe.prototype.nodeFromJSON=function(t){return j.fromJSON(this,t)};xe.prototype.markFromJSON=function(t){return z.fromJSON(this,t)};xe.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};function Xs(r,t){for(var e=[],n=0;n<t.length;n++){var o=t[n],s=r.marks[o],i=s;if(s)e.push(s);else for(var a in r.marks){var c=r.marks[a];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&e.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}var jt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(o){o.tag?n.tags.push(o):o.style&&n.styles.push(o)}),this.normalizeLists=!this.tags.some(function(o){if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;var s=t.nodes[o.node];return s.contentMatch.matchType(s)})};jt.prototype.parse=function(t,e){e===void 0&&(e={});var n=new Y(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()};jt.prototype.parseSlice=function(t,e){e===void 0&&(e={});var n=new Y(this,e,!0);return n.addAll(t,null,e.from,e.to),w.maxOpen(n.finish())};jt.prototype.matchTag=function(t,e,n){for(var o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){var s=this.tags[o];if(vl(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){var i=s.getAttrs(t);if(i===!1)continue;s.attrs=i}return s}}};jt.prototype.matchStyle=function(t,e,n,o){for(var s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){var i=this.styles[s];if(!(i.style.indexOf(t)!=0||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(i.style.charCodeAt(t.length)!=61||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var a=i.getAttrs(e);if(a===!1)continue;i.attrs=a}return i}}};jt.schemaRules=function(t){var e=[];function n(c){for(var u=c.priority==null?50:c.priority,l=0;l<e.length;l++){var f=e[l],p=f.priority==null?50:f.priority;if(p<u)break}e.splice(l,0,c)}var o=function(c){var u=t.marks[c].spec.parseDOM;u&&u.forEach(function(l){n(l=ti(l)),l.mark=c})};for(var s in t.marks)o(s);var i=function(c){var u=t.nodes[a].spec.parseDOM;u&&u.forEach(function(l){n(l=ti(l)),l.node=a})};for(var a in t.nodes)i();return e};jt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new jt(t,jt.schemaRules(t)))};var ls={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ml={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ka={ol:!0,ul:!0},sn=1,an=2,Fr=4;function Wa(r,t,e){return t!=null?(t?sn:0)|(t==="full"?an:0):r&&r.whitespace=="pre"?sn|an:e&~Fr}var ue=function(t,e,n,o,s,i,a){this.type=t,this.attrs=e,this.solid=s,this.match=i||(a&Fr?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=z.none,this.pendingMarks=o,this.stashMarks=[]};ue.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(x.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{var n=this.type.contentMatch,o;return(o=n.findWrapping(t.type))?(this.match=n,o):null}}return this.match.findWrapping(t.type)};ue.prototype.finish=function(t){if(!(this.options&sn)){var e=this.content[this.content.length-1],n;e&&e.isText&&(n=/[ \t\r\n\u000c]+$/.exec(e.text))&&(e.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=e.withText(e.text.slice(0,e.text.length-n[0].length)))}var o=x.from(this.content);return!t&&this.match&&(o=o.append(this.match.fillBefore(x.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};ue.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]};ue.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var o=n[e];(this.type?this.type.allowsMarkType(o.type):bl(o.type,t))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};ue.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ls.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var Y=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var o=e.topNode,s,i=Wa(null,e.preserveWhitespace,0)|(n?Fr:0);o?s=new ue(o.type,o.attrs,z.none,z.none,!0,e.topMatch||o.type.contentMatch,i):n?s=new ue(null,null,z.none,z.none,!0,null,i):s=new ue(t.schema.topNodeType,null,z.none,z.none,!0,null,i),this.nodes=[s],this.open=0,this.find=e.findPositions,this.needsBlock=!1},fs={top:{configurable:!0},currentPos:{configurable:!0}};fs.top.get=function(){return this.nodes[this.open]};Y.prototype.addDOM=function(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){var e=t.getAttribute("style"),n=e?this.readStyles(yl(e)):null,o=this.top;if(n!=null)for(var s=0;s<n.length;s++)this.addPendingMark(n[s]);if(this.addElement(t),n!=null)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],o)}};Y.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(n.options&an||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&sn)n.options&an?e=e.replace(/\r\n?/g,`
`):e=e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var o=n.content[n.content.length-1],s=t.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)};Y.prototype.addElement=function(t,e){var n=t.nodeName.toLowerCase(),o;Ka.hasOwnProperty(n)&&this.parser.normalizeLists&&gl(t);var s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,e));if(s?s.ignore:ml.hasOwnProperty(n))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);var i,a=this.top,c=this.needsBlock;if(ls.hasOwnProperty(n))i=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),i&&this.sync(a),this.needsBlock=c}else this.addElementByRule(t,s,s.consuming===!1?o:null)};Y.prototype.leafFallback=function(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))};Y.prototype.ignoreFallback=function(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};Y.prototype.readStyles=function(t){var e=z.none;t:for(var n=0;n<t.length;n+=2)for(var o=null;;){var s=this.parser.matchStyle(t[n],t[n+1],this,o);if(!s)continue t;if(s.ignore)return null;if(e=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(e),s.consuming===!1)o=s;else break}return e};Y.prototype.addElementByRule=function(t,e,n){var o=this,s,i,a,c;e.node?(i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):s=this.enter(i,e.attrs,e.preserveWhitespace)):(a=this.parser.schema.marks[e.mark],c=a.create(e.attrs),this.addPendingMark(c));var u=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(f){return o.insertNode(f)});else{var l=e.contentElement;typeof l=="string"?l=t.querySelector(l):typeof l=="function"&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,s)}s&&(this.sync(u),this.open--),c&&this.removePendingMark(c,u)};Y.prototype.addAll=function(t,e,n,o){for(var s=n||0,i=n?t.childNodes[n]:t.firstChild,a=o==null?null:t.childNodes[o];i!=a;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i),e&&ls.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,s)};Y.prototype.findPlace=function(t){for(var e,n,o=this.open;o>=0;o--){var s=this.nodes[o],i=s.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=s,!i.length)||s.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0};Y.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var o=n.activeMarks,s=0;s<t.marks.length;s++)(!n.type||n.type.allowsMarkType(t.marks[s].type))&&(o=t.marks[s].addToSet(o));return n.content.push(t.mark(o)),!0}return!1};Y.prototype.enter=function(t,e,n){var o=this.findPlace(t.create(e));return o&&this.enterInner(t,e,!0,n),o};Y.prototype.enterInner=function(t,e,n,o){this.closeExtra();var s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t,e);var i=Wa(t,o,s.options);s.options&Fr&&s.content.length==0&&(i|=Fr),this.nodes.push(new ue(t,e,s.activeMarks,s.pendingMarks,n,null,i)),this.open++};Y.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}};Y.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};Y.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t){this.open=e;return}};fs.currentPos.get=function(){this.closeExtra();for(var r=0,t=this.open;t>=0;t--){for(var e=this.nodes[t].content,n=e.length-1;n>=0;n--)r+=e[n].nodeSize;t&&r++}return r};Y.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)};Y.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)};Y.prototype.findAround=function(t,e,n){if(t!=e&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)){var s=e.compareDocumentPosition(this.find[o].node);s&(n?2:4)&&(this.find[o].pos=this.currentPos)}}};Y.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))};Y.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),o=this.options.context,s=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),i=-(o?o.depth+1:0)+(s?0:1),a=function(c,u){for(;c>=0;c--){var l=n[c];if(l==""){if(c==n.length-1||c==0)continue;for(;u>=i;u--)if(a(c-1,u))return!0;return!1}else{var f=u>0||u==0&&s?e.nodes[u].type:o&&u>=i?o.node(u-i).type:null;if(!f||f.name!=l&&f.groups.indexOf(l)==-1)return!1;u--}}return!0};return a(n.length-1,this.open)};Y.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var o in this.parser.schema.nodes){var s=this.parser.schema.nodes[o];if(s.isTextblock&&s.defaultAttrs)return s}};Y.prototype.addPendingMark=function(t){var e=kl(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)};Y.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var o=this.nodes[n],s=o.pendingMarks.lastIndexOf(t);if(s>-1)o.pendingMarks=t.removeFromSet(o.pendingMarks);else{o.activeMarks=t.removeFromSet(o.activeMarks);var i=o.popFromStashMark(t);i&&o.type&&o.type.allowsMarkType(i.type)&&(o.activeMarks=i.addToSet(o.activeMarks))}if(o==e)break}};Object.defineProperties(Y.prototype,fs);function gl(r){for(var t=r.firstChild,e=null;t;t=t.nextSibling){var n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&Ka.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function vl(r,t){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,t)}function yl(r){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,e,n=[];e=t.exec(r);)n.push(e[1],e[2].trim());return n}function ti(r){var t={};for(var e in r)t[e]=r[e];return t}function bl(r,t){var e=t.schema.nodes,n=function(i){var a=e[i];if(!!a.allowsMarkType(r)){var c=[],u=function(l){c.push(l);for(var f=0;f<l.edgeCount;f++){var p=l.edge(f),h=p.type,d=p.next;if(h==t||c.indexOf(d)<0&&u(d))return!0}};if(u(a.contentMatch))return{v:!0}}};for(var o in e){var s=n(o);if(s)return s.v}}function kl(r,t){for(var e=0;e<t.length;e++)if(r.eq(t[e]))return t[e]}var ct=function(t,e){this.nodes=t||{},this.marks=e||{}};ct.prototype.serializeFragment=function(t,e,n){var o=this;e===void 0&&(e={}),n||(n=ps(e).createDocumentFragment());var s=n,i=null;return t.forEach(function(a){if(i||a.marks.length){i||(i=[]);for(var c=0,u=0;c<i.length&&u<a.marks.length;){var l=a.marks[u];if(!o.marks[l.type.name]){u++;continue}if(!l.eq(i[c])||l.type.spec.spanning===!1)break;c+=2,u++}for(;c<i.length;)s=i.pop(),i.pop();for(;u<a.marks.length;){var f=a.marks[u++],p=o.serializeMark(f,a.isInline,e);p&&(i.push(f,s),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(o.serializeNodeInner(a,e))}),n};ct.prototype.serializeNodeInner=function(t,e){e===void 0&&(e={});var n=ct.renderSpec(ps(e),this.nodes[t.type.name](t)),o=n.dom,s=n.contentDOM;if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,s,e):this.serializeFragment(t.content,e,s)}return o};ct.prototype.serializeNode=function(t,e){e===void 0&&(e={});for(var n=this.serializeNodeInner(t,e),o=t.marks.length-1;o>=0;o--){var s=this.serializeMark(t.marks[o],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n};ct.prototype.serializeMark=function(t,e,n){n===void 0&&(n={});var o=this.marks[t.type.name];return o&&ct.renderSpec(ps(n),o(t,e))};ct.renderSpec=function(t,e,n){if(n===void 0&&(n=null),typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;var o=e[0],s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));var i=null,a=n?t.createElementNS(n,o):t.createElement(o),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(var l in c)if(c[l]!=null){var f=l.indexOf(" ");f>0?a.setAttributeNS(l.slice(0,f),l.slice(f+1),c[l]):a.setAttribute(l,c[l])}}for(var p=u;p<e.length;p++){var h=e[p];if(h===0){if(p<e.length-1||p>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{var d=ct.renderSpec(t,h,n),m=d.dom,v=d.contentDOM;if(a.appendChild(m),v){if(i)throw new RangeError("Multiple content holes");i=v}}}return{dom:a,contentDOM:i}};ct.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new ct(this.nodesFromSchema(t),this.marksFromSchema(t)))};ct.nodesFromSchema=function(t){var e=Ja(t.nodes);return e.text||(e.text=function(n){return n.text}),e};ct.marksFromSchema=function(t){return Ja(t.marks)};function Ja(r){var t={};for(var e in r){var n=r[e].spec.toDOM;n&&(t[e]=n)}return t}function ps(r){return r.document||window.document}var $a=65535,Ga=Math.pow(2,16);function Dl(r,t){return r+t*Ga}function Za(r){return r&$a}function Cl(r){return(r-(r&$a))/Ga}var Uo=function(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=null),this.pos=t,this.deleted=e,this.recover=n},it=function(t,e){e===void 0&&(e=!1),this.ranges=t,this.inverted=e};it.prototype.recover=function(t){var e=0,n=Za(t);if(!this.inverted)for(var o=0;o<n;o++)e+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[n*3]+e+Cl(t)};it.prototype.mapResult=function(t,e){return e===void 0&&(e=1),this._map(t,e,!1)};it.prototype.map=function(t,e){return e===void 0&&(e=1),this._map(t,e,!0)};it.prototype._map=function(t,e,n){for(var o=0,s=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?o:0);if(c>t)break;var u=this.ranges[a+s],l=this.ranges[a+i],f=c+u;if(t<=f){var p=u?t==c?-1:t==f?1:e:e,h=c+o+(p<0?0:l);if(n)return h;var d=t==(e<0?c:f)?null:Dl(a/3,t-c);return new Uo(h,e<0?t!=c:t!=f,d)}o+=l-u}return n?t+o:new Uo(t+o)};it.prototype.touches=function(t,e){for(var n=0,o=Za(e),s=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?n:0);if(c>t)break;var u=this.ranges[a+s],l=c+u;if(t<=l&&a==o*3)return!0;n+=this.ranges[a+i]-u}return!1};it.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,o=0,s=0;o<this.ranges.length;o+=3){var i=this.ranges[o],a=i-(this.inverted?s:0),c=i+(this.inverted?0:s),u=this.ranges[o+e],l=this.ranges[o+n];t(a,a+u,c,c+l),s+=l-u}};it.prototype.invert=function(){return new it(this.ranges,!this.inverted)};it.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};it.offset=function(t){return t==0?it.empty:new it(t<0?[0,-t,0]:[0,0,t])};it.empty=new it([]);var vt=function(t,e,n,o){this.maps=t||[],this.from=n||0,this.to=o==null?this.maps.length:o,this.mirror=e};vt.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.maps.length),new vt(this.maps,this.mirror,t,e)};vt.prototype.copy=function(){return new vt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};vt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)};vt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var o=t.getMirror(e);this.appendMap(t.maps[e],o!=null&&o<e?n+o:null)}};vt.prototype.getMirror=function(t){if(this.mirror){for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}};vt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)};vt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var o=t.getMirror(e);this.appendMap(t.maps[e].invert(),o!=null&&o>e?n-o-1:null)}};vt.prototype.invert=function(){var t=new vt;return t.appendMappingInverted(this),t};vt.prototype.map=function(t,e){if(e===void 0&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t};vt.prototype.mapResult=function(t,e){return e===void 0&&(e=1),this._map(t,e,!1)};vt.prototype._map=function(t,e,n){for(var o=!1,s=this.from;s<this.to;s++){var i=this.maps[s],a=i.mapResult(t,e);if(a.recover!=null){var c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,t=this.maps[c].recover(a.recover);continue}}a.deleted&&(o=!0),t=a.pos}return n?t:new Uo(t,o)};function rr(r){var t=Error.call(this,r);return t.__proto__=rr.prototype,t}rr.prototype=Object.create(Error.prototype);rr.prototype.constructor=rr;rr.prototype.name="TransformError";var X=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new vt},hs={before:{configurable:!0},docChanged:{configurable:!0}};hs.before.get=function(){return this.docs.length?this.docs[0]:this.doc};X.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new rr(e.failed);return this};X.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e};hs.docChanged.get=function(){return this.steps.length>0};X.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e};Object.defineProperties(X.prototype,hs);function Un(){throw new Error("Override me")}var Ko=Object.create(null),kt=function(){};kt.prototype.apply=function(t){return Un()};kt.prototype.getMap=function(){return it.empty};kt.prototype.invert=function(t){return Un()};kt.prototype.map=function(t){return Un()};kt.prototype.merge=function(t){return null};kt.prototype.toJSON=function(){return Un()};kt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ko[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)};kt.jsonID=function(t,e){if(t in Ko)throw new RangeError("Duplicate use of step JSON ID "+t);return Ko[t]=e,e.prototype.jsonID=t,e};var xt=function(t,e){this.doc=t,this.failed=e};xt.ok=function(t){return new xt(t,null)};xt.fail=function(t){return new xt(null,t)};xt.fromReplace=function(t,e,n,o){try{return xt.ok(t.replace(e,n,o))}catch(s){if(s instanceof te)return xt.fail(s.message);throw s}};var fe=function(r){function t(e,n,o,s){r.call(this),this.from=e,this.to=n,this.slice=o,this.structure=!!s}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){return this.structure&&Wo(n,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(n,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new it([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(n){return new t(this.from,this.from+this.slice.size,n.slice(this.from,this.to))},t.prototype.map=function(n){var o=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return o.deleted&&s.deleted?null:new t(o.pos,Math.max(o.pos,s.pos),this.slice)},t.prototype.merge=function(n){if(!(n instanceof t)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){var o=this.slice.size+n.slice.size==0?w.empty:new w(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new t(this.from,this.to+(n.to-n.from),o,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){var s=this.slice.size+n.slice.size==0?w.empty:new w(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new t(n.from,this.to,s,this.structure)}else return null},t.prototype.toJSON=function(){var n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},t.fromJSON=function(n,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(o.from,o.to,w.fromJSON(n,o.slice),!!o.structure)},t}(kt);kt.jsonID("replace",fe);var _t=function(r){function t(e,n,o,s,i,a,c){r.call(this),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=s,this.slice=i,this.insert=a,this.structure=!!c}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){if(this.structure&&(Wo(n,this.from,this.gapFrom)||Wo(n,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");var o=n.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return xt.fail("Gap is not a flat range");var s=this.slice.insertAt(this.insert,o.content);return s?xt.fromReplace(n,this.from,this.to,s):xt.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new it([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(n){var o=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(n){var o=n.mapResult(this.from,1),s=n.mapResult(this.to,-1),i=n.map(this.gapFrom,-1),a=n.map(this.gapTo,1);return o.deleted&&s.deleted||i<o.pos||a>s.pos?null:new t(o.pos,s.pos,i,a,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},t.fromJSON=function(n,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(o.from,o.to,o.gapFrom,o.gapTo,w.fromJSON(n,o.slice),o.insert,!!o.structure)},t}(kt);kt.jsonID("replaceAround",_t);function Wo(r,t,e){for(var n=r.resolve(t),o=e-t,s=n.depth;o>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,o--;if(o>0)for(var i=n.node(s).maybeChild(n.indexAfter(s));o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}return!1}function xl(r,t,e){return(t==0||r.canReplace(t,r.childCount))&&(e==r.childCount||r.canReplace(0,e))}function fr(r){for(var t=r.parent,e=t.content.cutByIndex(r.startIndex,r.endIndex),n=r.depth;;--n){var o=r.$from.node(n),s=r.$from.index(n),i=r.$to.indexAfter(n);if(n<r.depth&&o.canReplace(s,i,e))return n;if(n==0||o.type.spec.isolating||!xl(o,s,i))break}}X.prototype.lift=function(r,t){for(var e=r.$from,n=r.$to,o=r.depth,s=e.before(o+1),i=n.after(o+1),a=s,c=i,u=x.empty,l=0,f=o,p=!1;f>t;f--)p||e.index(f)>0?(p=!0,u=x.from(e.node(f).copy(u)),l++):a--;for(var h=x.empty,d=0,m=o,v=!1;m>t;m--)v||n.after(m+1)<n.end(m)?(v=!0,h=x.from(n.node(m).copy(h)),d++):c++;return this.step(new _t(a,c,s,i,new w(u.append(h),l,d),u.size-l,!0))};function ds(r,t,e,n){n===void 0&&(n=r);var o=Al(r,t),s=o&&El(n,t);return s?o.map(ei).concat({type:t,attrs:e}).concat(s.map(ei)):null}function ei(r){return{type:r,attrs:null}}function Al(r,t){var e=r.parent,n=r.startIndex,o=r.endIndex,s=e.contentMatchAt(n).findWrapping(t);if(!s)return null;var i=s.length?s[0]:t;return e.canReplaceWith(n,o,i)?s:null}function El(r,t){var e=r.parent,n=r.startIndex,o=r.endIndex,s=e.child(n),i=t.contentMatch.findWrapping(s.type);if(!i)return null;for(var a=i.length?i[i.length-1]:t,c=a.contentMatch,u=n;c&&u<o;u++)c=c.matchType(e.child(u).type);return!c||!c.validEnd?null:i}X.prototype.wrap=function(r,t){for(var e=x.empty,n=t.length-1;n>=0;n--)e=x.from(t[n].type.create(t[n].attrs,e));var o=r.start,s=r.end;return this.step(new _t(o,s,o,s,new w(e,0,0),t.length,!0))};X.prototype.setBlockType=function(r,t,e,n){var o=this;if(t===void 0&&(t=r),!e.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(r,t,function(i,a){if(i.isTextblock&&!i.hasMarkup(e,n)&&_l(o.doc,o.mapping.slice(s).map(a),e)){o.clearIncompatible(o.mapping.slice(s).map(a,1),e);var c=o.mapping.slice(s),u=c.map(a,1),l=c.map(a+i.nodeSize,1);return o.step(new _t(u,l,u+1,l-1,new w(x.from(e.create(n,null,i.marks)),0,0),1,!0)),!1}}),this};function _l(r,t,e){var n=r.resolve(t),o=n.index();return n.parent.canReplaceWith(o,o+1,e)}X.prototype.setNodeMarkup=function(r,t,e,n){var o=this.doc.nodeAt(r);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var s=t.create(e,null,n||o.marks);if(o.isLeaf)return this.replaceWith(r,r+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new _t(r,r+o.nodeSize,r+1,r+o.nodeSize-1,new w(x.from(s),0,0),1,!0))};function Qe(r,t,e,n){e===void 0&&(e=1);var o=r.resolve(t),s=o.depth-e,i=n&&n[n.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=e-2;a>s;a--,c--){var u=o.node(a),l=o.index(a);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(l,u.childCount),p=n&&n[c]||u;if(p!=u&&(f=f.replaceChild(0,p.type.create(p.attrs))),!u.canReplace(l+1,u.childCount)||!p.type.validContent(f))return!1}var h=o.indexAfter(s),d=n&&n[0];return o.node(s).canReplaceWith(h,h,d?d.type:o.node(s+1).type)}X.prototype.split=function(r,t,e){t===void 0&&(t=1);for(var n=this.doc.resolve(r),o=x.empty,s=x.empty,i=n.depth,a=n.depth-t,c=t-1;i>a;i--,c--){o=x.from(n.node(i).copy(o));var u=e&&e[c];s=x.from(u?u.type.create(u.attrs,s):n.node(i).copy(s))}return this.step(new fe(r,r,new w(o.append(s),t,t),!0))};function Hr(r,t){var e=r.resolve(t),n=e.index();return wl(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function wl(r,t){return r&&t&&!r.isLeaf&&r.canAppend(t)}X.prototype.join=function(r,t){t===void 0&&(t=1);var e=new fe(r-t,r+t,w.empty,!0);return this.step(e)};function Sl(r,t,e){var n=r.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(var o=n.depth-1;o>=0;o--){var s=n.index(o);if(n.node(o).canReplaceWith(s,s,e))return n.before(o+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(var i=n.depth-1;i>=0;i--){var a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,e))return n.after(i+1);if(a<n.node(i).childCount)return null}}function Ya(r,t,e){var n=r.resolve(t);if(!e.content.size)return t;for(var o=e.content,s=0;s<e.openStart;s++)o=o.firstChild.content;for(var i=1;i<=(e.openStart==0&&e.size?2:1);i++)for(var a=n.depth;a>=0;a--){var c=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,u=n.index(a)+(c>0?1:0),l=n.node(a),f=!1;if(i==1)f=l.canReplace(u,u,o);else{var p=l.contentMatchAt(u).findWrapping(o.firstChild.type);f=p&&l.canReplaceWith(u,u,p[0])}if(f)return c==0?n.pos:c<0?n.before(a+1):n.after(a+1)}return null}function ms(r,t,e){for(var n=[],o=0;o<r.childCount;o++){var s=r.child(o);s.content.size&&(s=s.copy(ms(s.content,t,s))),s.isInline&&(s=t(s,e,o)),n.push(s)}return x.fromArray(n)}var gs=function(r){function t(e,n,o){r.call(this),this.from=e,this.to=n,this.mark=o}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){var o=this,s=n.slice(this.from,this.to),i=n.resolve(this.from),a=i.node(i.sharedDepth(this.to)),c=new w(ms(s.content,function(u,l){return!u.isAtom||!l.type.allowsMarkType(o.mark.type)?u:u.mark(o.mark.addToSet(u.marks))},a),s.openStart,s.openEnd);return xt.fromReplace(n,this.from,this.to,c)},t.prototype.invert=function(){return new jr(this.from,this.to,this.mark)},t.prototype.map=function(n){var o=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return o.deleted&&s.deleted||o.pos>=s.pos?null:new t(o.pos,s.pos,this.mark)},t.prototype.merge=function(n){if(n instanceof t&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new t(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(n,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(o.from,o.to,n.markFromJSON(o.mark))},t}(kt);kt.jsonID("addMark",gs);var jr=function(r){function t(e,n,o){r.call(this),this.from=e,this.to=n,this.mark=o}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){var o=this,s=n.slice(this.from,this.to),i=new w(ms(s.content,function(a){return a.mark(o.mark.removeFromSet(a.marks))}),s.openStart,s.openEnd);return xt.fromReplace(n,this.from,this.to,i)},t.prototype.invert=function(){return new gs(this.from,this.to,this.mark)},t.prototype.map=function(n){var o=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return o.deleted&&s.deleted||o.pos>=s.pos?null:new t(o.pos,s.pos,this.mark)},t.prototype.merge=function(n){if(n instanceof t&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new t(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(n,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(o.from,o.to,n.markFromJSON(o.mark))},t}(kt);kt.jsonID("removeMark",jr);X.prototype.addMark=function(r,t,e){var n=this,o=[],s=[],i=null,a=null;return this.doc.nodesBetween(r,t,function(c,u,l){if(!!c.isInline){var f=c.marks;if(!e.isInSet(f)&&l.type.allowsMarkType(e.type)){for(var p=Math.max(u,r),h=Math.min(u+c.nodeSize,t),d=e.addToSet(f),m=0;m<f.length;m++)f[m].isInSet(d)||(i&&i.to==p&&i.mark.eq(f[m])?i.to=h:o.push(i=new jr(p,h,f[m])));a&&a.to==p?a.to=h:s.push(a=new gs(p,h,e))}}}),o.forEach(function(c){return n.step(c)}),s.forEach(function(c){return n.step(c)}),this};X.prototype.removeMark=function(r,t,e){var n=this;e===void 0&&(e=null);var o=[],s=0;return this.doc.nodesBetween(r,t,function(i,a){if(!!i.isInline){s++;var c=null;if(e instanceof be)for(var u=i.marks,l;l=e.isInSet(u);)(c||(c=[])).push(l),u=l.removeFromSet(u);else e?e.isInSet(i.marks)&&(c=[e]):c=i.marks;if(c&&c.length)for(var f=Math.min(a+i.nodeSize,t),p=0;p<c.length;p++){for(var h=c[p],d=void 0,m=0;m<o.length;m++){var v=o[m];v.step==s-1&&h.eq(o[m].style)&&(d=v)}d?(d.to=f,d.step=s):o.push({style:h,from:Math.max(a,r),to:f,step:s})}}}),o.forEach(function(i){return n.step(new jr(i.from,i.to,i.style))}),this};X.prototype.clearIncompatible=function(r,t,e){e===void 0&&(e=t.contentMatch);for(var n=this.doc.nodeAt(r),o=[],s=r+1,i=0;i<n.childCount;i++){var a=n.child(i),c=s+a.nodeSize,u=e.matchType(a.type,a.attrs);if(!u)o.push(new fe(s,c,w.empty));else{e=u;for(var l=0;l<a.marks.length;l++)t.allowsMarkType(a.marks[l].type)||this.step(new jr(s,c,a.marks[l]))}s=c}if(!e.validEnd){var f=e.fillBefore(x.empty,!0);this.replace(s,s,new w(f,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this};function Ml(r,t,e,n){if(e===void 0&&(e=t),n===void 0&&(n=w.empty),t==e&&!n.size)return null;var o=r.resolve(t),s=r.resolve(e);return Qa(o,s,n)?new fe(t,e,n):new Pt(o,s,n).fit()}X.prototype.replace=function(r,t,e){t===void 0&&(t=r),e===void 0&&(e=w.empty);var n=Ml(this.doc,r,t,e);return n&&this.step(n),this};X.prototype.replaceWith=function(r,t,e){return this.replace(r,t,new w(x.from(e),0,0))};X.prototype.delete=function(r,t){return this.replace(r,t,w.empty)};X.prototype.insert=function(r,t){return this.replaceWith(r,r,t)};function Qa(r,t,e){return!e.openStart&&!e.openEnd&&r.start()==t.start()&&r.parent.canReplace(r.index(),t.index(),e.content)}var Pt=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var o=0;o<=t.depth;o++){var s=t.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(o))})}this.placed=x.empty;for(var i=t.depth;i>0;i--)this.placed=x.from(t.node(i).copy(this.placed))},Xa={depth:{configurable:!0}};Xa.depth.get=function(){return this.frontier.length-1};Pt.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,s=this.close(e<0?this.$to:o.doc.resolve(e));if(!s)return null;for(var i=this.placed,a=o.depth,c=s.depth;a&&c&&i.childCount==1;)i=i.firstChild.content,a--,c--;var u=new w(i,a,c);if(e>-1)return new _t(o.pos,e,this.$to.pos,this.$to.end(),u,n);if(u.size||o.pos!=this.$to.pos)return new fe(o.pos,s.pos,u)};Pt.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,o=void 0;e?(o=vs(this.unplaced.content,e-1).firstChild,n=o.content):n=this.unplaced.content;for(var s=n.firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],c=a.type,u=a.match,l=void 0,f=void 0;if(t==1&&(s?u.matchType(s.type)||(f=u.fillBefore(x.from(s),!1)):c.compatibleContent(o.type)))return{sliceDepth:e,frontierDepth:i,parent:o,inject:f};if(t==2&&s&&(l=u.findWrapping(s.type)))return{sliceDepth:e,frontierDepth:i,parent:o,wrap:l};if(o&&u.matchType(o.type))break}}};Pt.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,s=vs(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new w(e,n+1,Math.max(o,s.size+n>=e.size-o?n+1:0)),!0)};Pt.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,s=vs(e,n);if(s.childCount<=1&&n>0){var i=e.size-n<=n+s.size;this.unplaced=new w(Nr(e,n-1,1),n-1,i?n-1:o)}else this.unplaced=new w(Nr(e,n,1),n,o)};Pt.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,o=t.parent,s=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var c=this.unplaced,u=o?o.content:c.content,l=c.openStart-e,f=0,p=[],h=this.frontier[n],d=h.match,m=h.type;if(s){for(var v=0;v<s.childCount;v++)p.push(s.child(v));d=d.matchFragment(s)}for(var y=u.size+e-(c.content.size-c.openEnd);f<u.childCount;){var g=u.child(f),k=d.matchType(g.type);if(!k)break;f++,(f>1||l==0||g.content.size)&&(d=k,p.push(tc(g.mark(m.allowedMarks(g.marks)),f==1?l:0,f==u.childCount?y:-1)))}var b=f==u.childCount;b||(y=-1),this.placed=Ur(this.placed,n,x.from(p)),this.frontier[n].match=d,b&&y<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var D=0,C=u;D<y;D++){var S=C.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),C=S.content}this.unplaced=b?e==0?w.empty:new w(Nr(c.content,e-1,1),e-1,y<0?c.openEnd:e-1):new w(Nr(c.content,e,f),c.openStart,c.openEnd)};Pt.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t=this.frontier[this.depth],e;if(!t.type.isTextblock||!Jo(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to,o=n.depth,s=this.$to.after(o);o>1&&s==this.$to.end(--o);)++s;return s};Pt.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],o=n.match,s=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=Jo(t,e,s,o,i);if(!!a){for(var c=e-1;c>=0;c--){var u=this.frontier[c],l=u.match,f=u.type,p=Jo(t,c,f,l,!0);if(!p||p.childCount)continue t}return{depth:e,fit:a,move:i?t.doc.resolve(t.after(e+1)):t}}}};Pt.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ur(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var o=t.node(n),s=o.type.contentMatch.fillBefore(o.content,!0,t.index(n));this.openFrontierNode(o.type,o.attrs,s)}return t};Pt.prototype.openFrontierNode=function(t,e,n){var o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Ur(this.placed,this.depth,x.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})};Pt.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(x.empty,!0);e.childCount&&(this.placed=Ur(this.placed,this.frontier.length,e))};Object.defineProperties(Pt.prototype,Xa);function Nr(r,t,e){return t==0?r.cutByIndex(e):r.replaceChild(0,r.firstChild.copy(Nr(r.firstChild.content,t-1,e)))}function Ur(r,t,e){return t==0?r.append(e):r.replaceChild(r.childCount-1,r.lastChild.copy(Ur(r.lastChild.content,t-1,e)))}function vs(r,t){for(var e=0;e<t;e++)r=r.firstChild.content;return r}function tc(r,t,e){if(t<=0)return r;var n=r.content;return t>1&&(n=n.replaceChild(0,tc(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=r.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(x.empty,!0)))),r.copy(n)}function Jo(r,t,e,n,o){var s=r.node(t),i=o?r.indexAfter(t):r.index(t);if(i==s.childCount&&!e.compatibleContent(s.type))return null;var a=n.fillBefore(s.content,!0,i);return a&&!Tl(e,s.content,i)?a:null}function Tl(r,t,e){for(var n=e;n<t.childCount;n++)if(!r.allowsMarks(t.child(n).marks))return!0;return!1}X.prototype.replaceRange=function(r,t,e){if(!e.size)return this.deleteRange(r,t);var n=this.doc.resolve(r),o=this.doc.resolve(t);if(Qa(n,o,e))return this.step(new fe(r,t,e));var s=rc(n,this.doc.resolve(t));s[s.length-1]==0&&s.pop();var i=-(n.depth+1);s.unshift(i);for(var a=n.depth,c=n.pos-1;a>0;a--,c--){var u=n.node(a).type.spec;if(u.defining||u.isolating)break;s.indexOf(a)>-1?i=a:n.before(a)==c&&s.splice(1,0,-a)}for(var l=s.indexOf(i),f=[],p=e.openStart,h=e.content,d=0;;d++){var m=h.firstChild;if(f.push(m),d==e.openStart)break;h=m.content}p>0&&f[p-1].type.spec.defining&&n.node(l).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&n.node(l).type!=f[p-2].type&&(p-=2);for(var v=e.openStart;v>=0;v--){var y=(v+p+1)%(e.openStart+1),g=f[y];if(!!g)for(var k=0;k<s.length;k++){var b=s[(k+l)%s.length],D=!0;b<0&&(D=!1,b=-b);var C=n.node(b-1),S=n.index(b-1);if(C.canReplaceWith(S,S,g.type,g.marks))return this.replace(n.before(b),D?o.after(b):t,new w(ec(e.content,0,e.openStart,y),y,e.openEnd))}}for(var T=this.steps.length,I=s.length-1;I>=0&&(this.replace(r,t,e),!(this.steps.length>T));I--){var O=s[I];O<0||(r=n.before(O),t=o.after(O))}return this};function ec(r,t,e,n,o){if(t<e){var s=r.firstChild;r=r.replaceChild(0,s.copy(ec(s.content,t+1,e,n,s)))}if(t>n){var i=o.contentMatchAt(0),a=i.fillBefore(r).append(r);r=a.append(i.matchFragment(a).fillBefore(x.empty,!0))}return r}X.prototype.replaceRangeWith=function(r,t,e){if(!e.isInline&&r==t&&this.doc.resolve(r).parent.content.size){var n=Sl(this.doc,r,e.type);n!=null&&(r=t=n)}return this.replaceRange(r,t,new w(x.from(e),0,0))};X.prototype.deleteRange=function(r,t){for(var e=this.doc.resolve(r),n=this.doc.resolve(t),o=rc(e,n),s=0;s<o.length;s++){var i=o[s],a=s==o.length-1;if(a&&i==0||e.node(i).type.contentMatch.validEnd)return this.delete(e.start(i),n.end(i));if(i>0&&(a||e.node(i-1).canReplace(e.index(i-1),n.indexAfter(i-1))))return this.delete(e.before(i),n.after(i))}for(var c=1;c<=e.depth&&c<=n.depth;c++)if(r-e.start(c)==e.depth-c&&t>e.end(c)&&n.end(c)-t!=n.depth-c)return this.delete(e.before(c),t);return this.delete(r,t)};function rc(r,t){for(var e=[],n=Math.min(r.depth,t.depth),o=n;o>=0;o--){var s=r.start(o);if(s<r.pos-(r.depth-o)||t.end(o)>t.pos+(t.depth-o)||r.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(s==t.start(o)||o==r.depth&&o==t.depth&&r.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==s-1)&&e.push(o)}return e}var $o=Object.create(null),B=function(t,e,n){this.ranges=n||[new Ol(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},Ae={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Ae.anchor.get=function(){return this.$anchor.pos};Ae.head.get=function(){return this.$head.pos};Ae.from.get=function(){return this.$from.pos};Ae.to.get=function(){return this.$to.pos};Ae.$from.get=function(){return this.ranges[0].$from};Ae.$to.get=function(){return this.ranges[0].$to};Ae.empty.get=function(){for(var r=this.ranges,t=0;t<r.length;t++)if(r[t].$from.pos!=r[t].$to.pos)return!1;return!0};B.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};B.prototype.replace=function(t,e){e===void 0&&(e=w.empty);for(var n=e.content.lastChild,o=null,s=0;s<e.openEnd;s++)o=n,n=n.lastChild;for(var i=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var u=a[c],l=u.$from,f=u.$to,p=t.mapping.slice(i);t.replaceRange(p.map(l.pos),p.map(f.pos),c?w.empty:e),c==0&&nc(t,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}};B.prototype.replaceWith=function(t,e){for(var n=t.steps.length,o=this.ranges,s=0;s<o.length;s++){var i=o[s],a=i.$from,c=i.$to,u=t.mapping.slice(n),l=u.map(a.pos),f=u.map(c.pos);s?t.deleteRange(l,f):(t.replaceRangeWith(l,f,e),nc(t,n,e.isInline?-1:1))}};B.findFrom=function(t,e,n){var o=t.parent.inlineContent?new J(t):Xe(t.node(0),t.parent,t.pos,t.index(),e,n);if(o)return o;for(var s=t.depth-1;s>=0;s--){var i=e<0?Xe(t.node(0),t.node(s),t.before(s+1),t.index(s),e,n):Xe(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,n);if(i)return i}};B.near=function(t,e){return e===void 0&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new Ie(t.node(0))};B.atStart=function(t){return Xe(t,t,0,0,1)||new Ie(t)};B.atEnd=function(t){return Xe(t,t,t.content.size,t.childCount,-1)||new Ie(t)};B.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=$o[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)};B.jsonID=function(t,e){if(t in $o)throw new RangeError("Duplicate use of selection JSON ID "+t);return $o[t]=e,e.prototype.jsonID=t,e};B.prototype.getBookmark=function(){return J.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(B.prototype,Ae);B.prototype.visible=!0;var Ol=function(t,e){this.$from=t,this.$to=e},J=function(r){function t(n,o){o===void 0&&(o=n),r.call(this,n,o)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={$cursor:{configurable:!0}};return e.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(o,s){var i=o.resolve(s.map(this.head));if(!i.parent.inlineContent)return r.near(i);var a=o.resolve(s.map(this.anchor));return new t(a.parent.inlineContent?a:i,i)},t.prototype.replace=function(o,s){if(s===void 0&&(s=w.empty),r.prototype.replace.call(this,o,s),s==w.empty){var i=this.$from.marksAcross(this.$to);i&&o.ensureMarks(i)}},t.prototype.eq=function(o){return o instanceof t&&o.anchor==this.anchor&&o.head==this.head},t.prototype.getBookmark=function(){return new Br(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(o,s){if(typeof s.anchor!="number"||typeof s.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(o.resolve(s.anchor),o.resolve(s.head))},t.create=function(o,s,i){i===void 0&&(i=s);var a=o.resolve(s);return new this(a,i==s?a:o.resolve(i))},t.between=function(o,s,i){var a=o.pos-s.pos;if((!i||a)&&(i=a>=0?1:-1),!s.parent.inlineContent){var c=r.findFrom(s,i,!0)||r.findFrom(s,-i,!0);if(c)s=c.$head;else return r.near(s,i)}return o.parent.inlineContent||(a==0?o=s:(o=(r.findFrom(o,-i,!0)||r.findFrom(o,i,!0)).$anchor,o.pos<s.pos!=a<0&&(o=s))),new t(o,s)},Object.defineProperties(t.prototype,e),t}(B);B.jsonID("text",J);var Br=function(t,e){this.anchor=t,this.head=e};Br.prototype.map=function(t){return new Br(t.map(this.anchor),t.map(this.head))};Br.prototype.resolve=function(t){return J.between(t.resolve(this.anchor),t.resolve(this.head))};var P=function(r){function t(e){var n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);r.call(this,e,o),this.node=n}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.map=function(n,o){var s=o.mapResult(this.anchor),i=s.deleted,a=s.pos,c=n.resolve(a);return i?r.near(c):new t(c)},t.prototype.content=function(){return new w(x.from(this.node),0,0)},t.prototype.eq=function(n){return n instanceof t&&n.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new cn(this.anchor)},t.fromJSON=function(n,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(n.resolve(o.anchor))},t.create=function(n,o){return new this(n.resolve(o))},t.isSelectable=function(n){return!n.isText&&n.type.spec.selectable!==!1},t}(B);P.prototype.visible=!1;B.jsonID("node",P);var cn=function(t){this.anchor=t};cn.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,o=e.pos;return n?new Br(o,o):new cn(o)};cn.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&P.isSelectable(n)?new P(e):B.near(e)};var Ie=function(r){function t(e){r.call(this,e.resolve(0),e.resolve(e.content.size))}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.replace=function(n,o){if(o===void 0&&(o=w.empty),o==w.empty){n.delete(0,n.doc.content.size);var s=r.atStart(n.doc);s.eq(n.selection)||n.setSelection(s)}else r.prototype.replace.call(this,n,o)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(n){return new t(n)},t.prototype.map=function(n){return new t(n)},t.prototype.eq=function(n){return n instanceof t},t.prototype.getBookmark=function(){return Fl},t}(B);B.jsonID("all",Ie);var Fl={map:function(){return this},resolve:function(t){return new Ie(t)}};function Xe(r,t,e,n,o,s){if(t.inlineContent)return J.create(r,e);for(var i=n-(o>0?0:1);o>0?i<t.childCount:i>=0;i+=o){var a=t.child(i);if(a.isAtom){if(!s&&P.isSelectable(a))return P.create(r,e-(o<0?a.nodeSize:0))}else{var c=Xe(r,a,e+o,o<0?a.childCount:0,o,s);if(c)return c}e+=a.nodeSize*o}}function nc(r,t,e){var n=r.steps.length-1;if(!(n<t)){var o=r.steps[n];if(o instanceof fe||o instanceof _t){var s=r.mapping.maps[n],i;s.forEach(function(a,c,u,l){i==null&&(i=l)}),r.setSelection(B.near(r.doc.resolve(i),e))}}}var ri=1,Zr=2,ni=4,Nl=function(r){function t(n){r.call(this,n.doc),this.time=Date.now(),this.curSelection=n.selection,this.curSelectionFor=0,this.storedMarks=n.storedMarks,this.updated=0,this.meta=Object.create(null)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return e.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ri)&~Zr,this.storedMarks=null,this},e.selectionSet.get=function(){return(this.updated&ri)>0},t.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=Zr,this},t.prototype.ensureMarks=function(o){return z.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},t.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},e.storedMarksSet.get=function(){return(this.updated&Zr)>0},t.prototype.addStep=function(o,s){r.prototype.addStep.call(this,o,s),this.updated=this.updated&~Zr,this.storedMarks=null},t.prototype.setTime=function(o){return this.time=o,this},t.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},t.prototype.replaceSelectionWith=function(o,s){var i=this.selection;return s!==!1&&(o=o.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||z.none))),i.replaceWith(this,o),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(o,s,i){i===void 0&&(i=s);var a=this.doc.type.schema;if(s==null)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(s,i);var c=this.storedMarks;if(!c){var u=this.doc.resolve(s);c=i==s?u.marks():u.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(s,i,a.text(o,c)),this.selection.empty||this.setSelection(B.near(this.selection.$to)),this},t.prototype.setMeta=function(o,s){return this.meta[typeof o=="string"?o:o.key]=s,this},t.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},e.isGeneric.get=function(){for(var n in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=ni,this},e.scrolledIntoView.get=function(){return(this.updated&ni)>0},Object.defineProperties(t.prototype,e),t}(X);function oi(r,t){return!t||!r?r:r.bind(t)}var Cr=function(t,e,n){this.name=t,this.init=oi(e.init,n),this.apply=oi(e.apply,n)},Bl=[new Cr("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Cr("selection",{init:function(t,e){return t.selection||B.atStart(e.doc)},apply:function(t){return t.selection}}),new Cr("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new Cr("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],ys=function(t,e){var n=this;this.schema=t,this.fields=Bl.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(o){if(n.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");n.plugins.push(o),n.pluginsByKey[o.key]=o,o.spec.state&&n.fields.push(new Cr(o.key,o.spec.state,o))})},yt=function(t){this.config=t},Kn={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Kn.schema.get=function(){return this.config.schema};Kn.plugins.get=function(){return this.config.plugins};yt.prototype.apply=function(t){return this.applyTransaction(t).state};yt.prototype.filterTransaction=function(t,e){e===void 0&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0};yt.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),o=null;;){for(var s=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var c=o?o[i].n:0,u=o?o[i].state:this,l=c<e.length&&a.spec.appendTransaction.call(a,c?e.slice(c):e,u,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",t),!o){o=[];for(var f=0;f<this.config.plugins.length;f++)o.push(f<i?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),s=!0}o&&(o[i]={state:n,n:e.length})}}if(!s)return{state:n,transactions:e}}};yt.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new yt(this.config),n=this.config.fields,o=0;o<n.length;o++){var s=n[o];e[s.name]=s.apply(t,this[s.name],this,e)}for(var i=0;i<Rr.length;i++)Rr[i](this,t,e);return e};Kn.tr.get=function(){return new Nl(this)};yt.create=function(t){for(var e=new ys(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new yt(e),o=0;o<e.fields.length;o++)n[e.fields[o].name]=e.fields[o].init(t,n);return n};yt.prototype.reconfigure=function(t){for(var e=new ys(this.schema,t.plugins),n=e.fields,o=new yt(e),s=0;s<n.length;s++){var i=n[s].name;o[i]=this.hasOwnProperty(i)?this[i]:n[s].init(t,o)}return o};yt.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(function(i){return i.toJSON()})),t&&typeof t=="object")for(var n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=t[n],s=o.spec.state;s&&s.toJSON&&(e[n]=s.toJSON.call(o,this[o.key]))}return e};yt.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new ys(t.schema,t.plugins),s=new yt(o);return o.fields.forEach(function(i){if(i.name=="doc")s.doc=j.fromJSON(t.schema,e.doc);else if(i.name=="selection")s.selection=B.fromJSON(s.doc,e.selection);else if(i.name=="storedMarks")e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var c=n[a],u=c.spec.state;if(c.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){s[i.name]=u.fromJSON.call(c,t,e[a],s);return}}s[i.name]=i.init(t,s)}}),s};yt.addApplyListener=function(t){Rr.push(t)};yt.removeApplyListener=function(t){var e=Rr.indexOf(t);e>-1&&Rr.splice(e,1)};Object.defineProperties(yt.prototype,Kn);var Rr=[];function oc(r,t,e){for(var n in r){var o=r[n];o instanceof Function?o=o.bind(t):n=="handleDOMEvents"&&(o=oc(o,t,{})),e[n]=o}return e}var Dt=function(t){this.props={},t.props&&oc(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:sc("plugin")};Dt.prototype.getState=function(t){return t[this.key]};var po=Object.create(null);function sc(r){return r in po?r+"$"+ ++po[r]:(po[r]=0,r+"$")}var Ot=function(t){t===void 0&&(t="key"),this.key=sc(t)};Ot.prototype.get=function(t){return t.config.pluginsByKey[this.key]};Ot.prototype.getState=function(t){return t[this.key]};function Rl(r,t){return r.selection.empty?!1:(t&&t(r.tr.deleteSelection().scrollIntoView()),!0)}function Ll(r,t,e){var n=r.selection,o=n.$cursor;if(!o||(e?!e.endOfTextblock("backward",r):o.parentOffset>0))return!1;var s=ic(o);if(!s){var i=o.blockRange(),a=i&&fr(i);return a==null?!1:(t&&t(r.tr.lift(i,a).scrollIntoView()),!0)}var c=s.nodeBefore;if(!c.type.spec.isolating&&uc(r,s,t))return!0;if(o.parent.content.size==0&&(nr(c,"end")||P.isSelectable(c))){if(t){var u=r.tr.deleteRange(o.before(),o.after());u.setSelection(nr(c,"end")?B.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):P.create(u.doc,s.pos-c.nodeSize)),t(u.scrollIntoView())}return!0}return c.isAtom&&s.depth==o.depth-1?(t&&t(r.tr.delete(s.pos-c.nodeSize,s.pos).scrollIntoView()),!0):!1}function nr(r,t,e){for(;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&r.childCount!=1)return!1}return!1}function Il(r,t,e){var n=r.selection,o=n.$head,s=n.empty,i=o;if(!s)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("backward",r):o.parentOffset>0)return!1;i=ic(o)}var a=i&&i.nodeBefore;return!a||!P.isSelectable(a)?!1:(t&&t(r.tr.setSelection(P.create(r.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)}function ic(r){if(!r.parent.type.spec.isolating)for(var t=r.depth-1;t>=0;t--){if(r.index(t)>0)return r.doc.resolve(r.before(t+1));if(r.node(t).type.spec.isolating)break}return null}function Pl(r,t,e){var n=r.selection,o=n.$cursor;if(!o||(e?!e.endOfTextblock("forward",r):o.parentOffset<o.parent.content.size))return!1;var s=ac(o);if(!s)return!1;var i=s.nodeAfter;if(uc(r,s,t))return!0;if(o.parent.content.size==0&&(nr(i,"start")||P.isSelectable(i))){if(t){var a=r.tr.deleteRange(o.before(),o.after());a.setSelection(nr(i,"start")?B.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):P.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}return i.isAtom&&s.depth==o.depth-1?(t&&t(r.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1}function ql(r,t,e){var n=r.selection,o=n.$head,s=n.empty,i=o;if(!s)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("forward",r):o.parentOffset<o.parent.content.size)return!1;i=ac(o)}var a=i&&i.nodeAfter;return!a||!P.isSelectable(a)?!1:(t&&t(r.tr.setSelection(P.create(r.doc,i.pos)).scrollIntoView()),!0)}function ac(r){if(!r.parent.type.spec.isolating)for(var t=r.depth-1;t>=0;t--){var e=r.node(t);if(r.index(t)+1<e.childCount)return r.doc.resolve(r.after(t+1));if(e.type.spec.isolating)break}return null}function zl(r,t){var e=r.selection,n=e.$from,o=e.$to,s=n.blockRange(o),i=s&&fr(s);return i==null?!1:(t&&t(r.tr.lift(s,i).scrollIntoView()),!0)}function Vl(r,t){var e=r.selection,n=e.$head,o=e.$anchor;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(t&&t(r.tr.insertText(`
`).scrollIntoView()),!0)}function cc(r){for(var t=0;t<r.edgeCount;t++){var e=r.edge(t),n=e.type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Hl(r,t){var e=r.selection,n=e.$head,o=e.$anchor;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;var s=n.node(-1),i=n.indexAfter(-1),a=cc(s.contentMatchAt(i));if(!s.canReplaceWith(i,i,a))return!1;if(t){var c=n.after(),u=r.tr.replaceWith(c,c,a.createAndFill());u.setSelection(B.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0}function jl(r,t){var e=r.selection,n=e.$from,o=e.$to;if(e instanceof Ie||n.parent.inlineContent||o.parent.inlineContent)return!1;var s=cc(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){var i=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,a=r.tr.insert(i,s.createAndFill());a.setSelection(J.create(a.doc,i+1)),t(a.scrollIntoView())}return!0}function Ul(r,t){var e=r.selection,n=e.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(Qe(r.doc,o))return t&&t(r.tr.split(o).scrollIntoView()),!0}var s=n.blockRange(),i=s&&fr(s);return i==null?!1:(t&&t(r.tr.lift(s,i).scrollIntoView()),!0)}function Kl(r,t){var e=r.selection,n=e.$from,o=e.to,s,i=n.sharedDepth(o);return i==0?!1:(s=n.before(i),t&&t(r.tr.setSelection(P.create(r.doc,s))),!0)}function Wl(r,t,e){var n=t.nodeBefore,o=t.nodeAfter,s=t.index();return!n||!o||!n.type.compatibleContent(o.type)?!1:!n.content.size&&t.parent.canReplace(s-1,s)?(e&&e(r.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(o.isTextblock||Hr(r.doc,t.pos))?!1:(e&&e(r.tr.clearIncompatible(t.pos,n.type,n.contentMatchAt(n.childCount)).join(t.pos).scrollIntoView()),!0)}function uc(r,t,e){var n=t.nodeBefore,o=t.nodeAfter,s,i;if(n.type.spec.isolating||o.type.spec.isolating)return!1;if(Wl(r,t,e))return!0;var a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(i=n.contentMatchAt(n.childCount)).findWrapping(o.type))&&i.matchType(s[0]||o.type).validEnd){if(e){for(var c=t.pos+o.nodeSize,u=x.empty,l=s.length-1;l>=0;l--)u=x.from(s[l].create(null,u));u=x.from(n.copy(u));var f=r.tr.step(new _t(t.pos-1,c,t.pos,c,new w(u,1,0),s.length,!0)),p=c+2*s.length;Hr(f.doc,p)&&f.join(p),e(f.scrollIntoView())}return!0}var h=B.findFrom(t,1),d=h&&h.$from.blockRange(h.$to),m=d&&fr(d);if(m!=null&&m>=t.depth)return e&&e(r.tr.lift(d,m).scrollIntoView()),!0;if(a&&nr(o,"start",!0)&&nr(n,"end")){for(var v=n,y=[];y.push(v),!v.isTextblock;)v=v.lastChild;for(var g=o,k=1;!g.isTextblock;g=g.firstChild)k++;if(v.canReplace(v.childCount,v.childCount,g.content)){if(e){for(var b=x.empty,D=y.length-1;D>=0;D--)b=x.from(y[D].copy(b));var C=r.tr.step(new _t(t.pos-y.length,t.pos+o.nodeSize,t.pos+k,t.pos+o.nodeSize-k,new w(b,y.length,0),0,!0));e(C.scrollIntoView())}return!0}}return!1}function Jl(r,t){return function(e,n){var o=e.selection,s=o.$from,i=o.$to,a=s.blockRange(i),c=a&&ds(a,r,t);return c?(n&&n(e.tr.wrap(a,c).scrollIntoView()),!0):!1}}function si(r,t){return function(e,n){var o=e.selection,s=o.from,i=o.to,a=!1;return e.doc.nodesBetween(s,i,function(c,u){if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(r,t)))if(c.type==r)a=!0;else{var l=e.doc.resolve(u),f=l.index();a=l.parent.canReplaceWith(f,f+1,r)}}),a?(n&&n(e.tr.setBlockType(s,i,r,t).scrollIntoView()),!0):!1}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform()=="darwin";function $l(r,t){return function(e,n){var o=e.selection,s=o.$from,i=o.$to,a=s.blockRange(i),c=!1,u=a;if(!a)return!1;if(a.depth>=2&&s.node(a.depth-1).type.compatibleContent(r)&&a.startIndex==0){if(s.index(a.depth-1)==0)return!1;var l=e.doc.resolve(a.start-2);u=new Or(l,l,a.depth),a.endIndex<a.parent.childCount&&(a=new Or(s,e.doc.resolve(i.end(a.depth)),a.depth)),c=!0}var f=ds(u,r,t,a);return f?(n&&n(Gl(e.tr,a,f,c,r).scrollIntoView()),!0):!1}}function Gl(r,t,e,n,o){for(var s=x.empty,i=e.length-1;i>=0;i--)s=x.from(e[i].type.create(e[i].attrs,s));r.step(new _t(t.start-(n?2:0),t.end,t.start,t.end,new w(s,0,0),e.length,!0));for(var a=0,c=0;c<e.length;c++)e[c].type==o&&(a=c+1);for(var u=e.length-a,l=t.start+e.length-(n?2:0),f=t.parent,p=t.startIndex,h=t.endIndex,d=!0;p<h;p++,d=!1)!d&&Qe(r.doc,l,u)&&(r.split(l,u),l+=2*u),l+=f.child(p).nodeSize;return r}function Zl(r){return function(t,e){var n=t.selection,o=n.$from,s=n.$to,i=o.blockRange(s,function(a){return a.childCount&&a.firstChild.type==r});return i?e?o.node(i.depth-1).type==r?Yl(t,e,r,i):Ql(t,e,i):!0:!1}}function Yl(r,t,e,n){var o=r.tr,s=n.end,i=n.$to.end(n.depth);return s<i&&(o.step(new _t(s-1,i,s,i,new w(x.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new Or(o.doc.resolve(n.$from.pos),o.doc.resolve(i),n.depth)),t(o.lift(n,fr(n)).scrollIntoView()),!0}function Ql(r,t,e){for(var n=r.tr,o=e.parent,s=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i--)s-=o.child(i).nodeSize,n.delete(s-1,s+1);var c=n.doc.resolve(e.start),u=c.nodeAfter;if(n.mapping.map(e.end)!=e.start+c.nodeAfter.nodeSize)return!1;var l=e.startIndex==0,f=e.endIndex==o.childCount,p=c.node(-1),h=c.index(-1);if(!p.canReplace(h+(l?0:1),h+1,u.content.append(f?x.empty:x.from(o))))return!1;var d=c.pos,m=d+u.nodeSize;return n.step(new _t(d-(l?1:0),m+(f?1:0),d+1,m-1,new w((l?x.empty:x.from(o.copy(x.empty))).append(f?x.empty:x.from(o.copy(x.empty))),l?0:1,f?0:1),l?0:1)),t(n.scrollIntoView()),!0}function Xl(r){return function(t,e){var n=t.selection,o=n.$from,s=n.$to,i=o.blockRange(s,function(m){return m.childCount&&m.firstChild.type==r});if(!i)return!1;var a=i.startIndex;if(a==0)return!1;var c=i.parent,u=c.child(a-1);if(u.type!=r)return!1;if(e){var l=u.lastChild&&u.lastChild.type==c.type,f=x.from(l?r.create():null),p=new w(x.from(r.create(null,x.from(c.type.create(null,f)))),l?3:1,0),h=i.start,d=i.end;e(t.tr.step(new _t(h-(l?3:1),d,h,d,p,1,!0)).scrollIntoView())}return!0}}var A={};if(typeof navigator<"u"&&typeof document<"u"){var ho=/Edge\/(\d+)/.exec(navigator.userAgent),ii=/MSIE \d/.test(navigator.userAgent),mo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),go=A.ie=!!(ii||mo||ho);A.ie_version=ii?document.documentMode||6:mo?+mo[1]:ho?+ho[1]:null,A.gecko=!go&&/gecko\/(\d+)/i.test(navigator.userAgent),A.gecko_version=A.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var vo=!go&&/Chrome\/(\d+)/.exec(navigator.userAgent);A.chrome=!!vo,A.chrome_version=vo&&+vo[1],A.safari=!go&&/Apple Computer/.test(navigator.vendor),A.ios=A.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),A.mac=A.ios||/Mac/.test(navigator.platform),A.android=/Android \d/.test(navigator.userAgent),A.webkit="webkitFontSmoothing"in document.documentElement.style,A.webkit_version=A.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var St=function(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t},bs=function(r){var t=r.assignedSlot||r.parentNode;return t&&t.nodeType==11?t.host:t},ai=null,ie=function(r,t,e){var n=ai||(ai=document.createRange());return n.setEnd(r,e==null?r.nodeValue.length:e),n.setStart(r,t||0),n},Lr=function(r,t,e,n){return e&&(ci(r,t,e,n,-1)||ci(r,t,e,n,1))},tf=/^(img|br|input|textarea|hr)$/i;function ci(r,t,e,n,o){for(;;){if(r==e&&t==n)return!0;if(t==(o<0?0:Zt(r))){var s=r.parentNode;if(s.nodeType!=1||rf(r)||tf.test(r.nodeName)||r.contentEditable=="false")return!1;t=St(r)+(o<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[t+(o<0?-1:0)],r.contentEditable=="false")return!1;t=o<0?Zt(r):0}else return!1}}function Zt(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function ef(r,t,e){for(var n=t==0,o=t==Zt(r);n||o;){if(r==e)return!0;var s=St(r);if(r=r.parentNode,!r)return!1;n=n&&s==0,o=o&&s==Zt(r)}}function rf(r){for(var t,e=r;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==r||t.contentDOM==r)}var ks=function(r){var t=r.isCollapsed;return t&&A.chrome&&r.rangeCount&&!r.getRangeAt(0).collapsed&&(t=!1),t};function Ke(r,t){var e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=r,e.key=e.code=t,e}function nf(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function pe(r,t){return typeof r=="number"?r:r[t]}function of(r){var t=r.getBoundingClientRect(),e=t.width/r.offsetWidth||1,n=t.height/r.offsetHeight||1;return{left:t.left,right:t.left+r.clientWidth*e,top:t.top,bottom:t.top+r.clientHeight*n}}function ui(r,t,e){for(var n=r.someProp("scrollThreshold")||0,o=r.someProp("scrollMargin")||5,s=r.dom.ownerDocument,i=e||r.dom;i;i=bs(i))if(i.nodeType==1){var a=i==s.body||i.nodeType!=1,c=a?nf(s):of(i),u=0,l=0;if(t.top<c.top+pe(n,"top")?l=-(c.top-t.top+pe(o,"top")):t.bottom>c.bottom-pe(n,"bottom")&&(l=t.bottom-c.bottom+pe(o,"bottom")),t.left<c.left+pe(n,"left")?u=-(c.left-t.left+pe(o,"left")):t.right>c.right-pe(n,"right")&&(u=t.right-c.right+pe(o,"right")),u||l)if(a)s.defaultView.scrollBy(u,l);else{var f=i.scrollLeft,p=i.scrollTop;l&&(i.scrollTop+=l),u&&(i.scrollLeft+=u);var h=i.scrollLeft-f,d=i.scrollTop-p;t={left:t.left-h,top:t.top-d,right:t.right-h,bottom:t.bottom-d}}if(a)break}}function sf(r){for(var t=r.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,o,s=(t.left+t.right)/2,i=e+1;i<Math.min(innerHeight,t.bottom);i+=5){var a=r.root.elementFromPoint(s,i);if(!(a==r.dom||!r.dom.contains(a))){var c=a.getBoundingClientRect();if(c.top>=e-20){n=a,o=c.top;break}}}return{refDOM:n,refTop:o,stack:lc(r.dom)}}function lc(r){for(var t=[],e=r.ownerDocument;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),r!=e);r=bs(r));return t}function af(r){var t=r.refDOM,e=r.refTop,n=r.stack,o=t?t.getBoundingClientRect().top:0;fc(n,o==0?0:o-e)}function fc(r,t){for(var e=0;e<r.length;e++){var n=r[e],o=n.dom,s=n.top,i=n.left;o.scrollTop!=s+t&&(o.scrollTop=s+t),o.scrollLeft!=i&&(o.scrollLeft=i)}}var je=null;function cf(r){if(r.setActive)return r.setActive();if(je)return r.focus(je);var t=lc(r);r.focus(je==null?{get preventScroll(){return je={preventScroll:!0},!0}}:void 0),je||(je=!1,fc(t,0))}function pc(r,t){for(var e,n=2e8,o,s=0,i=t.top,a=t.top,c=r.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(c.nodeType==1)l=c.getClientRects();else if(c.nodeType==3)l=ie(c).getClientRects();else continue;for(var f=0;f<l.length;f++){var p=l[f];if(p.top<=i&&p.bottom>=a){i=Math.max(p.bottom,i),a=Math.min(p.top,a);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<n){e=c,n=h,o=h&&e.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&h&&(s=u+(t.left>=(p.left+p.right)/2?1:0));continue}}!e&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=u+1)}}return e&&e.nodeType==3?uf(e,o):!e||n&&e.nodeType==1?{node:r,offset:s}:pc(e,o)}function uf(r,t){for(var e=r.nodeValue.length,n=document.createRange(),o=0;o<e;o++){n.setEnd(r,o+1),n.setStart(r,o);var s=he(n,1);if(s.top!=s.bottom&&Ds(t,s))return{node:r,offset:o+(t.left>=(s.left+s.right)/2?1:0)}}return{node:r,offset:0}}function Ds(r,t){return r.left>=t.left-1&&r.left<=t.right+1&&r.top>=t.top-1&&r.top<=t.bottom+1}function lf(r,t){var e=r.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<r.getBoundingClientRect().left?e:r}function ff(r,t,e){var n=pc(t,e),o=n.node,s=n.offset,i=-1;if(o.nodeType==1&&!o.firstChild){var a=o.getBoundingClientRect();i=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return r.docView.posFromDOM(o,s,i)}function pf(r,t,e,n){for(var o=-1,s=t;s!=r.dom;){var i=r.docView.nearestDesc(s,!0);if(!i)return null;if(i.node.isBlock&&i.parent){var a=i.dom.getBoundingClientRect();if(a.left>n.left||a.top>n.top)o=i.posBefore;else if(a.right<n.left||a.bottom<n.top)o=i.posAfter;else break}s=i.dom.parentNode}return o>-1?o:r.docView.posFromDOM(t,e)}function hc(r,t,e){var n=r.childNodes.length;if(n&&e.top<e.bottom)for(var o=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),s=o;;){var i=r.childNodes[s];if(i.nodeType==1)for(var a=i.getClientRects(),c=0;c<a.length;c++){var u=a[c];if(Ds(t,u))return hc(i,t,u)}if((s=(s+1)%n)==o)break}return r}function hf(r,t){var e,n,o=r.dom.ownerDocument,s,i;if(o.caretPositionFromPoint)try{var a=o.caretPositionFromPoint(t.left,t.top);a&&(e=a,s=e.offsetNode,i=e.offset)}catch{}if(!s&&o.caretRangeFromPoint){var c=o.caretRangeFromPoint(t.left,t.top);c&&(n=c,s=n.startContainer,i=n.startOffset)}var u=(r.root.elementFromPoint?r.root:o).elementFromPoint(t.left,t.top+1),l;if(!u||!r.dom.contains(u.nodeType!=1?u.parentNode:u)){var f=r.dom.getBoundingClientRect();if(!Ds(t,f)||(u=hc(r.dom,t,f),!u))return null}if(A.safari)for(var p=u;s&&p;p=bs(p))p.draggable&&(s=i=null);if(u=lf(u,t),s){if(A.gecko&&s.nodeType==1&&(i=Math.min(i,s.childNodes.length),i<s.childNodes.length)){var h=s.childNodes[i],d;h.nodeName=="IMG"&&(d=h.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}s==r.dom&&i==s.childNodes.length-1&&s.lastChild.nodeType==1&&t.top>s.lastChild.getBoundingClientRect().bottom?l=r.state.doc.content.size:(i==0||s.nodeType!=1||s.childNodes[i-1].nodeName!="BR")&&(l=pf(r,s,i,t))}l==null&&(l=ff(r,u,t));var m=r.docView.nearestDesc(u,!0);return{pos:l,inside:m?m.posAtStart-m.border:-1}}function he(r,t){var e=r.getClientRects();return e.length?e[t<0?0:e.length-1]:r.getBoundingClientRect()}var df=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dc(r,t,e){var n=r.docView.domFromPos(t,e<0?-1:1),o=n.node,s=n.offset,i=A.webkit||A.gecko;if(o.nodeType==3)if(i&&(df.test(o.nodeValue)||(e<0?!s:s==o.nodeValue.length))){var a=he(ie(o,s,s),e);if(A.gecko&&s&&/\s/.test(o.nodeValue[s-1])&&s<o.nodeValue.length){var c=he(ie(o,s-1,s-1),-1);if(c.top==a.top){var u=he(ie(o,s,s+1),-1);if(u.top!=a.top)return gr(u,u.left<c.left)}}return a}else{var l=s,f=s,p=e<0?1:-1;return e<0&&!s?(f++,p=-1):e>=0&&s==o.nodeValue.length?(l--,p=1):e<0?l--:f++,gr(he(ie(o,l,f),p),p<0)}if(!r.state.doc.resolve(t).parent.inlineContent){if(s&&(e<0||s==Zt(o))){var h=o.childNodes[s-1];if(h.nodeType==1)return yo(h.getBoundingClientRect(),!1)}if(s<Zt(o)){var d=o.childNodes[s];if(d.nodeType==1)return yo(d.getBoundingClientRect(),!0)}return yo(o.getBoundingClientRect(),e>=0)}if(s&&(e<0||s==Zt(o))){var m=o.childNodes[s-1],v=m.nodeType==3?ie(m,Zt(m)-(i?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(v)return gr(he(v,1),!1)}if(s<Zt(o)){for(var y=o.childNodes[s];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var g=y?y.nodeType==3?ie(y,0,i?0:1):y.nodeType==1?y:null:null;if(g)return gr(he(g,-1),!0)}return gr(he(o.nodeType==3?ie(o):o,-e),e>=0)}function gr(r,t){if(r.width==0)return r;var e=t?r.left:r.right;return{top:r.top,bottom:r.bottom,left:e,right:e}}function yo(r,t){if(r.height==0)return r;var e=t?r.top:r.bottom;return{top:e,bottom:e,left:r.left,right:r.right}}function mc(r,t,e){var n=r.state,o=r.root.activeElement;n!=t&&r.updateState(t),o!=r.dom&&r.focus();try{return e()}finally{n!=t&&r.updateState(n),o!=r.dom&&o&&o.focus()}}function mf(r,t,e){var n=t.selection,o=e=="up"?n.$from:n.$to;return mc(r,t,function(){for(var s=r.docView.domFromPos(o.pos,e=="up"?-1:1),i=s.node;;){var a=r.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.dom;break}i=a.dom.parentNode}for(var c=dc(r,o.pos,1),u=i.firstChild;u;u=u.nextSibling){var l=void 0;if(u.nodeType==1)l=u.getClientRects();else if(u.nodeType==3)l=ie(u,0,u.nodeValue.length).getClientRects();else continue;for(var f=0;f<l.length;f++){var p=l[f];if(p.bottom>p.top+1&&(e=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}var gf=/[\u0590-\u08ac]/;function vf(r,t,e){var n=t.selection,o=n.$head;if(!o.parent.isTextblock)return!1;var s=o.parentOffset,i=!s,a=s==o.parent.content.size,c=r.root.getSelection();return!gf.test(o.parent.textContent)||!c.modify?e=="left"||e=="backward"?i:a:mc(r,t,function(){var u=c.getRangeAt(0),l=c.focusNode,f=c.focusOffset,p=c.caretBidiLevel;c.modify("move",e,"character");var h=o.depth?r.docView.domAfterPos(o.before()):r.dom,d=!h.contains(c.focusNode.nodeType==1?c.focusNode:c.focusNode.parentNode)||l==c.focusNode&&f==c.focusOffset;return c.removeAllRanges(),c.addRange(u),p!=null&&(c.caretBidiLevel=p),d})}var li=null,fi=null,pi=!1;function yf(r,t,e){return li==t&&fi==e?pi:(li=t,fi=e,pi=e=="up"||e=="down"?mf(r,t,e):vf(r,t,e))}var Ut=0,gc=1,Ar=2,le=3,Z=function(t,e,n,o){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=Ut},ee={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Z.prototype.matchesWidget=function(){return!1};Z.prototype.matchesMark=function(){return!1};Z.prototype.matchesNode=function(){return!1};Z.prototype.matchesHack=function(t){return!1};Z.prototype.parseRule=function(){return null};Z.prototype.stopEvent=function(){return!1};ee.size.get=function(){for(var r=0,t=0;t<this.children.length;t++)r+=this.children[t].size;return r};ee.border.get=function(){return 0};Z.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()};Z.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var o=this.children[e];if(o==t)return n;n+=o.size}};ee.posBefore.get=function(){return this.parent.posBeforeChild(this)};ee.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};ee.posAfter.get=function(){return this.posBefore+this.size};ee.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};Z.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){var o,s;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{var i,a;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var c;if(t==this.dom&&this.contentDOM)c=e>St(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(var u=t;;u=u.parentNode){if(u==this.dom){c=!1;break}if(u.parentNode.firstChild!=u)break}if(c==null&&e==t.childNodes.length)for(var l=t;;l=l.parentNode){if(l==this.dom){c=!0;break}if(l.parentNode.lastChild!=l)break}}return(c==null?n>0:c)?this.posAtEnd:this.posAtStart};Z.prototype.nearestDesc=function(t,e){for(var n=!0,o=t;o;o=o.parentNode){var s=this.getDesc(o);if(s&&(!e||s.node))if(n&&s.nodeDOM&&!(s.nodeDOM.nodeType==1?s.nodeDOM.contains(t.nodeType==1?t:t.parentNode):s.nodeDOM==t))n=!1;else return s}};Z.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e};Z.prototype.posFromDOM=function(t,e,n){for(var o=t;o;o=o.parentNode){var s=this.getDesc(o);if(s)return s.localPosFromDOM(t,e,n)}return-1};Z.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var o=this.children[e],s=n+o.size;if(n==t&&s!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<s)return o.descAt(t-n-o.border);n=s}};Z.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,o=0,s=0;n<this.children.length;n++){var i=this.children[n],a=s+i.size;if(a>t||i instanceof kc){o=t-s;break}s=a}if(o)return this.children[n].domFromPos(o-this.children[n].border,e);for(var c=void 0;n&&!(c=this.children[n-1]).size&&c instanceof vc&&c.widget.type.side>=0;n--);if(e<=0){for(var u,l=!0;u=n?this.children[n-1]:null,!(!u||u.dom.parentNode==this.contentDOM);n--,l=!1);return u&&e&&l&&!u.border&&!u.domAtom?u.domFromPos(u.size,e):{node:this.contentDOM,offset:u?St(u.dom)+1:0}}else{for(var f,p=!0;f=n<this.children.length?this.children[n]:null,!(!f||f.dom.parentNode==this.contentDOM);n++,p=!1);return f&&p&&!f.border&&!f.domAtom?f.domFromPos(0,e):{node:this.contentDOM,offset:f?St(f.dom):this.contentDOM.childNodes.length}}};Z.prototype.parseRange=function(t,e,n){if(n===void 0&&(n=0),this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,s=-1,i=n,a=0;;a++){var c=this.children[a],u=i+c.size;if(o==-1&&t<=u){var l=i+c.border;if(t>=l&&e<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,e,l);t=i;for(var f=a;f>0;f--){var p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=St(p.dom)+1;break}t-=p.size}o==-1&&(o=0)}if(o>-1&&(u>e||a==this.children.length-1)){e=u;for(var h=a+1;h<this.children.length;h++){var d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=St(d.dom);break}e+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=u}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:s}};Z.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)};Z.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,o=e.offset;if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[o]};Z.prototype.setSelection=function(t,e,n,o){for(var s=Math.min(t,e),i=Math.max(t,e),a=0,c=0;a<this.children.length;a++){var u=this.children[a],l=c+u.size;if(s>c&&i<l)return u.setSelection(t-c-u.border,e-c-u.border,n,o);c=l}var f=this.domFromPos(t,t?-1:1),p=e==t?f:this.domFromPos(e,e?-1:1),h=n.getSelection(),d=!1;if((A.gecko||A.safari)&&t==e){var m=f.node,v=f.offset;if(m.nodeType==3){if(d=v&&m.nodeValue[v-1]==`
`,d&&v==m.nodeValue.length)for(var y=m,g=void 0;y;y=y.parentNode){if(g=y.nextSibling){g.nodeName=="BR"&&(f=p={node:g.parentNode,offset:St(g)+1});break}var k=y.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{var b=m.childNodes[v-1];d=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(A.gecko&&h.focusNode&&h.focusNode!=p.node&&h.focusNode.nodeType==1){var D=h.focusNode.childNodes[h.focusOffset];D&&D.contentEditable=="false"&&(o=!0)}if(!(!(o||d&&A.safari)&&Lr(f.node,f.offset,h.anchorNode,h.anchorOffset)&&Lr(p.node,p.offset,h.focusNode,h.focusOffset))){var C=!1;if((h.extend||t==e)&&!d){h.collapse(f.node,f.offset);try{t!=e&&h.extend(p.node,p.offset),C=!0}catch(I){if(!(I instanceof DOMException))throw I}}if(!C){if(t>e){var S=f;f=p,p=S}var T=document.createRange();T.setEnd(p.node,p.offset),T.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(T)}}};Z.prototype.ignoreMutation=function(t){return!this.contentDOM&&t.type!="selection"};ee.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};Z.prototype.markDirty=function(t,e){for(var n=0,o=0;o<this.children.length;o++){var s=this.children[o],i=n+s.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var a=n+s.border,c=i-s.border;if(t>=a&&e<=c){this.dirty=t==n||e==i?Ar:gc,t==a&&e==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=le:s.markDirty(t-a,e-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ar:le}n=i}this.dirty=Ar};Z.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=t==1?Ar:gc;e.dirty<n&&(e.dirty=n)}};ee.domAtom.get=function(){return!1};ee.ignoreForCoords.get=function(){return!1};Object.defineProperties(Z.prototype,ee);var ke=[],vc=function(r){function t(n,o,s,i){var a,c=o.type.toDOM;if(typeof c=="function"&&(c=c(s,function(){if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!o.type.spec.raw){if(c.nodeType!=1){var u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable=!1,c.classList.add("ProseMirror-widget")}r.call(this,n,ke,c,null),this.widget=o,a=this}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(o){return this.dirty==Ut&&o.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(o){var s=this.widget.spec.stopEvent;return s?s(o):!1},t.prototype.ignoreMutation=function(o){return o.type!="selection"||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),r.prototype.destroy.call(this)},e.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,e),t}(Z),bf=function(r){function t(n,o,s,i){r.call(this,n,ke,o,null),this.textDOM=s,this.text=i}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={size:{configurable:!0}};return e.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(o,s){return o!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s},t.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},t.prototype.ignoreMutation=function(o){return o.type==="characterData"&&o.target.nodeValue==o.oldValue},Object.defineProperties(t.prototype,e),t}(Z),Wn=function(r){function t(e,n,o,s){r.call(this,e,[],o,s),this.mark=n}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.create=function(n,o,s,i){var a=i.nodeViews[o.type.name],c=a&&a(o,i,s);return(!c||!c.dom)&&(c=ct.renderSpec(document,o.type.spec.toDOM(o,s))),new t(n,o,c.dom,c.contentDOM||c.dom)},t.prototype.parseRule=function(){return this.dirty&le||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(n){return this.dirty!=le&&this.mark.eq(n)},t.prototype.markDirty=function(n,o){if(r.prototype.markDirty.call(this,n,o),this.dirty!=Ut){for(var s=this.parent;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Ut}},t.prototype.slice=function(n,o,s){var i=t.create(this.parent,this.mark,!0,s),a=this.children,c=this.size;o<c&&(a=Yo(a,o,c,s)),n>0&&(a=Yo(a,0,n,s));for(var u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i},t}(Z),Kr=function(r){function t(n,o,s,i,a,c,u,l,f){r.call(this,n,o.isLeaf?ke:[],a,c),this.nodeDOM=u,this.node=o,this.outerDeco=s,this.innerDeco=i,c&&this.updateChildren(l,f)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(o,s,i,a,c,u){var l,f=c.nodeViews[s.type.name],p,h=f&&f(s,c,function(){if(!p)return u;if(p.parent)return p.parent.posBeforeChild(p)},i,a),d=h&&h.dom,m=h&&h.contentDOM;if(s.isText){if(!d)d=document.createTextNode(s.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||(l=ct.renderSpec(document,s.type.spec.toDOM(s)),d=l.dom,m=l.contentDOM);!m&&!s.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable=!1),s.type.spec.draggable&&(d.draggable=!0));var v=d;return d=xc(d,i,s),h?p=new kf(o,s,i,a,d,m,v,h,c,u+1):s.isText?new bc(o,s,i,a,d,v,c):new t(o,s,i,a,d,m,v,c,u+1)},t.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var s={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.whitespace=="pre"&&(s.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?s.contentElement=this.contentDOM:s.getContent=function(){return o.contentDOM?x.empty:o.node.content},s},t.prototype.matchesNode=function(o,s,i){return this.dirty==Ut&&o.eq(this.node)&&Zo(s,this.outerDeco)&&i.eq(this.innerDeco)},e.size.get=function(){return this.node.nodeSize},e.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(o,s){var i=this,a=this.node.inlineContent,c=s,u=o.composing&&this.localCompositionInfo(o,s),l=u&&u.pos>-1?u:null,f=u&&u.pos<0,p=new qt(this,l&&l.node);Af(this.node,this.innerDeco,function(h,d,m){h.spec.marks?p.syncToMarks(h.spec.marks,a,o):h.type.side>=0&&!m&&p.syncToMarks(d==i.node.childCount?z.none:i.node.child(d).marks,a,o),p.placeWidget(h,o,c)},function(h,d,m,v){p.syncToMarks(h.marks,a,o);var y;p.findNodeMatch(h,d,m,v)||f&&o.state.selection.from>c&&o.state.selection.to<c+h.nodeSize&&(y=p.findIndexWithChild(u.node))>-1&&p.updateNodeAt(h,d,m,y,o)||p.updateNextNode(h,d,m,o,v)||p.addNode(h,d,m,o,c),c+=h.nodeSize}),p.syncToMarks(ke,a,o),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||this.dirty==Ar)&&(l&&this.protectLocalComposition(o,l),Dc(this.contentDOM,this.children,o),A.ios&&Ef(this.dom))},t.prototype.localCompositionInfo=function(o,s){var i=o.state.selection,a=i.from,c=i.to;if(!(!(o.state.selection instanceof J)||a<s||c>s+this.node.content.size)){var u=o.root.getSelection(),l=_f(u.focusNode,u.focusOffset);if(!(!l||!this.dom.contains(l.parentNode)))if(this.node.inlineContent){var f=l.nodeValue,p=wf(this.node.content,f,a-s,c-s);return p<0?null:{node:l,pos:p,text:f}}else return{node:l,pos:-1}}},t.prototype.protectLocalComposition=function(o,s){var i=s.node,a=s.pos,c=s.text;if(!this.getDesc(i)){for(var u=i;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=null)}var l=new bf(this,u,i,c);o.compositionNodes.push(l),this.children=Yo(this.children,a,a+c.length,o,l)}},t.prototype.update=function(o,s,i,a){return this.dirty==le||!o.sameMarkup(this.node)?!1:(this.updateInner(o,s,i,a),!0)},t.prototype.updateInner=function(o,s,i,a){this.updateOuterDeco(s),this.node=o,this.innerDeco=i,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=Ut},t.prototype.updateOuterDeco=function(o){if(!Zo(o,this.outerDeco)){var s=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=Cc(this.dom,this.nodeDOM,Go(this.outerDeco,this.node,s),Go(o,this.node,s)),this.dom!=i&&(i.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},e.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,e),t}(Z);function yc(r,t,e,n,o){return xc(n,t,r),new Kr(null,r,t,e,n,n,n,o,0)}var bc=function(r){function t(n,o,s,i,a,c,u){r.call(this,n,o,s,i,a,null,c,u)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},t.prototype.update=function(o,s,i,a){return this.dirty==le||this.dirty!=Ut&&!this.inParent()||!o.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=Ut||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=o,this.dirty=Ut,!0)},t.prototype.inParent=function(){for(var o=this.parent.contentDOM,s=this.nodeDOM;s;s=s.parentNode)if(s==o)return!0;return!1},t.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},t.prototype.localPosFromDOM=function(o,s,i){return o==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):r.prototype.localPosFromDOM.call(this,o,s,i)},t.prototype.ignoreMutation=function(o){return o.type!="characterData"&&o.type!="selection"},t.prototype.slice=function(o,s,i){var a=this.node.cut(o,s),c=document.createTextNode(a.text);return new t(this.parent,a,this.outerDeco,this.innerDeco,c,c,i)},t.prototype.markDirty=function(o,s){r.prototype.markDirty.call(this,o,s),this.dom!=this.nodeDOM&&(o==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=le)},e.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,e),t}(Kr),kc=function(r){function t(){r.apply(this,arguments)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(o){return this.dirty==Ut&&this.dom.nodeName==o},e.domAtom.get=function(){return!0},e.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(t.prototype,e),t}(Z),kf=function(r){function t(e,n,o,s,i,a,c,u,l,f){r.call(this,e,n,o,s,i,a,c,l,f),this.spec=u}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.update=function(n,o,s,i){if(this.dirty==le)return!1;if(this.spec.update){var a=this.spec.update(n,o,s);return a&&this.updateInner(n,o,s,i),a}else return!this.contentDOM&&!n.isLeaf?!1:r.prototype.update.call(this,n,o,s,i)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():r.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():r.prototype.deselectNode.call(this)},t.prototype.setSelection=function(n,o,s,i){this.spec.setSelection?this.spec.setSelection(n,o,s):r.prototype.setSelection.call(this,n,o,s,i)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),r.prototype.destroy.call(this)},t.prototype.stopEvent=function(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1},t.prototype.ignoreMutation=function(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):r.prototype.ignoreMutation.call(this,n)},t}(Kr);function Dc(r,t,e){for(var n=r.firstChild,o=!1,s=0;s<t.length;s++){var i=t[s],a=i.dom;if(a.parentNode==r){for(;a!=n;)n=hi(n),o=!0;n=n.nextSibling}else o=!0,r.insertBefore(a,n);if(i instanceof Wn){var c=n?n.previousSibling:r.lastChild;Dc(i.contentDOM,i.children,e),n=c?c.nextSibling:r.firstChild}}for(;n;)n=hi(n),o=!0;o&&e.trackWrites==r&&(e.trackWrites=null)}function Er(r){r&&(this.nodeName=r)}Er.prototype=Object.create(null);var Oe=[new Er];function Go(r,t,e){if(r.length==0)return Oe;for(var n=e?Oe[0]:new Er,o=[n],s=0;s<r.length;s++){var i=r[s].type.attrs;if(!!i){i.nodeName&&o.push(n=new Er(i.nodeName));for(var a in i){var c=i[a];c!=null&&(e&&o.length==1&&o.push(n=new Er(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+c:a=="style"?n.style=(n.style?n.style+";":"")+c:a!="nodeName"&&(n[a]=c))}}}return o}function Cc(r,t,e,n){if(e==Oe&&n==Oe)return t;for(var o=t,s=0;s<n.length;s++){var i=n[s],a=e[s];if(s){var c=void 0;a&&a.nodeName==i.nodeName&&o!=r&&(c=o.parentNode)&&c.tagName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(o),a=Oe[0]),o=c}Df(o,a||Oe[0],i)}return o}function Df(r,t,e){for(var n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&r.removeAttribute(n);for(var o in e)o!="class"&&o!="style"&&o!="nodeName"&&e[o]!=t[o]&&r.setAttribute(o,e[o]);if(t.class!=e.class){for(var s=t.class?t.class.split(" ").filter(Boolean):ke,i=e.class?e.class.split(" ").filter(Boolean):ke,a=0;a<s.length;a++)i.indexOf(s[a])==-1&&r.classList.remove(s[a]);for(var c=0;c<i.length;c++)s.indexOf(i[c])==-1&&r.classList.add(i[c]);r.classList.length==0&&r.removeAttribute("class")}if(t.style!=e.style){if(t.style)for(var u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,l;l=u.exec(t.style);)r.style.removeProperty(l[1]);e.style&&(r.style.cssText+=e.style)}}function xc(r,t,e){return Cc(r,r,Oe,Go(t,e,r.nodeType!=1))}function Zo(r,t){if(r.length!=t.length)return!1;for(var e=0;e<r.length;e++)if(!r[e].type.eq(t[e].type))return!1;return!0}function hi(r){var t=r.nextSibling;return r.parentNode.removeChild(r),t}var qt=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=Cf(t.node.content,t)};qt.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}};qt.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};qt.prototype.syncToMarks=function(t,e,n){for(var o=0,s=this.stack.length>>1,i=Math.min(s,t.length);o<i&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Ut,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(t[s])){a=c;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var u=Wn.create(this.top,t[s],e,n);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}};qt.prototype.findNodeMatch=function(t,e,n,o){var s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))s=this.top.children.indexOf(i,this.index);else for(var a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){var u=this.top.children[a];if(u.matchesNode(t,e,n)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)};qt.prototype.updateNodeAt=function(t,e,n,o,s){var i=this.top.children[o];return i.update(t,e,n,s)?(this.destroyBetween(this.index,o),this.index=o+1,!0):!1};qt.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n){for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o}return-1}t=e}};qt.prototype.updateNextNode=function(t,e,n,o,s){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof Kr){var c=this.preMatch.matched.get(a);if(c!=null&&c!=s)return!1;var u=a.dom,l=this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=le&&Zo(e,a.outerDeco));if(!l&&a.update(t,e,n,o))return this.destroyBetween(this.index,i),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1};qt.prototype.addNode=function(t,e,n,o,s){this.top.children.splice(this.index++,0,Kr.create(this.top,t,e,n,o,s)),this.changed=!0};qt.prototype.placeWidget=function(t,e,n){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{var s=new vc(this.top,t,e,n);this.top.children.splice(this.index++,0,s),this.changed=!0}};qt.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof Wn;)t=t.children[t.children.length-1];(!t||!(t instanceof bc)||/\n$/.test(t.node.text))&&((A.safari||A.chrome)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};qt.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);t=="IMG"&&(e.className="ProseMirror-separator"),t=="BR"&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new kc(this.top,ke,e,null)),this.changed=!0}};function Cf(r,t){var e=t,n=e.children.length,o=r.childCount,s=new Map,i=[];t:for(;o>0;){for(var a=void 0;;)if(n){var c=e.children[n-1];if(c instanceof Wn)e=c,n=c.children.length;else{a=c,n--;break}}else{if(e==t)break t;n=e.parent.children.indexOf(e),e=e.parent}var u=a.node;if(!!u){if(u!=r.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function xf(r,t){return r.type.side-t.type.side}function Af(r,t,e,n){var o=t.locals(r),s=0;if(o.length==0){for(var i=0;i<r.childCount;i++){var a=r.child(i);n(a,o,t.forChild(s,a),i),s+=a.nodeSize}return}for(var c=0,u=[],l=null,f=0;;){if(c<o.length&&o[c].to==s){for(var p=o[c++],h=void 0;c<o.length&&o[c].to==s;)(h||(h=[p])).push(o[c++]);if(h){h.sort(xf);for(var d=0;d<h.length;d++)e(h[d],f,!!l)}else e(p,f,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else if(f<r.childCount)v=f,m=r.child(f++);else break;for(var y=0;y<u.length;y++)u[y].to<=s&&u.splice(y--,1);for(;c<o.length&&o[c].from<=s&&o[c].to>s;)u.push(o[c++]);var g=s+m.nodeSize;if(m.isText){var k=g;c<o.length&&o[c].from<k&&(k=o[c].from);for(var b=0;b<u.length;b++)u[b].to<k&&(k=u[b].to);k<g&&(l=m.cut(k-s),m=m.cut(0,k-s),g=k,v=-1)}var D=u.length?m.isInline&&!m.isLeaf?u.filter(function(C){return!C.inline}):u.slice():ke;n(m,D,t.forChild(s,m),v),s=g}}function Ef(r){if(r.nodeName=="UL"||r.nodeName=="OL"){var t=r.style.cssText;r.style.cssText=t+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=t}}function _f(r,t){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&t>0){if(r.childNodes.length>t&&r.childNodes[t].nodeType==3)return r.childNodes[t];r=r.childNodes[t-1],t=Zt(r)}else if(r.nodeType==1&&t<r.childNodes.length)r=r.childNodes[t],t=0;else return null}}function wf(r,t,e,n){for(var o=0,s=0;o<r.childCount&&s<=n;){var i=r.child(o++),a=s;if(s+=i.nodeSize,!!i.isText){for(var c=i.text;o<r.childCount;){var u=r.child(o++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=e&&a<n){var l=c.lastIndexOf(t,n-a-1);if(l>=0&&l+t.length+a>=e)return a+l}}}return-1}function Yo(r,t,e,n,o){for(var s=[],i=0,a=0;i<r.length;i++){var c=r[i],u=a,l=a+=c.size;u>=e||l<=t?s.push(c):(u<t&&s.push(c.slice(0,t-u,n)),o&&(s.push(o),o=null),l>e&&s.push(c.slice(e-u,c.size,n)))}return s}function Ac(r,t){var e=r.root.getSelection(),n=r.state.doc;if(!e.focusNode)return null;var o=r.docView.nearestDesc(e.focusNode),s=o&&o.size==0,i=r.docView.posFromDOM(e.focusNode,e.focusOffset);if(i<0)return null;var a=n.resolve(i),c,u;if(ks(e)){for(c=a;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&P.isSelectable(o.node)&&o.parent&&!(o.node.isInline&&ef(e.focusNode,e.focusOffset,o.dom))){var l=o.posBefore;u=new P(i==l?a:n.resolve(l))}}else{var f=r.docView.posFromDOM(e.anchorNode,e.anchorOffset);if(f<0)return null;c=n.resolve(f)}if(!u){var p=t=="pointer"||r.state.selection.head<a.pos&&!s?1:-1;u=Cs(r,c,a,p)}return u}function Ec(r){return r.editable?r.hasFocus():xs(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Ee(r,t){var e=r.state.selection;if(_c(r,e),!!Ec(r)){if(!t&&r.mouseDown&&r.mouseDown.allowDefault&&A.chrome){var n=r.root.getSelection(),o=r.domObserver.currentSelection;if(n.anchorNode&&Lr(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset)){r.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)Mf(r);else{var s=e.anchor,i=e.head,a,c;di&&!(e instanceof J)&&(e.$from.parent.inlineContent||(a=mi(r,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(c=mi(r,e.to))),r.docView.setSelection(s,i,r.root,t),di&&(a&&gi(a),c&&gi(c)),e.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Sf(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}var di=A.safari||A.chrome&&A.chrome_version<63;function mi(r,t){var e=r.docView.domFromPos(t,0),n=e.node,o=e.offset,s=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(A.safari&&s&&s.contentEditable=="false")return bo(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return bo(s);if(i)return bo(i)}}function bo(r){return r.contentEditable="true",A.safari&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function gi(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function Sf(r){var t=r.dom.ownerDocument;t.removeEventListener("selectionchange",r.hideSelectionGuard);var e=r.root.getSelection(),n=e.anchorNode,o=e.anchorOffset;t.addEventListener("selectionchange",r.hideSelectionGuard=function(){(e.anchorNode!=n||e.anchorOffset!=o)&&(t.removeEventListener("selectionchange",r.hideSelectionGuard),setTimeout(function(){(!Ec(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function Mf(r){var t=r.root.getSelection(),e=document.createRange(),n=r.cursorWrapper.dom,o=n.nodeName=="IMG";o?e.setEnd(n.parentNode,St(n)+1):e.setEnd(n,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!o&&!r.state.selection.visible&&A.ie&&A.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}function _c(r,t){if(t instanceof P){var e=r.docView.descAt(t.from);e!=r.lastSelectedViewDesc&&(vi(r),e&&e.selectNode(),r.lastSelectedViewDesc=e)}else vi(r)}function vi(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=null)}function Cs(r,t,e,n){return r.someProp("createSelectionBetween",function(o){return o(r,t,e)})||J.between(t,e,n)}function Tf(r){return r.editable&&r.root.activeElement!=r.dom?!1:xs(r)}function xs(r){var t=r.root.getSelection();if(!t.anchorNode)return!1;try{return r.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(r.editable||r.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Of(r){var t=r.docView.domFromPos(r.state.selection.anchor,0),e=r.root.getSelection();return Lr(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Qo(r,t){var e=r.selection,n=e.$anchor,o=e.$head,s=t>0?n.max(o):n.min(o),i=s.parent.inlineContent?s.depth?r.doc.resolve(t>0?s.after():s.before()):null:s;return i&&B.findFrom(i,t)}function Se(r,t){return r.dispatch(r.state.tr.setSelection(t).scrollIntoView()),!0}function yi(r,t,e){var n=r.state.selection;if(n instanceof J){if(!n.empty||e.indexOf("s")>-1)return!1;if(r.endOfTextblock(t>0?"right":"left")){var o=Qo(r.state,t);return o&&o instanceof P?Se(r,o):!1}else if(!(A.mac&&e.indexOf("m")>-1)){var s=n.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;var c=t<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=r.docView.descAt(c))&&!a.contentDOM?P.isSelectable(i)?Se(r,new P(t<0?r.state.doc.resolve(s.pos-i.nodeSize):s)):A.webkit?Se(r,new J(r.state.doc.resolve(t<0?c:c+i.nodeSize))):!1:!1}}else{if(n instanceof P&&n.node.isInline)return Se(r,new J(t>0?n.$to:n.$from));var u=Qo(r.state,t);return u?Se(r,u):!1}}function un(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function _r(r){var t=r.pmViewDesc;return t&&t.size==0&&(r.nextSibling||r.nodeName!="BR")}function ko(r){var t=r.root.getSelection(),e=t.focusNode,n=t.focusOffset;if(!!e){var o,s,i=!1;for(A.gecko&&e.nodeType==1&&n<un(e)&&_r(e.childNodes[n])&&(i=!0);;)if(n>0){if(e.nodeType!=1)break;var a=e.childNodes[n-1];if(_r(a))o=e,s=--n;else if(a.nodeType==3)e=a,n=e.nodeValue.length;else break}else{if(wc(e))break;for(var c=e.previousSibling;c&&_r(c);)o=e.parentNode,s=St(c),c=c.previousSibling;if(c)e=c,n=un(e);else{if(e=e.parentNode,e==r.dom)break;n=0}}i?Xo(r,t,e,n):o&&Xo(r,t,o,s)}}function Do(r){var t=r.root.getSelection(),e=t.focusNode,n=t.focusOffset;if(!!e){for(var o=un(e),s,i;;)if(n<o){if(e.nodeType!=1)break;var a=e.childNodes[n];if(_r(a))s=e,i=++n;else break}else{if(wc(e))break;for(var c=e.nextSibling;c&&_r(c);)s=c.parentNode,i=St(c)+1,c=c.nextSibling;if(c)e=c,n=0,o=un(e);else{if(e=e.parentNode,e==r.dom)break;n=o=0}}s&&Xo(r,t,s,i)}}function wc(r){var t=r.pmViewDesc;return t&&t.node&&t.node.isBlock}function Xo(r,t,e,n){if(ks(t)){var o=document.createRange();o.setEnd(e,n),o.setStart(e,n),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(e,n);r.domObserver.setCurSelection();var s=r.state;setTimeout(function(){r.state==s&&Ee(r)},50)}function bi(r,t,e){var n=r.state.selection;if(n instanceof J&&!n.empty||e.indexOf("s")>-1||A.mac&&e.indexOf("m")>-1)return!1;var o=n.$from,s=n.$to;if(!o.parent.inlineContent||r.endOfTextblock(t<0?"up":"down")){var i=Qo(r.state,t);if(i&&i instanceof P)return Se(r,i)}if(!o.parent.inlineContent){var a=t<0?o:s,c=n instanceof Ie?B.near(a,t):B.findFrom(a,t);return c?Se(r,c):!1}return!1}function ki(r,t){if(!(r.state.selection instanceof J))return!0;var e=r.state.selection,n=e.$head,o=e.$anchor,s=e.empty;if(!n.sameParent(o))return!0;if(!s)return!1;if(r.endOfTextblock(t>0?"forward":"backward"))return!0;var i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){var a=r.state.tr;return t<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),r.dispatch(a),!0}return!1}function Di(r,t,e){r.domObserver.stop(),t.contentEditable=e,r.domObserver.start()}function Ff(r){if(!(!A.safari||r.state.selection.$head.parentOffset>0)){var t=r.root.getSelection(),e=t.focusNode,n=t.focusOffset;if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){var o=e.firstChild;Di(r,o,!0),setTimeout(function(){return Di(r,o,!1)},20)}}}function Nf(r){var t="";return r.ctrlKey&&(t+="c"),r.metaKey&&(t+="m"),r.altKey&&(t+="a"),r.shiftKey&&(t+="s"),t}function Bf(r,t){var e=t.keyCode,n=Nf(t);return e==8||A.mac&&e==72&&n=="c"?ki(r,-1)||ko(r):e==46||A.mac&&e==68&&n=="c"?ki(r,1)||Do(r):e==13||e==27?!0:e==37?yi(r,-1,n)||ko(r):e==39?yi(r,1,n)||Do(r):e==38?bi(r,-1,n)||ko(r):e==40?Ff(r)||bi(r,1,n)||Do(r):n==(A.mac?"m":"c")&&(e==66||e==73||e==89||e==90)}function Rf(r,t,e){var n=r.docView.parseRange(t,e),o=n.node,s=n.fromOffset,i=n.toOffset,a=n.from,c=n.to,u=r.root.getSelection(),l=null,f=u.anchorNode;if(f&&r.dom.contains(f.nodeType==1?f:f.parentNode)&&(l=[{node:f,offset:u.anchorOffset}],ks(u)||l.push({node:u.focusNode,offset:u.focusOffset})),A.chrome&&r.lastKeyCode===8)for(var p=i;p>s;p--){var h=o.childNodes[p-1],d=h.pmViewDesc;if(h.nodeName=="BR"&&!d){i=p;break}if(!d||d.size)break}var m=r.state.doc,v=r.someProp("domParser")||jt.fromSchema(r.state.schema),y=m.resolve(a),g=null,k=v.parse(o,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:l,ruleFromNode:Lf,context:y});if(l&&l[0].pos!=null){var b=l[0].pos,D=l[1]&&l[1].pos;D==null&&(D=b),g={anchor:b+a,head:D+a}}return{doc:k,sel:g,from:a,to:c}}function Lf(r){var t=r.pmViewDesc;if(t)return t.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(A.safari&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){var e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(r.parentNode.lastChild==r||A.safari&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0}}function If(r,t,e,n,o){if(t<0){var s=r.lastSelectionTime>Date.now()-50?r.lastSelectionOrigin:null,i=Ac(r,s);if(i&&!r.state.selection.eq(i)){var a=r.state.tr.setSelection(i);s=="pointer"?a.setMeta("pointer",!0):s=="key"&&a.scrollIntoView(),r.dispatch(a)}return}var c=r.state.doc.resolve(t),u=c.sharedDepth(e);t=c.before(u+1),e=r.state.doc.resolve(e).after(u+1);var l=r.state.selection,f=Rf(r,t,e);if(A.chrome&&r.cursorWrapper&&f.sel&&f.sel.anchor==r.cursorWrapper.deco.from){var p=r.cursorWrapper.deco.type.toDOM.nextSibling,h=p&&p.nodeValue?p.nodeValue.length:1;f.sel={anchor:f.sel.anchor+h,head:f.sel.anchor+h}}var d=r.state.doc,m=d.slice(f.from,f.to),v,y;r.lastKeyCode===8&&Date.now()-100<r.lastKeyCodeTime?(v=r.state.selection.to,y="end"):(v=r.state.selection.from,y="start"),r.lastKeyCode=null;var g=zf(m.content,f.doc.content,f.from,v,y);if(!g)if(n&&l instanceof J&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))g={start:l.from,endA:l.to,endB:l.to};else if((A.ios&&r.lastIOSEnter>Date.now()-225||A.android)&&o.some(function(R){return R.nodeName=="DIV"||R.nodeName=="P"})&&r.someProp("handleKeyDown",function(R){return R(r,Ke(13,"Enter"))})){r.lastIOSEnter=0;return}else{if(f.sel){var k=Ci(r,r.state.doc,f.sel);k&&!k.eq(r.state.selection)&&r.dispatch(r.state.tr.setSelection(k))}return}r.domChangeCount++,r.state.selection.from<r.state.selection.to&&g.start==g.endB&&r.state.selection instanceof J&&(g.start>r.state.selection.from&&g.start<=r.state.selection.from+2?g.start=r.state.selection.from:g.endA<r.state.selection.to&&g.endA>=r.state.selection.to-2&&(g.endB+=r.state.selection.to-g.endA,g.endA=r.state.selection.to)),A.ie&&A.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>f.from&&f.doc.textBetween(g.start-f.from-1,g.start-f.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);var b=f.doc.resolveNoCache(g.start-f.from),D=f.doc.resolveNoCache(g.endB-f.from),C=b.sameParent(D)&&b.parent.inlineContent,S;if((A.ios&&r.lastIOSEnter>Date.now()-225&&(!C||o.some(function(R){return R.nodeName=="DIV"||R.nodeName=="P"}))||!C&&b.pos<f.doc.content.size&&(S=B.findFrom(f.doc.resolve(b.pos+1),1,!0))&&S.head==D.pos)&&r.someProp("handleKeyDown",function(R){return R(r,Ke(13,"Enter"))})){r.lastIOSEnter=0;return}if(r.state.selection.anchor>g.start&&qf(d,g.start,g.endA,b,D)&&r.someProp("handleKeyDown",function(R){return R(r,Ke(8,"Backspace"))})){A.android&&A.chrome&&r.domObserver.suppressSelectionUpdates();return}A.chrome&&A.android&&g.toB==g.from&&(r.lastAndroidDelete=Date.now()),A.android&&!C&&b.start()!=D.start()&&D.parentOffset==0&&b.depth==D.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==g.endA&&(g.endB-=2,D=f.doc.resolveNoCache(g.endB-f.from),setTimeout(function(){r.someProp("handleKeyDown",function(R){return R(r,Ke(13,"Enter"))})},20));var T=g.start,I=g.endA,O,K,Ct,E;if(C){if(b.pos==D.pos)A.ie&&A.ie_version<=11&&b.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Ee(r)},20)),O=r.state.tr.delete(T,I),K=d.resolve(g.start).marksAcross(d.resolve(g.endA));else if(g.endA==g.endB&&(E=d.resolve(g.start))&&(Ct=Pf(b.parent.content.cut(b.parentOffset,D.parentOffset),E.parent.content.cut(E.parentOffset,g.endA-E.start()))))O=r.state.tr,Ct.type=="add"?O.addMark(T,I,Ct.mark):O.removeMark(T,I,Ct.mark);else if(b.parent.child(b.index()).isText&&b.index()==D.index()-(D.textOffset?0:1)){var W=b.parent.textBetween(b.parentOffset,D.parentOffset);if(r.someProp("handleTextInput",function(R){return R(r,T,I,W)}))return;O=r.state.tr.insertText(W,T,I)}}if(O||(O=r.state.tr.replace(T,I,f.doc.slice(g.start-f.from,g.endB-f.from))),f.sel){var L=Ci(r,O.doc,f.sel);L&&!(A.chrome&&A.android&&r.composing&&L.empty&&(g.start!=g.endB||r.lastAndroidDelete<Date.now()-100)&&(L.head==T||L.head==O.mapping.map(I)-1)||A.ie&&L.empty&&L.head==T)&&O.setSelection(L)}K&&O.ensureMarks(K),r.dispatch(O.scrollIntoView())}function Ci(r,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Cs(r,t.resolve(e.anchor),t.resolve(e.head))}function Pf(r,t){for(var e=r.firstChild.marks,n=t.firstChild.marks,o=e,s=n,i,a,c,u=0;u<n.length;u++)o=n[u].removeFromSet(o);for(var l=0;l<e.length;l++)s=e[l].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],i="add",c=function(h){return h.mark(a.addToSet(h.marks))};else if(o.length==0&&s.length==1)a=s[0],i="remove",c=function(h){return h.mark(a.removeFromSet(h.marks))};else return null;for(var f=[],p=0;p<t.childCount;p++)f.push(c(t.child(p)));if(x.from(f).eq(r))return{mark:a,type:i}}function qf(r,t,e,n,o){if(!n.parent.isTextblock||e-t<=o.pos-n.pos||Co(n,!0,!1)<o.pos)return!1;var s=r.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;var i=r.resolve(Co(s,!0,!0));return!i.parent.isTextblock||i.pos>e||Co(i,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function Co(r,t,e){for(var n=r.depth,o=t?r.end():r.pos;n>0&&(t||r.indexAfter(n)==r.node(n).childCount);)n--,o++,t=!1;if(e)for(var s=r.node(n).maybeChild(r.indexAfter(n));s&&!s.isLeaf;)s=s.firstChild,o++;return o}function zf(r,t,e,n,o){var s=r.findDiffStart(t,e);if(s==null)return null;var i=r.findDiffEnd(t,e+r.size,e+t.size),a=i.a,c=i.b;if(o=="end"){var u=Math.max(0,s-Math.min(a,c));n-=a+u-s}if(a<s&&r.size<t.size){var l=n<=s&&n>=a?s-n:0;s-=l,c=s+(c-a),a=s}else if(c<s){var f=n<=s&&n>=c?s-n:0;s-=f,a=s+(a-c),c=s}return{start:s,endA:a,endB:c}}function Sc(r,t){for(var e=[],n=t.content,o=t.openStart,s=t.openEnd;o>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){o--,s--;var i=n.firstChild;e.push(i.type.name,i.attrs!=i.type.defaultAttrs?i.attrs:null),n=i.content}var a=r.someProp("clipboardSerializer")||ct.fromSchema(r.state.schema),c=Bc(),u=c.createElement("div");u.appendChild(a.serializeFragment(n,{document:c}));for(var l=u.firstChild,f;l&&l.nodeType==1&&(f=Nc[l.nodeName.toLowerCase()]);){for(var p=f.length-1;p>=0;p--){for(var h=c.createElement(f[p]);u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h),f[p]!="tbody"&&(o++,s++)}l=u.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(e));var d=r.someProp("clipboardTextSerializer",function(m){return m(t)})||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:d}}function Mc(r,t,e,n,o){var s,i=o.parent.type.spec.code,a;if(!e&&!t)return null;var c=t&&(n||i||!e);if(c){if(r.someProp("transformPastedText",function(D){t=D(t,i||n)}),i)return t?new w(x.from(r.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):w.empty;var u=r.someProp("clipboardTextParser",function(D){return D(t,o,n)});if(u)a=u;else{var l=o.marks(),f=r.state,p=f.schema,h=ct.fromSchema(p);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(function(D){var C=s.appendChild(document.createElement("p"));D&&C.appendChild(h.serializeNode(p.text(D,l)))})}}else r.someProp("transformPastedHTML",function(D){e=D(e)}),s=jf(e),A.webkit&&Uf(s);var d=s&&s.querySelector("[data-pm-slice]"),m=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!a){var v=r.someProp("clipboardParser")||r.someProp("domParser")||jt.fromSchema(r.state.schema);a=v.parseSlice(s,{preserveWhitespace:!!(c||m),context:o,ruleFromNode:function(C){if(C.nodeName=="BR"&&!C.nextSibling&&C.parentNode&&!Vf.test(C.parentNode.nodeName))return{ignore:!0}}})}if(m)a=Kf(xi(a,+m[1],+m[2]),m[3]);else if(a=w.maxOpen(Hf(a.content,o),!0),a.openStart||a.openEnd){for(var y=0,g=0,k=a.content.firstChild;y<a.openStart&&!k.type.spec.isolating;y++,k=k.firstChild);for(var b=a.content.lastChild;g<a.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);a=xi(a,y,g)}return r.someProp("transformPasted",function(D){a=D(a)}),a}var Vf=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Hf(r,t){if(r.childCount<2)return r;for(var e=function(s){var i=t.node(s),a=i.contentMatchAt(t.index(s)),c=void 0,u=[];if(r.forEach(function(l){if(!!u){var f=a.findWrapping(l.type),p;if(!f)return u=null;if(p=u.length&&c.length&&Oc(f,c,l,u[u.length-1],0))u[u.length-1]=p;else{u.length&&(u[u.length-1]=Fc(u[u.length-1],c.length));var h=Tc(l,f);u.push(h),a=a.matchType(h.type,h.attrs),c=f}}}),u)return{v:x.from(u)}},n=t.depth;n>=0;n--){var o=e(n);if(o)return o.v}return r}function Tc(r,t,e){e===void 0&&(e=0);for(var n=t.length-1;n>=e;n--)r=t[n].create(null,x.from(r));return r}function Oc(r,t,e,n,o){if(o<r.length&&o<t.length&&r[o]==t[o]){var s=Oc(r,t,e,n.lastChild,o+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));var i=n.contentMatchAt(n.childCount);if(i.matchType(o==r.length-1?e.type:r[o+1]))return n.copy(n.content.append(x.from(Tc(e,r,o+1))))}}function Fc(r,t){if(t==0)return r;var e=r.content.replaceChild(r.childCount-1,Fc(r.lastChild,t-1)),n=r.contentMatchAt(r.childCount).fillBefore(x.empty,!0);return r.copy(e.append(n))}function ts(r,t,e,n,o,s){var i=t<0?r.firstChild:r.lastChild,a=i.content;return o<n-1&&(a=ts(a,t,e,n,o+1,s)),o>=e&&(a=t<0?i.contentMatchAt(0).fillBefore(a,r.childCount>1||s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(x.empty,!0))),r.replaceChild(t<0?0:r.childCount-1,i.copy(a))}function xi(r,t,e){return t<r.openStart&&(r=new w(ts(r.content,-1,t,r.openStart,0,r.openEnd),t,r.openEnd)),e<r.openEnd&&(r=new w(ts(r.content,1,e,r.openEnd,0,0),r.openStart,e)),r}var Nc={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ai=null;function Bc(){return Ai||(Ai=document.implementation.createHTMLDocument("title"))}function jf(r){var t=/^(\s*<meta [^>]*>)*/.exec(r);t&&(r=r.slice(t[0].length));var e=Bc().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),o;if((o=n&&Nc[n[1].toLowerCase()])&&(r=o.map(function(i){return"<"+i+">"}).join("")+r+o.map(function(i){return"</"+i+">"}).reverse().join("")),e.innerHTML=r,o)for(var s=0;s<o.length;s++)e=e.querySelector(o[s])||e;return e}function Uf(r){for(var t=r.querySelectorAll(A.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),e=0;e<t.length;e++){var n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function Kf(r,t){if(!r.size)return r;var e=r.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return r}for(var o=r.content,s=r.openStart,i=r.openEnd,a=n.length-2;a>=0;a-=2){var c=e.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;o=x.from(c.create(n[a+1],o)),s++,i++}return new w(o,s,i)}var Wf={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},As=A.ie&&A.ie_version<=11,Es=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Es.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset};Es.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Ft=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var s=0;s<o.length;s++)n.queue.push(o[s]);A.ie&&A.ie_version<=11&&o.some(function(i){return i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new Es,As&&(this.onCharData=function(o){n.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ft.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))};Ft.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};Ft.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Wf),As&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};Ft.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}As&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};Ft.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};Ft.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};Ft.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)};Ft.prototype.onSelectionChange=function(){if(!!Tf(this.view)){if(this.suppressingSelectionUpdates)return Ee(this.view);if(A.ie&&A.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&Lr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}};Ft.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};Ft.prototype.ignoreSelectionChange=function(t){if(t.rangeCount==0)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);if(n&&n.ignoreMutation({type:"selection",target:e.nodeType==3?e.parentNode:e}))return this.setCurSelection(),!0};Ft.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&xs(this.view)&&!this.ignoreSelectionChange(e),o=-1,s=-1,i=!1,a=[];if(this.view.editable)for(var c=0;c<t.length;c++){var u=this.registerMutation(t[c],a);u&&(o=o<0?u.from:Math.min(u.from,o),s=s<0?u.to:Math.max(u.to,s),u.typeOver&&(i=!0))}if(A.gecko&&a.length>1){var l=a.filter(function(h){return h.nodeName=="BR"});if(l.length==2){var f=l[0],p=l[1];f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,s),Jf(this.view)),this.handleDOMChange(o,s,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Ee(this.view),this.currentSelection.set(e))}};Ft.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(var o=0;o<t.addedNodes.length;o++)e.push(t.addedNodes[o]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var s=t.previousSibling,i=t.nextSibling;if(A.ie&&A.ie_version<=11&&t.addedNodes.length)for(var a=0;a<t.addedNodes.length;a++){var c=t.addedNodes[a],u=c.previousSibling,l=c.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(s=u),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(i=l)}var f=s&&s.parentNode==t.target?St(s)+1:0,p=n.localPosFromDOM(t.target,f,-1),h=i&&i.parentNode==t.target?St(i):t.target.childNodes.length,d=n.localPosFromDOM(t.target,h,1);return{from:p,to:d}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Ei=!1;function Jf(r){Ei||(Ei=!0,getComputedStyle(r.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var wt={},Et={};function $f(r){r.shiftKey=!1,r.mouseDown=null,r.lastKeyCode=null,r.lastKeyCodeTime=0,r.lastClick={time:0,x:0,y:0,type:""},r.lastSelectionOrigin=null,r.lastSelectionTime=0,r.lastIOSEnter=0,r.lastIOSEnterFallbackTimeout=null,r.lastAndroidDelete=0,r.composing=!1,r.composingTimeout=null,r.compositionNodes=[],r.compositionEndedAt=-2e8,r.domObserver=new Ft(r,function(n,o,s,i){return If(r,n,o,s,i)}),r.domObserver.start(),r.domChangeCount=0,r.eventHandlers=Object.create(null);var t=function(n){var o=wt[n];r.dom.addEventListener(n,r.eventHandlers[n]=function(s){Zf(r,s)&&!ws(r,s)&&(r.editable||!(s.type in Et))&&o(r,s)})};for(var e in wt)t(e);A.safari&&r.dom.addEventListener("input",function(){return null}),_s(r)}function Be(r,t){r.lastSelectionOrigin=t,r.lastSelectionTime=Date.now()}function Gf(r){r.domObserver.stop();for(var t in r.eventHandlers)r.dom.removeEventListener(t,r.eventHandlers[t]);clearTimeout(r.composingTimeout),clearTimeout(r.lastIOSEnterFallbackTimeout)}function _s(r){r.someProp("handleDOMEvents",function(t){for(var e in t)r.eventHandlers[e]||r.dom.addEventListener(e,r.eventHandlers[e]=function(n){return ws(r,n)})})}function ws(r,t){return r.someProp("handleDOMEvents",function(e){var n=e[t.type];return n?n(r,t)||t.defaultPrevented:!1})}function Zf(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var e=t.target;e!=r.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function Yf(r,t){!ws(r,t)&&wt[t.type]&&(r.editable||!(t.type in Et))&&wt[t.type](r,t)}Et.keydown=function(r,t){if(r.shiftKey=t.keyCode==16||t.shiftKey,!Lc(r,t)&&(r.lastKeyCode=t.keyCode,r.lastKeyCodeTime=Date.now(),!(A.android&&A.chrome&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),A.ios&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var e=Date.now();r.lastIOSEnter=e,r.lastIOSEnterFallbackTimeout=setTimeout(function(){r.lastIOSEnter==e&&(r.someProp("handleKeyDown",function(n){return n(r,Ke(13,"Enter"))}),r.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",function(n){return n(r,t)})||Bf(r,t)?t.preventDefault():Be(r,"key")};Et.keyup=function(r,t){t.keyCode==16&&(r.shiftKey=!1)};Et.keypress=function(r,t){if(!(Lc(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||A.mac&&t.metaKey)){if(r.someProp("handleKeyPress",function(o){return o(r,t)})){t.preventDefault();return}var e=r.state.selection;if(!(e instanceof J)||!e.$from.sameParent(e.$to)){var n=String.fromCharCode(t.charCode);r.someProp("handleTextInput",function(o){return o(r,e.$from.pos,e.$to.pos,n)})||r.dispatch(r.state.tr.insertText(n).scrollIntoView()),t.preventDefault()}}};function Jn(r){return{left:r.clientX,top:r.clientY}}function Qf(r,t){var e=t.x-r.clientX,n=t.y-r.clientY;return e*e+n*n<100}function Ss(r,t,e,n,o){if(n==-1)return!1;for(var s=r.state.doc.resolve(n),i=function(u){if(r.someProp(t,function(l){return u>s.depth?l(r,e,s.nodeAfter,s.before(u),o,!0):l(r,e,s.node(u),s.before(u),o,!1)}))return{v:!0}},a=s.depth+1;a>0;a--){var c=i(a);if(c)return c.v}return!1}function tr(r,t,e){r.focused||r.focus();var n=r.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function Xf(r,t){if(t==-1)return!1;var e=r.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&P.isSelectable(n)?(tr(r,new P(e),"pointer"),!0):!1}function tp(r,t){if(t==-1)return!1;var e=r.state.selection,n,o;e instanceof P&&(n=e.node);for(var s=r.state.doc.resolve(t),i=s.depth+1;i>0;i--){var a=i>s.depth?s.nodeAfter:s.node(i);if(P.isSelectable(a)){n&&e.$from.depth>0&&i>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?o=s.before(e.$from.depth):o=s.before(i);break}}return o!=null?(tr(r,P.create(r.state.doc,o),"pointer"),!0):!1}function ep(r,t,e,n,o){return Ss(r,"handleClickOn",t,e,n)||r.someProp("handleClick",function(s){return s(r,t,n)})||(o?tp(r,e):Xf(r,e))}function rp(r,t,e,n){return Ss(r,"handleDoubleClickOn",t,e,n)||r.someProp("handleDoubleClick",function(o){return o(r,t,n)})}function np(r,t,e,n){return Ss(r,"handleTripleClickOn",t,e,n)||r.someProp("handleTripleClick",function(o){return o(r,t,n)})||op(r,e,n)}function op(r,t,e){if(e.button!=0)return!1;var n=r.state.doc;if(t==-1)return n.inlineContent?(tr(r,J.create(n,0,n.content.size),"pointer"),!0):!1;for(var o=n.resolve(t),s=o.depth+1;s>0;s--){var i=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(i.inlineContent)tr(r,J.create(n,a+1,a+1+i.content.size),"pointer");else if(P.isSelectable(i))tr(r,P.create(n,a),"pointer");else continue;return!0}}function Ms(r){return ln(r)}var Rc=A.mac?"metaKey":"ctrlKey";wt.mousedown=function(r,t){r.shiftKey=t.shiftKey;var e=Ms(r),n=Date.now(),o="singleClick";n-r.lastClick.time<500&&Qf(t,r.lastClick)&&!t[Rc]&&(r.lastClick.type=="singleClick"?o="doubleClick":r.lastClick.type=="doubleClick"&&(o="tripleClick")),r.lastClick={time:n,x:t.clientX,y:t.clientY,type:o};var s=r.posAtCoords(Jn(t));!s||(o=="singleClick"?(r.mouseDown&&r.mouseDown.done(),r.mouseDown=new $n(r,s,t,e)):(o=="doubleClick"?rp:np)(r,s.pos,s.inside,t)?t.preventDefault():Be(r,"pointer"))};var $n=function(t,e,n,o){var s=this;this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=o,this.selectNode=n[Rc],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1;var i,a;if(e.inside>-1)i=t.state.doc.nodeAt(e.inside),a=e.inside;else{var c=t.state.doc.resolve(e.pos);i=c.parent,a=c.depth?c.before():0}this.mightDrag=null;var u=o?null:n.target,l=u?t.docView.nearestDesc(u,!0):null;this.target=l?l.dom:null;var f=t.state,p=f.selection;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||p instanceof P&&p.from<=a&&p.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&A.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Be(t,"pointer")};$n.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Ee(t.view)}),this.view.mouseDown=null};$n.prototype.up=function(t){if(this.done(),!!this.view.dom.contains(t.target.nodeType==3?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Jn(t))),this.allowDefault||!e?Be(this.view,"pointer"):ep(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||A.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||A.chrome&&!(this.view.state.selection instanceof J)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(tr(this.view,B.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Be(this.view,"pointer")}};$n.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Be(this.view,"pointer"),t.buttons==0&&this.done()};wt.touchdown=function(r){Ms(r),Be(r,"pointer")};wt.contextmenu=function(r){return Ms(r)};function Lc(r,t){return r.composing?!0:A.safari&&Math.abs(t.timeStamp-r.compositionEndedAt)<500?(r.compositionEndedAt=-2e8,!0):!1}var sp=A.android?5e3:-1;Et.compositionstart=Et.compositionupdate=function(r){if(!r.composing){r.domObserver.flush();var t=r.state,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(function(a){return a.type.spec.inclusive===!1})))r.markCursor=r.state.storedMarks||e.marks(),ln(r,!0),r.markCursor=null;else if(ln(r),A.gecko&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length)for(var n=r.root.getSelection(),o=n.focusNode,s=n.focusOffset;o&&o.nodeType==1&&s!=0;){var i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){n.collapse(i,i.nodeValue.length);break}else o=i,s=-1}r.composing=!0}Ic(r,sp)};Et.compositionend=function(r,t){r.composing&&(r.composing=!1,r.compositionEndedAt=t.timeStamp,Ic(r,20))};function Ic(r,t){clearTimeout(r.composingTimeout),t>-1&&(r.composingTimeout=setTimeout(function(){return ln(r)},t))}function Pc(r){for(r.composing&&(r.composing=!1,r.compositionEndedAt=ip());r.compositionNodes.length>0;)r.compositionNodes.pop().markParentsDirty()}function ip(){var r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function ln(r,t){if(!(A.android&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),Pc(r),t||r.docView.dirty){var e=Ac(r);return e&&!e.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(e)):r.updateState(r.state),!0}return!1}}function ap(r,t){if(!!r.dom.parentNode){var e=r.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),o=document.createRange();o.selectNodeContents(t),r.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),r.focus()},50)}}var or=A.ie&&A.ie_version<15||A.ios&&A.webkit_version<604;wt.copy=Et.cut=function(r,t){var e=r.state.selection,n=t.type=="cut";if(!e.empty){var o=or?null:t.clipboardData,s=e.content(),i=Sc(r,s),a=i.dom,c=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):ap(r,a),n&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function cp(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function up(r,t){if(!!r.dom.parentNode){var e=r.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(function(){r.focus(),n.parentNode&&n.parentNode.removeChild(n),e?es(r,n.value,null,t):es(r,n.textContent,n.innerHTML,t)},50)}}function es(r,t,e,n){var o=Mc(r,t,e,r.shiftKey,r.state.selection.$from);if(r.someProp("handlePaste",function(a){return a(r,n,o||w.empty)}))return!0;if(!o)return!1;var s=cp(o),i=s?r.state.tr.replaceSelectionWith(s,r.shiftKey):r.state.tr.replaceSelection(o);return r.dispatch(i.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Et.paste=function(r,t){if(!(r.composing&&!A.android)){var e=or?null:t.clipboardData;e&&es(r,e.getData("text/plain"),e.getData("text/html"),t)?t.preventDefault():up(r,t)}};var lp=function(t,e){this.slice=t,this.move=e},qc=A.mac?"altKey":"ctrlKey";wt.dragstart=function(r,t){var e=r.mouseDown;if(e&&e.done(),!!t.dataTransfer){var n=r.state.selection,o=n.empty?null:r.posAtCoords(Jn(t));if(!(o&&o.pos>=n.from&&o.pos<=(n instanceof P?n.to-1:n.to))){if(e&&e.mightDrag)r.dispatch(r.state.tr.setSelection(P.create(r.state.doc,e.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){var s=r.docView.nearestDesc(t.target,!0);s&&s.node.type.spec.draggable&&s!=r.docView&&r.dispatch(r.state.tr.setSelection(P.create(r.state.doc,s.posBefore)))}}var i=r.state.selection.content(),a=Sc(r,i),c=a.dom,u=a.text;t.dataTransfer.clearData(),t.dataTransfer.setData(or?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",or||t.dataTransfer.setData("text/plain",u),r.dragging=new lp(i,!t[qc])}};wt.dragend=function(r){var t=r.dragging;window.setTimeout(function(){r.dragging==t&&(r.dragging=null)},50)};Et.dragover=Et.dragenter=function(r,t){return t.preventDefault()};Et.drop=function(r,t){var e=r.dragging;if(r.dragging=null,!!t.dataTransfer){var n=r.posAtCoords(Jn(t));if(!!n){var o=r.state.doc.resolve(n.pos);if(!!o){var s=e&&e.slice;s?r.someProp("transformPasted",function(d){s=d(s)}):s=Mc(r,t.dataTransfer.getData(or?"Text":"text/plain"),or?null:t.dataTransfer.getData("text/html"),!1,o);var i=e&&!t[qc];if(r.someProp("handleDrop",function(d){return d(r,t,s||w.empty,i)})){t.preventDefault();return}if(!!s){t.preventDefault();var a=s?Ya(r.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);var c=r.state.tr;i&&c.deleteSelection();var u=c.mapping.map(a),l=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(l?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),!c.doc.eq(f)){var p=c.doc.resolve(u);if(l&&P.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new P(p));else{var h=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach(function(d,m,v,y){return h=y}),c.setSelection(Cs(r,p,c.doc.resolve(h)))}r.focus(),r.dispatch(c.setMeta("uiEvent","drop"))}}}}}};wt.focus=function(r){r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(function(){r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.root.getSelection())&&Ee(r)},20))};wt.blur=function(r,t){r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.set({}),r.focused=!1)};wt.beforeinput=function(r,t){if(A.chrome&&A.android&&t.inputType=="deleteContentBackward"){r.domObserver.flushSoon();var e=r.domChangeCount;setTimeout(function(){if(r.domChangeCount==e&&(r.dom.blur(),r.focus(),!r.someProp("handleKeyDown",function(s){return s(r,Ke(8,"Backspace"))}))){var n=r.state.selection,o=n.$cursor;o&&o.pos>0&&r.dispatch(r.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}};for(var _i in Et)wt[_i]=Et[_i];function Ir(r,t){if(r==t)return!0;for(var e in r)if(r[e]!==t[e])return!1;for(var n in t)if(!(n in r))return!1;return!0}var sr=function(t,e){this.spec=e||Pe,this.side=this.spec.side||0,this.toDOM=t};sr.prototype.map=function(t,e,n,o){var s=t.mapResult(e.from+o,this.side<0?-1:1),i=s.pos,a=s.deleted;return a?null:new rt(i-n,i-n,this)};sr.prototype.valid=function(){return!0};sr.prototype.eq=function(t){return this==t||t instanceof sr&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ir(this.spec,t.spec))};sr.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var Kt=function(t,e){this.spec=e||Pe,this.attrs=t};Kt.prototype.map=function(t,e,n,o){var s=t.map(e.from+o,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+o,this.spec.inclusiveEnd?1:-1)-n;return s>=i?null:new rt(s,i,this)};Kt.prototype.valid=function(t,e){return e.from<e.to};Kt.prototype.eq=function(t){return this==t||t instanceof Kt&&Ir(this.attrs,t.attrs)&&Ir(this.spec,t.spec)};Kt.is=function(t){return t.type instanceof Kt};var Pr=function(t,e){this.spec=e||Pe,this.attrs=t};Pr.prototype.map=function(t,e,n,o){var s=t.mapResult(e.from+o,1);if(s.deleted)return null;var i=t.mapResult(e.to+o,-1);return i.deleted||i.pos<=s.pos?null:new rt(s.pos-n,i.pos-n,this)};Pr.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),o=n.index,s=n.offset,i;return s==e.from&&!(i=t.child(o)).isText&&s+i.nodeSize==e.to};Pr.prototype.eq=function(t){return this==t||t instanceof Pr&&Ir(this.attrs,t.attrs)&&Ir(this.spec,t.spec)};var rt=function(t,e,n){this.from=t,this.to=e,this.type=n},Ts={spec:{configurable:!0},inline:{configurable:!0}};rt.prototype.copy=function(t,e){return new rt(t,e,this.type)};rt.prototype.eq=function(t,e){return e===void 0&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to};rt.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)};rt.widget=function(t,e,n){return new rt(t,t,new sr(e,n))};rt.inline=function(t,e,n,o){return new rt(t,e,new Kt(n,o))};rt.node=function(t,e,n,o){return new rt(t,e,new Pr(n,o))};Ts.spec.get=function(){return this.type.spec};Ts.inline.get=function(){return this.type instanceof Kt};Object.defineProperties(rt.prototype,Ts);var fn=[],Pe={},G=function(t,e){this.local=t&&t.length?t:fn,this.children=e&&e.length?e:fn};G.create=function(t,e){return e.length?Gn(e,t,0,Pe):ut};G.prototype.find=function(t,e,n){var o=[];return this.findInner(t==null?0:t,e==null?1e9:e,o,0,n),o};G.prototype.findInner=function(t,e,n,o,s){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=e&&a.to>=t&&(!s||s(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<e&&this.children[c+1]>t){var u=this.children[c]+1;this.children[c+2].findInner(t-u,e-u,n,o+u,s)}};G.prototype.map=function(t,e,n){return this==ut||t.maps.length==0?this:this.mapInner(t,e,0,0,n||Pe)};G.prototype.mapInner=function(t,e,n,o,s){for(var i,a=0;a<this.local.length;a++){var c=this.local[a].map(t,n,o);c&&c.type.valid(e,c)?(i||(i=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?fp(this.children,i,t,e,n,o,s):i?new G(i.sort(qe)):ut};G.prototype.add=function(t,e){return e.length?this==ut?G.create(t,e):this.addInner(t,e,0):this};G.prototype.addInner=function(t,e,n){var o=this,s,i=0;t.forEach(function(u,l){var f=l+n,p;if(!!(p=Vc(e,u,f))){for(s||(s=o.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(u,p,f+1):s.splice(i,0,l,l+u.nodeSize,Gn(p,u,f+1,Pe)),i+=3}});for(var a=zc(i?Hc(e):e,-n),c=0;c<a.length;c++)a[c].type.valid(t,a[c])||a.splice(c--,1);return new G(a.length?this.local.concat(a).sort(qe):this.local,s||this.children)};G.prototype.remove=function(t){return t.length==0||this==ut?this:this.removeInner(t,0)};G.prototype.removeInner=function(t,e){for(var n=this.children,o=this.local,s=0;s<n.length;s+=3){for(var i=void 0,a=n[s]+e,c=n[s+1]+e,u=0,l=void 0;u<t.length;u++)(l=t[u])&&l.from>a&&l.to<c&&(t[u]=null,(i||(i=[])).push(l));if(!!i){n==this.children&&(n=this.children.slice());var f=n[s+2].removeInner(i,a+1);f!=ut?n[s+2]=f:(n.splice(s,3),s-=3)}}if(o.length){for(var p=0,h=void 0;p<t.length;p++)if(h=t[p])for(var d=0;d<o.length;d++)o[d].eq(h,e)&&(o==this.local&&(o=this.local.slice()),o.splice(d--,1))}return n==this.children&&o==this.local?this:o.length||n.length?new G(o,n):ut};G.prototype.forChild=function(t,e){if(this==ut)return this;if(e.isLeaf)return G.empty;for(var n,o,s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}for(var i=t+1,a=i+e.content.size,c=0;c<this.local.length;c++){var u=this.local[c];if(u.from<a&&u.to>i&&u.type instanceof Kt){var l=Math.max(i,u.from)-i,f=Math.min(a,u.to)-i;l<f&&(o||(o=[])).push(u.copy(l,f))}}if(o){var p=new G(o.sort(qe));return n?new Rt([p,n]):p}return n||ut};G.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof G)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0};G.prototype.locals=function(t){return Os(this.localsInner(t))};G.prototype.localsInner=function(t){if(this==ut)return fn;if(t.inlineContent||!this.local.some(Kt.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Kt||e.push(this.local[n]);return e};var ut=new G;G.empty=ut;G.removeOverlap=Os;var Rt=function(t){this.members=t};Rt.prototype.map=function(t,e){var n=this.members.map(function(o){return o.map(t,e,Pe)});return Rt.from(n)};Rt.prototype.forChild=function(t,e){if(e.isLeaf)return G.empty;for(var n=[],o=0;o<this.members.length;o++){var s=this.members[o].forChild(t,e);s!=ut&&(s instanceof Rt?n=n.concat(s.members):n.push(s))}return Rt.from(n)};Rt.prototype.eq=function(t){if(!(t instanceof Rt)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0};Rt.prototype.locals=function(t){for(var e,n=!0,o=0;o<this.members.length;o++){var s=this.members[o].localsInner(t);if(!!s.length)if(!e)e=s;else{n&&(e=e.slice(),n=!1);for(var i=0;i<s.length;i++)e.push(s[i])}}return e?Os(n?e:e.sort(qe)):fn};Rt.from=function(t){switch(t.length){case 0:return ut;case 1:return t[0];default:return new Rt(t)}};function fp(r,t,e,n,o,s,i){for(var a=r.slice(),c=function(K,Ct,E,W){for(var L=0;L<a.length;L+=3){var R=a[L+1],$t=void 0;R==-1||K>R+s||(Ct>=a[L]+s?a[L+1]=-1:E>=o&&($t=W-E-(Ct-K))&&(a[L]+=$t,a[L+1]+=$t))}},u=0;u<e.maps.length;u++)e.maps[u].forEach(c);for(var l=!1,f=0;f<a.length;f+=3)if(a[f+1]==-1){var p=e.map(r[f]+s),h=p-o;if(h<0||h>=n.content.size){l=!0;continue}var d=e.map(r[f+1]+s,-1),m=d-o,v=n.content.findIndex(h),y=v.index,g=v.offset,k=n.maybeChild(y);if(k&&g==h&&g+k.nodeSize==m){var b=a[f+2].mapInner(e,k,p+1,r[f]+s+1,i);b!=ut?(a[f]=h,a[f+1]=m,a[f+2]=b):(a[f+1]=-2,l=!0)}else l=!0}if(l){var D=pp(a,r,t||[],e,o,s,i),C=Gn(D,n,0,i);t=C.local;for(var S=0;S<a.length;S+=3)a[S+1]<0&&(a.splice(S,3),S-=3);for(var T=0,I=0;T<C.children.length;T+=3){for(var O=C.children[T];I<a.length&&a[I]<O;)I+=3;a.splice(I,0,C.children[T],C.children[T+1],C.children[T+2])}}return new G(t&&t.sort(qe),a)}function zc(r,t){if(!t||!r.length)return r;for(var e=[],n=0;n<r.length;n++){var o=r[n];e.push(new rt(o.from+t,o.to+t,o.type))}return e}function pp(r,t,e,n,o,s,i){function a(u,l){for(var f=0;f<u.local.length;f++){var p=u.local[f].map(n,o,l);p?e.push(p):i.onRemove&&i.onRemove(u.local[f].spec)}for(var h=0;h<u.children.length;h+=3)a(u.children[h+2],u.children[h]+l+1)}for(var c=0;c<r.length;c+=3)r[c+1]==-1&&a(r[c+2],t[c]+s+1);return e}function Vc(r,t,e){if(t.isLeaf)return null;for(var n=e+t.nodeSize,o=null,s=0,i=void 0;s<r.length;s++)(i=r[s])&&i.from>e&&i.to<n&&((o||(o=[])).push(i),r[s]=null);return o}function Hc(r){for(var t=[],e=0;e<r.length;e++)r[e]!=null&&t.push(r[e]);return t}function Gn(r,t,e,n){var o=[],s=!1;t.forEach(function(c,u){var l=Vc(r,c,u+e);if(l){s=!0;var f=Gn(l,c,e+u+1,n);f!=ut&&o.push(u,u+c.nodeSize,f)}});for(var i=zc(s?Hc(r):r,-e).sort(qe),a=0;a<i.length;a++)i[a].type.valid(t,i[a])||(n.onRemove&&n.onRemove(i[a].spec),i.splice(a--,1));return i.length||o.length?new G(i,o):ut}function qe(r,t){return r.from-t.from||r.to-t.to}function Os(r){for(var t=r,e=0;e<t.length-1;e++){var n=t[e];if(n.from!=n.to)for(var o=e+1;o<t.length;o++){var s=t[o];if(s.from==n.from){s.to!=n.to&&(t==r&&(t=r.slice()),t[o]=s.copy(s.from,n.to),wi(t,o+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(t==r&&(t=r.slice()),t[e]=n.copy(n.from,s.from),wi(t,o,n.copy(s.from,n.to)));break}}}return t}function wi(r,t,e){for(;t<r.length&&qe(e,r[t])>0;)t++;r.splice(t,0,e)}function Fs(r){var t=[];return r.someProp("decorations",function(e){var n=e(r.state);n&&n!=ut&&t.push(n)}),r.cursorWrapper&&t.push(G.create(r.state.doc,[r.cursorWrapper.deco])),Rt.from(t)}var tt=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Jc),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Kc(this),this.markCursor=null,this.cursorWrapper=null,Uc(this),this.nodeViews=Wc(this),this.docView=yc(this.state.doc,jc(this),Fs(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,$f(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Zn={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};Zn.props.get=function(){if(this._props.state!=this.state){var r=this._props;this._props={};for(var t in r)this._props[t]=r[t];this._props.state=this.state}return this._props};tt.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_s(this),this._props=t,t.plugins&&(t.plugins.forEach(Jc),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)};tt.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];e.state=this.state;for(var o in t)e[o]=t[o];this.update(e)};tt.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)};tt.prototype.updateStateInner=function(t,e){var n=this,o=this.state,s=!1,i=!1;if(t.storedMarks&&this.composing&&(Pc(this),i=!0),this.state=t,e){var a=Wc(this);dp(a,this.nodeViews)&&(this.nodeViews=a,s=!0),_s(this)}this.editable=Kc(this),Uc(this);var c=Fs(this),u=jc(this),l=e?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(t.doc,u,c);(f||!t.selection.eq(o.selection))&&(i=!0);var p=l=="preserve"&&i&&this.dom.style.overflowAnchor==null&&sf(this);if(i){this.domObserver.stop();var h=f&&(A.ie||A.chrome)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&hp(o.selection,t.selection);if(f){var d=A.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(s||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=yc(t.doc,u,c,this.dom,this)),d&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Of(this))?Ee(this,h):(_c(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),l=="reset")this.dom.scrollTop=0;else if(l=="to selection"){var m=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(v){return v(n)})||(t.selection instanceof P?ui(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),m):ui(this,this.coordsAtPos(t.selection.head,1),m))}else p&&af(p)};tt.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()};tt.prototype.updatePluginViews=function(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var e=0;e<this.directPlugins.length;e++){var n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(var i=0;i<this.pluginViews.length;i++){var a=this.pluginViews[i];a.update&&a.update(this,t)}};tt.prototype.someProp=function(t,e){var n=this._props&&this._props[t],o;if(n!=null&&(o=e?e(n):n))return o;for(var s=0;s<this.directPlugins.length;s++){var i=this.directPlugins[s].props[t];if(i!=null&&(o=e?e(i):i))return o}var a=this.state.plugins;if(a)for(var c=0;c<a.length;c++){var u=a[c].props[t];if(u!=null&&(o=e?e(u):u))return o}};tt.prototype.hasFocus=function(){return this.root.activeElement==this.dom};tt.prototype.focus=function(){this.domObserver.stop(),this.editable&&cf(this.dom),Ee(this),this.domObserver.start()};Zn.root.get=function(){var r=this._root;if(r==null){for(var t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t}return r||document};tt.prototype.posAtCoords=function(t){return hf(this,t)};tt.prototype.coordsAtPos=function(t,e){return e===void 0&&(e=1),dc(this,t,e)};tt.prototype.domAtPos=function(t,e){return e===void 0&&(e=0),this.docView.domFromPos(t,e)};tt.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null};tt.prototype.posAtDOM=function(t,e,n){n===void 0&&(n=-1);var o=this.docView.posFromDOM(t,e,n);if(o==null)throw new RangeError("DOM position not inside the editor");return o};tt.prototype.endOfTextblock=function(t,e){return yf(this,e||this.state,t)};tt.prototype.destroy=function(){!this.docView||(Gf(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fs(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};Zn.isDestroyed.get=function(){return this.docView==null};tt.prototype.dispatchEvent=function(t){return Yf(this,t)};tt.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};Object.defineProperties(tt.prototype,Zn);function jc(r){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(r.editable),t.translate="no",r.someProp("attributes",function(e){if(typeof e=="function"&&(e=e(r.state)),e)for(var n in e)n=="class"&&(t.class+=" "+e[n]),n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),[rt.node(0,r.state.doc.content.size,t)]}function Uc(r){if(r.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),r.cursorWrapper={dom:t,deco:rt.widget(r.state.selection.head,t,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Kc(r){return!r.someProp("editable",function(t){return t(r.state)===!1})}function hp(r,t){var e=Math.min(r.$anchor.sharedDepth(r.head),t.$anchor.sharedDepth(t.head));return r.$anchor.start(e)!=t.$anchor.start(e)}function Wc(r){var t={};return r.someProp("nodeViews",function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}),t}function dp(r,t){var e=0,n=0;for(var o in r){if(r[o]!=t[o])return!0;e++}for(var s in t)n++;return e!=n}function Jc(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var De={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},pn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Si=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),mp=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),gp=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),Mi=typeof navigator<"u"&&/Mac/.test(navigator.platform),vp=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yp=Si&&(Mi||+Si[1]<57)||gp&&Mi;for(var st=0;st<10;st++)De[48+st]=De[96+st]=String(st);for(var st=1;st<=24;st++)De[st+111]="F"+st;for(var st=65;st<=90;st++)De[st]=String.fromCharCode(st+32),pn[st]=String.fromCharCode(st);for(var xo in De)pn.hasOwnProperty(xo)||(pn[xo]=De[xo]);function bp(r){var t=yp&&(r.ctrlKey||r.altKey||r.metaKey)||(mp||vp)&&r.shiftKey&&r.key&&r.key.length==1,e=!t&&r.key||(r.shiftKey?pn:De)[r.keyCode]||r.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var kp=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Dp(r){var t=r.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");for(var n,o,s,i,a=0;a<t.length-1;a++){var c=t[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))kp?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(e="Alt-"+e),o&&(e="Ctrl-"+e),i&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function Cp(r){var t=Object.create(null);for(var e in r)t[Dp(e)]=r[e];return t}function Ao(r,t,e){return t.altKey&&(r="Alt-"+r),t.ctrlKey&&(r="Ctrl-"+r),t.metaKey&&(r="Meta-"+r),e!==!1&&t.shiftKey&&(r="Shift-"+r),r}function xp(r){return new Dt({props:{handleKeyDown:$c(r)}})}function $c(r){var t=Cp(r);return function(e,n){var o=bp(n),s=o.length==1&&o!=" ",i,a=t[Ao(o,n,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=De[n.keyCode])&&i!=o){var c=t[Ao(i,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){var u=t[Ao(o,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}return!1}}function Ap(r){return Object.prototype.toString.call(r).slice(8,-1)}function Eo(r){return Ap(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Yn(r,t){const e={...r};return Eo(r)&&Eo(t)&&Object.keys(t).forEach(n=>{Eo(t[n])?n in r?e[n]=Yn(r[n],t[n]):Object.assign(e,{[n]:t[n]}):Object.assign(e,{[n]:t[n]})}),e}function Gc(r){return typeof r=="function"}function q(r,t=void 0,...e){return Gc(r)?t?r.bind(t)(...e):r(...e):r}function M(r,t,e){return r.config[t]===void 0&&r.parent?M(r.parent,t,e):typeof r.config[t]=="function"?r.config[t].bind({...e,parent:r.parent?M(r.parent,t,e):null}):r.config[t]}class Mt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q(M(this,"addOptions",{name:this.name}))),this.storage=q(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Mt(t)}configure(t={}){const e=this.extend();return e.options=Yn(this.options,t),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Mt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=q(M(e,"addOptions",{name:e.name})),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}}function Zc(r,t,e){const{from:n,to:o}=t,{blockSeparator:s=`

`,textSerializers:i={}}=e||{};let a="",c=!0;return r.nodesBetween(n,o,(u,l,f,p)=>{var h;const d=i==null?void 0:i[u.type.name];d?(u.isBlock&&!c&&(a+=s,c=!0),a+=d({node:u,pos:l,parent:f,index:p})):u.isText?(a+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(n,l)-l,o-l),c=!1):u.isBlock&&!c&&(a+=s,c=!0)}),a}function Yc(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}const Ep=Mt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Dt({key:new Ot("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:t,schema:e}=r,{doc:n,selection:o}=t,{ranges:s}=o,i=Math.min(...s.map(l=>l.$from.pos)),a=Math.max(...s.map(l=>l.$to.pos)),c=Yc(e);return Zc(n,{from:i,to:a},{textSerializers:c})}}})]}}),_p=()=>({editor:r,view:t})=>(requestAnimationFrame(()=>{r.isDestroyed||t.dom.blur()}),!0);var wp=Object.freeze({__proto__:null,blur:_p});const Sp=(r=!1)=>({commands:t})=>t.setContent("",r);var Mp=Object.freeze({__proto__:null,clearContent:Sp});const Tp=()=>({state:r,tr:t,dispatch:e})=>{const{selection:n}=t,{ranges:o}=n;return e&&o.forEach(({$from:s,$to:i})=>{r.doc.nodesBetween(s.pos,i.pos,(a,c)=>{if(a.type.isText)return;const{doc:u,mapping:l}=t,f=u.resolve(l.map(c)),p=u.resolve(l.map(c+a.nodeSize)),h=f.blockRange(p);if(!h)return;const d=fr(h);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(h.start,m)}(d||d===0)&&t.lift(h,d)})}),!0};var Op=Object.freeze({__proto__:null,clearNodes:Tp});const Fp=r=>t=>r(t);var Np=Object.freeze({__proto__:null,command:Fp});const Bp=()=>({state:r,dispatch:t})=>jl(r,t);var Rp=Object.freeze({__proto__:null,createParagraphNear:Bp});function nt(r,t){if(typeof r=="string"){if(!t.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return t.nodes[r]}return r}const Lp=r=>({tr:t,state:e,dispatch:n})=>{const o=nt(r,e.schema),s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===o){if(n){const c=s.before(i),u=s.after(i);t.delete(c,u).scrollIntoView()}return!0}return!1};var Ip=Object.freeze({__proto__:null,deleteNode:Lp});const Pp=r=>({tr:t,dispatch:e})=>{const{from:n,to:o}=r;return e&&t.delete(n,o),!0};var qp=Object.freeze({__proto__:null,deleteRange:Pp});const zp=()=>({state:r,dispatch:t})=>Rl(r,t);var Vp=Object.freeze({__proto__:null,deleteSelection:zp});const Hp=()=>({commands:r})=>r.keyboardShortcut("Enter");var jp=Object.freeze({__proto__:null,enter:Hp});const Up=()=>({state:r,dispatch:t})=>Hl(r,t);var Kp=Object.freeze({__proto__:null,exitCode:Up});function _e(r,t){if(typeof r=="string"){if(!t.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return t.marks[r]}return r}function Ns(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function hn(r,t,e={strict:!0}){const n=Object.keys(t);return n.length?n.every(o=>e.strict?t[o]===r[o]:Ns(t[o])?t[o].test(r[o]):t[o]===r[o]):!0}function rs(r,t,e={}){return r.find(n=>n.type===t&&hn(n.attrs,e))}function Wp(r,t,e={}){return!!rs(r,t,e)}function Bs(r,t,e={}){if(!r||!t)return;const n=r.parent.childAfter(r.parentOffset);if(!n.node)return;const o=rs(n.node.marks,t,e);if(!o)return;let s=r.index(),i=r.start()+n.offset,a=s+1,c=i+n.node.nodeSize;for(rs(n.node.marks,t,e);s>0&&o.isInSet(r.parent.child(s-1).marks);)s-=1,i-=r.parent.child(s).nodeSize;for(;a<r.parent.childCount&&Wp(r.parent.child(a).marks,t,e);)c+=r.parent.child(a).nodeSize,a+=1;return{from:i,to:c}}const Jp=(r,t={})=>({tr:e,state:n,dispatch:o})=>{const s=_e(r,n.schema),{doc:i,selection:a}=e,{$from:c,from:u,to:l}=a;if(o){const f=Bs(c,s,t);if(f&&f.from<=u&&f.to>=l){const p=J.create(i,f.from,f.to);e.setSelection(p)}}return!0};var $p=Object.freeze({__proto__:null,extendMarkRange:Jp});const Gp=r=>t=>{const e=typeof r=="function"?r(t):r;for(let n=0;n<e.length;n+=1)if(e[n](t))return!0;return!1};var Zp=Object.freeze({__proto__:null,first:Gp});function Yp(r){var t;return((t=r.constructor)===null||t===void 0?void 0:t.toString().substring(0,5))==="class"}function Qc(r){return r&&typeof r=="object"&&!Array.isArray(r)&&!Yp(r)}function Qp(r){return Qc(r)&&r instanceof J}function Xp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function qr(r=0,t=0,e=0){return Math.min(Math.max(r,t),e)}function Xc(r,t=null){if(!t)return null;if(t==="start"||t===!0)return B.atStart(r);if(t==="end")return B.atEnd(r);if(t==="all")return J.create(r,0,r.content.size);const e=B.atStart(r).from,n=B.atEnd(r).to,o=qr(t,e,n),s=qr(t,e,n);return J.create(r,o,s)}const th=(r=null,t)=>({editor:e,view:n,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const i=()=>{Xp()&&n.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&e.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!Qp(e.state.selection))return i(),!0;const a=Xc(e.state.doc,r)||e.state.selection,c=e.state.selection.eq(a);return s&&(c||o.setSelection(a),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0};var eh=Object.freeze({__proto__:null,focus:th});const rh=(r,t)=>e=>r.every((n,o)=>t(n,{...e,index:o}));var nh=Object.freeze({__proto__:null,forEach:rh});const oh=(r,t)=>({tr:e,commands:n})=>n.insertContentAt({from:e.selection.from,to:e.selection.to},r,t);var sh=Object.freeze({__proto__:null,insertContent:oh});function Ti(r){const t=`<body>${r}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function dn(r,t,e){if(e={slice:!0,parseOptions:{},...e},typeof r=="object"&&r!==null)try{return Array.isArray(r)?x.fromArray(r.map(n=>t.nodeFromJSON(n))):t.nodeFromJSON(r)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",n),dn("",t,e)}if(typeof r=="string"){const n=jt.fromSchema(t);return e.slice?n.parseSlice(Ti(r),e.parseOptions).content:n.parse(Ti(r),e.parseOptions)}return dn("",t,e)}function ih(r,t,e){const n=r.steps.length-1;if(n<t)return;const o=r.steps[n];if(!(o instanceof fe||o instanceof _t))return;const s=r.mapping.maps[n];let i=0;s.forEach((a,c,u,l)=>{i===0&&(i=l)}),r.setSelection(B.near(r.doc.resolve(i),e))}const ah=r=>r.toString().startsWith("<"),ch=(r,t,e)=>({tr:n,dispatch:o,editor:s})=>{if(o){e={parseOptions:{},updateSelection:!0,...e};const i=dn(t,s.schema,{parseOptions:{preserveWhitespace:"full",...e.parseOptions}});if(i.toString()==="<>")return!0;let{from:a,to:c}=typeof r=="number"?{from:r,to:r}:r,u=!0;if((ah(i)?i:[i]).forEach(f=>{f.check(),u=u?f.isBlock:!1}),a===c&&u){const{parent:f}=n.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,c+=1)}n.replaceWith(a,c,i),e.updateSelection&&ih(n,n.steps.length-1,-1)}return!0};var uh=Object.freeze({__proto__:null,insertContentAt:ch});const lh=()=>({state:r,dispatch:t})=>Ll(r,t);var fh=Object.freeze({__proto__:null,joinBackward:lh});const ph=()=>({state:r,dispatch:t})=>Pl(r,t);var hh=Object.freeze({__proto__:null,joinForward:ph});const dh=typeof navigator<"u"?/Mac/.test(navigator.platform):!1;function mh(r){const t=r.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let n,o,s,i;for(let a=0;a<t.length-1;a+=1){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))dh?i=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(e=`Alt-${e}`),o&&(e=`Ctrl-${e}`),i&&(e=`Meta-${e}`),s&&(e=`Shift-${e}`),e}const gh=r=>({editor:t,view:e,tr:n,dispatch:o})=>{const s=mh(r).split(/-(?!$)/),i=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{e.someProp("handleKeyDown",u=>u(e,a))});return c==null||c.steps.forEach(u=>{const l=u.map(n.mapping);l&&o&&n.maybeStep(l)}),!0};var vh=Object.freeze({__proto__:null,keyboardShortcut:gh});function zr(r,t,e={}){const{from:n,to:o,empty:s}=r.selection,i=t?nt(t,r.schema):null,a=[];r.doc.nodesBetween(n,o,(f,p)=>{if(f.isText)return;const h=Math.max(n,p),d=Math.min(o,p+f.nodeSize);a.push({node:f,from:h,to:d})});const c=o-n,u=a.filter(f=>i?i.name===f.node.type.name:!0).filter(f=>hn(f.node.attrs,e,{strict:!1}));return s?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}const yh=(r,t={})=>({state:e,dispatch:n})=>{const o=nt(r,e.schema);return zr(e,o,t)?zl(e,n):!1};var bh=Object.freeze({__proto__:null,lift:yh});const kh=()=>({state:r,dispatch:t})=>Ul(r,t);var Dh=Object.freeze({__proto__:null,liftEmptyBlock:kh});const Ch=r=>({state:t,dispatch:e})=>{const n=nt(r,t.schema);return Zl(n)(t,e)};var xh=Object.freeze({__proto__:null,liftListItem:Ch});const Ah=()=>({state:r,dispatch:t})=>Vl(r,t);var Eh=Object.freeze({__proto__:null,newlineInCode:Ah});function Qn(r,t){return t.nodes[r]?"node":t.marks[r]?"mark":null}function Oi(r,t){const e=typeof t=="string"?[t]:t;return Object.keys(r).reduce((n,o)=>(e.includes(o)||(n[o]=r[o]),n),{})}const _h=(r,t)=>({tr:e,state:n,dispatch:o})=>{let s=null,i=null;const a=Qn(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=nt(r,n.schema)),a==="mark"&&(i=_e(r,n.schema)),o&&e.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,l)=>{s&&s===u.type&&e.setNodeMarkup(l,void 0,Oi(u.attrs,t)),i&&u.marks.length&&u.marks.forEach(f=>{i===f.type&&e.addMark(l,l+u.nodeSize,i.create(Oi(f.attrs,t)))})})}),!0):!1};var wh=Object.freeze({__proto__:null,resetAttributes:_h});const Sh=()=>({tr:r,dispatch:t})=>(t&&r.scrollIntoView(),!0);var Mh=Object.freeze({__proto__:null,scrollIntoView:Sh});const Th=()=>({tr:r,commands:t})=>t.setTextSelection({from:0,to:r.doc.content.size});var Oh=Object.freeze({__proto__:null,selectAll:Th});const Fh=()=>({state:r,dispatch:t})=>Il(r,t);var Nh=Object.freeze({__proto__:null,selectNodeBackward:Fh});const Bh=()=>({state:r,dispatch:t})=>ql(r,t);var Rh=Object.freeze({__proto__:null,selectNodeForward:Bh});const Lh=()=>({state:r,dispatch:t})=>Kl(r,t);var Ih=Object.freeze({__proto__:null,selectParentNode:Lh});function tu(r,t,e={}){return dn(r,t,{slice:!1,parseOptions:e})}const Ph=(r,t=!1,e={})=>({tr:n,editor:o,dispatch:s})=>{const{doc:i}=n,a=tu(r,o.schema,e),c=J.create(i,0,i.content.size);return s&&n.setSelection(c).replaceSelectionWith(a,!1).setMeta("preventUpdate",!t),!0};var qh=Object.freeze({__proto__:null,setContent:Ph});function eu(r,t){const e=_e(t,r.schema),{from:n,to:o,empty:s}=r.selection,i=[];s?(r.storedMarks&&i.push(...r.storedMarks),i.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,o,c=>{i.push(...c.marks)});const a=i.find(c=>c.type.name===e.name);return a?{...a.attrs}:{}}const zh=(r,t={})=>({tr:e,state:n,dispatch:o})=>{const{selection:s}=e,{empty:i,ranges:a}=s,c=_e(r,n.schema);if(o)if(i){const u=eu(n,c);e.addStoredMark(c.create({...u,...t}))}else a.forEach(u=>{const l=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(l,f,(p,h)=>{const d=Math.max(h,l),m=Math.min(h+p.nodeSize,f);p.marks.find(y=>y.type===c)?p.marks.forEach(y=>{c===y.type&&e.addMark(d,m,c.create({...y.attrs,...t}))}):e.addMark(d,m,c.create(t))})});return!0};var Vh=Object.freeze({__proto__:null,setMark:zh});const Hh=(r,t)=>({tr:e})=>(e.setMeta(r,t),!0);var jh=Object.freeze({__proto__:null,setMeta:Hh});const Uh=(r,t={})=>({state:e,dispatch:n,chain:o})=>{const s=nt(r,e.schema);return s.isTextblock?o().command(({commands:i})=>si(s,t)(e)?!0:i.clearNodes()).command(({state:i})=>si(s,t)(i,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var Kh=Object.freeze({__proto__:null,setNode:Uh});const Wh=r=>({tr:t,dispatch:e})=>{if(e){const{doc:n}=t,o=B.atStart(n).from,s=B.atEnd(n).to,i=qr(r,o,s),a=P.create(n,i);t.setSelection(a)}return!0};var Jh=Object.freeze({__proto__:null,setNodeSelection:Wh});const $h=r=>({tr:t,dispatch:e})=>{if(e){const{doc:n}=t,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r,i=B.atStart(n).from,a=B.atEnd(n).to,c=qr(o,i,a),u=qr(s,i,a),l=J.create(n,c,u);t.setSelection(l)}return!0};var Gh=Object.freeze({__proto__:null,setTextSelection:$h});const Zh=r=>({state:t,dispatch:e})=>{const n=nt(r,t.schema);return Xl(n)(t,e)};var Yh=Object.freeze({__proto__:null,sinkListItem:Zh});function en(r,t,e){return Object.fromEntries(Object.entries(e).filter(([n])=>{const o=r.find(s=>s.type===t&&s.name===n);return o?o.attribute.keepOnSplit:!1}))}function Qh(r){for(let t=0;t<r.edgeCount;t+=1){const{type:e}=r.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function Fi(r,t){const e=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(e){const n=e.filter(o=>t==null?void 0:t.includes(o.type.name));r.tr.ensureMarks(n)}}const Xh=({keepMarks:r=!0}={})=>({tr:t,state:e,dispatch:n,editor:o})=>{const{selection:s,doc:i}=t,{$from:a,$to:c}=s,u=o.extensionManager.attributes,l=en(u,a.node().type.name,a.node().attrs);if(s instanceof P&&s.node.isBlock)return!a.parentOffset||!Qe(i,a.pos)?!1:(n&&(r&&Fi(e,o.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(n){const f=c.parentOffset===c.parent.content.size;s instanceof J&&t.deleteSelection();const p=a.depth===0?void 0:Qh(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&p?[{type:p,attrs:l}]:void 0,d=Qe(t.doc,t.mapping.map(a.pos),1,h);if(!h&&!d&&Qe(t.doc,t.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(d=!0,h=p?[{type:p,attrs:l}]:void 0),d&&(t.split(t.mapping.map(a.pos),1,h),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const m=t.mapping.map(a.before()),v=t.doc.resolve(m);a.node(-1).canReplaceWith(v.index(),v.index()+1,p)&&t.setNodeMarkup(t.mapping.map(a.before()),p)}r&&Fi(e,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0};var td=Object.freeze({__proto__:null,splitBlock:Xh});const ed=r=>({tr:t,state:e,dispatch:n,editor:o})=>{var s;const i=nt(r,e.schema),{$from:a,$to:c}=e.selection,u=e.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const l=a.node(-1);if(l.type!==i)return!1;const f=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==i||a.index(-2)!==a.node(-2).childCount-1)return!1;if(n){let v=x.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let S=a.depth-y;S>=a.depth-3;S-=1)v=x.from(a.node(S).copy(v));const g=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,k=en(f,a.node().type.name,a.node().attrs),b=((s=i.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;v=v.append(x.from(i.createAndFill(null,b)||void 0));const D=a.before(a.depth-(y-1));t.replace(D,a.after(-g),new w(v,4-y,0));let C=-1;t.doc.nodesBetween(D,t.doc.content.size,(S,T)=>{if(C>-1)return!1;S.isTextblock&&S.content.size===0&&(C=T+1)}),C>-1&&t.setSelection(J.near(t.doc.resolve(C))),t.scrollIntoView()}return!0}const p=c.pos===a.end()?l.contentMatchAt(0).defaultType:null,h=en(f,l.type.name,l.attrs),d=en(f,a.node().type.name,a.node().attrs);t.delete(a.pos,c.pos);const m=p?[{type:i,attrs:h},{type:p,attrs:d}]:[{type:i,attrs:h}];return Qe(t.doc,a.pos,2)?(n&&t.split(a.pos,2,m).scrollIntoView(),!0):!1};var rd=Object.freeze({__proto__:null,splitListItem:ed});function nd(r,t){for(let e=r.depth;e>0;e-=1){const n=r.node(e);if(t(n))return{pos:e>0?r.before(e):0,start:r.start(e),depth:e,node:n}}}function Rs(r){return t=>nd(t.$from,r)}function Xn(r){const t=r.filter(o=>o.type==="extension"),e=r.filter(o=>o.type==="node"),n=r.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:n}}function Ni(r,t){const{nodeExtensions:e}=Xn(t),n=e.find(i=>i.name===r);if(!n)return!1;const o={name:n.name,options:n.options,storage:n.storage},s=q(M(n,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}const Bi=(r,t)=>{const e=Rs(i=>i.type===t)(r.selection);if(!e)return!0;const n=r.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return e.node.type===(o==null?void 0:o.type)&&Hr(r.doc,e.pos)&&r.join(e.pos),!0},Ri=(r,t)=>{const e=Rs(i=>i.type===t)(r.selection);if(!e)return!0;const n=r.doc.resolve(e.start).after(e.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return e.node.type===(o==null?void 0:o.type)&&Hr(r.doc,n)&&r.join(n),!0},od=(r,t)=>({editor:e,tr:n,state:o,dispatch:s,chain:i,commands:a,can:c})=>{const{extensions:u}=e.extensionManager,l=nt(r,o.schema),f=nt(t,o.schema),{selection:p}=o,{$from:h,$to:d}=p,m=h.blockRange(d);if(!m)return!1;const v=Rs(y=>Ni(y.type.name,u))(p);if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===l)return a.liftListItem(f);if(Ni(v.node.type.name,u)&&l.validContent(v.node.content)&&s)return i().command(()=>(n.setNodeMarkup(v.pos,l),!0)).command(()=>Bi(n,l)).command(()=>Ri(n,l)).run()}return i().command(()=>c().wrapInList(l)?!0:a.clearNodes()).wrapInList(l).command(()=>Bi(n,l)).command(()=>Ri(n,l)).run()};var sd=Object.freeze({__proto__:null,toggleList:od});function ns(r,t,e={}){const{empty:n,ranges:o}=r.selection,s=t?_e(t,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>hn(f.attrs,e,{strict:!1}));let i=0;const a=[];if(o.forEach(({$from:f,$to:p})=>{const h=f.pos,d=p.pos;r.doc.nodesBetween(h,d,(m,v)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(h,v),g=Math.min(d,v+m.nodeSize);i+=g-y,a.push(...m.marks.map(b=>({mark:b,from:y,to:g})))})}),i===0)return!1;const c=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>hn(f.mark.attrs,e,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=i}const id=(r,t={},e={})=>({state:n,commands:o})=>{const{extendEmptyMarkRange:s=!1}=e,i=_e(r,n.schema);return ns(n,i,t)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,t)};var ad=Object.freeze({__proto__:null,toggleMark:id});const cd=(r,t,e={})=>({state:n,commands:o})=>{const s=nt(r,n.schema),i=nt(t,n.schema);return zr(n,s,e)?o.setNode(i):o.setNode(s,e)};var ud=Object.freeze({__proto__:null,toggleNode:cd});const ld=(r,t={})=>({state:e,commands:n})=>{const o=nt(r,e.schema);return zr(e,o,t)?n.lift(o):n.wrapIn(o,t)};var fd=Object.freeze({__proto__:null,toggleWrap:ld});const pd=()=>({state:r,dispatch:t})=>{const e=r.plugins;for(let n=0;n<e.length;n+=1){const o=e[n];let s;if(o.spec.isInputRules&&(s=o.getState(r))){if(t){const i=r.tr,a=s.transform;for(let c=a.steps.length-1;c>=0;c-=1)i.step(a.steps[c].invert(a.docs[c]));if(s.text){const c=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,r.schema.text(s.text,c))}else i.delete(s.from,s.to)}return!0}}return!1};var hd=Object.freeze({__proto__:null,undoInputRule:pd});const dd=()=>({tr:r,dispatch:t})=>{const{selection:e}=r,{empty:n,ranges:o}=e;return n||t&&o.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0};var md=Object.freeze({__proto__:null,unsetAllMarks:dd});const gd=(r,t={})=>({tr:e,state:n,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=t,{selection:a}=e,c=_e(r,n.schema),{$from:u,empty:l,ranges:f}=a;if(!o)return!0;if(l&&i){let{from:p,to:h}=a;const d=(s=u.marks().find(v=>v.type===c))===null||s===void 0?void 0:s.attrs,m=Bs(u,c,d);m&&(p=m.from,h=m.to),e.removeMark(p,h,c)}else f.forEach(p=>{e.removeMark(p.$from.pos,p.$to.pos,c)});return e.removeStoredMark(c),!0};var vd=Object.freeze({__proto__:null,unsetMark:gd});const yd=(r,t={})=>({tr:e,state:n,dispatch:o})=>{let s=null,i=null;const a=Qn(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=nt(r,n.schema)),a==="mark"&&(i=_e(r,n.schema)),o&&e.selection.ranges.forEach(c=>{const u=c.$from.pos,l=c.$to.pos;n.doc.nodesBetween(u,l,(f,p)=>{s&&s===f.type&&e.setNodeMarkup(p,void 0,{...f.attrs,...t}),i&&f.marks.length&&f.marks.forEach(h=>{if(i===h.type){const d=Math.max(p,u),m=Math.min(p+f.nodeSize,l);e.addMark(d,m,i.create({...h.attrs,...t}))}})})}),!0):!1};var bd=Object.freeze({__proto__:null,updateAttributes:yd});const kd=(r,t={})=>({state:e,dispatch:n})=>{const o=nt(r,e.schema);return Jl(o,t)(e,n)};var Dd=Object.freeze({__proto__:null,wrapIn:kd});const Cd=(r,t={})=>({state:e,dispatch:n})=>{const o=nt(r,e.schema);return $l(o,t)(e,n)};var xd=Object.freeze({__proto__:null,wrapInList:Cd});const Ad=Mt.create({name:"commands",addCommands(){return{...wp,...Mp,...Op,...Np,...Rp,...Ip,...qp,...Vp,...jp,...Kp,...$p,...Zp,...eh,...nh,...sh,...uh,...fh,...hh,...vh,...bh,...Dh,...xh,...Eh,...wh,...Mh,...Oh,...Nh,...Rh,...Ih,...qh,...Vh,...jh,...Kh,...Jh,...Gh,...Yh,...td,...rd,...sd,...ad,...ud,...fd,...hd,...md,...vd,...bd,...Dd,...xd}}}),Ed=Mt.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new Ot("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_d=Mt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Dt({key:new Ot("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,e)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}});function to(r){const{state:t,transaction:e}=r;let{selection:n}=e,{doc:o}=e,{storedMarks:s}=e;return{...t,schema:t.schema,plugins:t.plugins,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return n},get doc(){return o},get tr(){return n=e.selection,o=e.doc,s=e.storedMarks,e}}}class eo{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:o}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...l)=>{const f=c(...l)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:o,state:s}=this,{view:i}=o,a=[],c=!!t,u=t||s.tr,l=()=>(!c&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),a.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(n).map(([p,h])=>[p,(...m)=>{const v=this.buildProps(u,e),y=h(...m)(v);return a.push(y),f}])),run:l};return f}createCan(t){const{rawCommands:e,state:n}=this,o=void 0,s=t||n.tr,i=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...l)=>u(...l)({...i,dispatch:o})])),chain:()=>this.createChain(s,o)}}buildProps(t,e=!0){const{rawCommands:n,editor:o,state:s}=this,{view:i}=o;s.storedMarks&&t.setStoredMarks(s.storedMarks);const a={tr:t,editor:o,view:i,state:to({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...l)=>u(...l)(a)]))}};return a}}const wd=Mt.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:n})=>{const{selection:o,doc:s}=n,{empty:i,$anchor:a}=o,{pos:c,parent:u}=a,l=B.atStart(s).from===c;return!i||!l||!u.type.isTextblock||u.textContent.length?!1:e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()]);return{Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()}},addProseMirrorPlugins(){return[new Dt({key:new Ot("clearDocument"),appendTransaction:(r,t,e)=>{if(!(r.some(d=>d.docChanged)&&!t.doc.eq(e.doc)))return;const{empty:o,from:s,to:i}=t.selection,a=B.atStart(t.doc).from,c=B.atEnd(t.doc).to,u=s===a&&i===c,l=e.doc.textBetween(0,e.doc.content.size," "," ").length===0;if(o||!u||!l)return;const f=e.tr,p=to({state:e,transaction:f}),{commands:h}=new eo({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),Sd=Mt.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new Ot("tabindex"),props:{attributes:{tabindex:"0"}}})]}});var Md=Object.freeze({__proto__:null,ClipboardTextSerializer:Ep,Commands:Ad,Editable:Ed,FocusEvents:_d,Keymap:wd,Tabindex:Sd});function Td(r,t){const e=nt(t,r.schema),{from:n,to:o}=r.selection,s=[];r.doc.nodesBetween(n,o,a=>{s.push(a)});const i=s.reverse().find(a=>a.type.name===e.name);return i?{...i.attrs}:{}}function ru(r,t){const e=Qn(typeof t=="string"?t:t.name,r.schema);return e==="node"?Td(r,t):e==="mark"?eu(r,t):{}}function Od(r,t,e={}){if(!t)return zr(r,null,e)||ns(r,null,e);const n=Qn(t,r.schema);return n==="node"?zr(r,t,e):n==="mark"?ns(r,t,e):!1}function Fd(r,t){const e=ct.fromSchema(t).serializeFragment(r),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(e),o.innerHTML}function Nd(r,t){const e={from:0,to:r.content.size};return Zc(r,e,t)}function Bd(r){var t;const e=(t=r.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),n=r.toJSON();return JSON.stringify(e)===JSON.stringify(n)}function Rd(r){const t=document.querySelector("style[data-tiptap-style]");if(t!==null)return t;const e=document.createElement("style");return e.setAttribute("data-tiptap-style",""),e.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(e),e}class ro{constructor(t){this.find=t.find,this.handler=t.handler}}const Ld=(r,t)=>{if(Ns(t))return t.exec(r);const e=t(r);if(!e)return null;const n=[];return n.push(e.text),n.index=e.index,n.input=r,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(e.replaceWith)),n};function _o(r){var t;const{editor:e,from:n,to:o,text:s,rules:i,plugin:a}=r,{view:c}=e;if(c.composing)return!1;const u=c.state.doc.resolve(n);if(u.parent.type.spec.code||!!(!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code)))return!1;let l=!1;const f=500,p=u.parent.textBetween(Math.max(0,u.parentOffset-f),u.parentOffset,void 0," ")+s;return i.forEach(h=>{if(l)return;const d=Ld(p,h.find);if(!d)return;const m=c.state.tr,v=to({state:c.state,transaction:m}),y={from:n-(d[0].length-s.length),to:o},{commands:g,chain:k,can:b}=new eo({editor:e,state:v});h.handler({state:v,range:y,match:d,commands:g,chain:k,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:n,to:o,text:s}),c.dispatch(m),l=!0)}),l}function Id(r){const{editor:t,rules:e}=r,n=new Dt({state:{init(){return null},apply(o,s){const i=o.getMeta(this);return i||(o.selectionSet||o.docChanged?null:s)}},props:{handleTextInput(o,s,i,a){return _o({editor:t,from:s,to:i,text:a,rules:e,plugin:n})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&_o({editor:t,from:s.pos,to:s.pos,text:"",rules:e,plugin:n})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:i}=o.state.selection;return i?_o({editor:t,from:i.pos,to:i.pos,text:`
`,rules:e,plugin:n}):!1}},isInputRules:!0});return n}function Pd(r){return typeof r=="number"}class qd{constructor(t){this.find=t.find,this.handler=t.handler}}const zd=(r,t)=>{if(Ns(t))return[...r.matchAll(t)];const e=t(r);return e?e.map(n=>{const o=[];return o.push(n.text),o.index=n.index,o.input=r,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(n.replaceWith)),o}):[]};function Vd(r){const{editor:t,state:e,from:n,to:o,rule:s}=r,{commands:i,chain:a,can:c}=new eo({editor:t,state:e}),u=[];return e.doc.nodesBetween(n,o,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const h=Math.max(n,p),d=Math.min(o,p+f.content.size),m=f.textBetween(h-p,d-p,void 0,"\uFFFC");zd(m,s.find).forEach(y=>{if(y.index===void 0)return;const g=h+y.index+1,k=g+y[0].length,b={from:e.tr.mapping.map(g),to:e.tr.mapping.map(k)},D=s.handler({state:e,range:b,match:y,commands:i,chain:a,can:c});u.push(D)})}),u.every(f=>f!==null)}function Hd(r){const{editor:t,rules:e}=r;let n=!1;return e.map(s=>new Dt({props:{handlePaste:(i,a)=>{var c;const u=(c=a.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return n=!!(u!=null&&u.includes("data-pm-slice")),!1}},appendTransaction:(i,a,c)=>{if(!i[0].getMeta("paste")||n)return;const l=a.doc.content.findDiffStart(c.doc.content),f=a.doc.content.findDiffEnd(c.doc.content);if(!Pd(l)||!f||l===f.b)return;const p=c.tr,h=to({state:c,transaction:p});if(!(!Vd({editor:t,state:h,from:Math.max(l-1,0),to:f.b,rule:s})||!p.steps.length))return p}}))}function nu(r){const t=[],{nodeExtensions:e,markExtensions:n}=Xn(r),o=[...e,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return r.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},c=M(i,"addGlobalAttributes",a);if(!c)return;c().forEach(l=>{l.types.forEach(f=>{Object.entries(l.attributes).forEach(([p,h])=>{t.push({type:f,name:p,attribute:{...s,...h}})})})})}),o.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},c=M(i,"addAttributes",a);if(!c)return;const u=c();Object.entries(u).forEach(([l,f])=>{t.push({type:i.name,name:l,attribute:{...s,...f}})})}),t}function ot(...r){return r.filter(t=>!!t).reduce((t,e)=>{const n={...t};return Object.entries(e).forEach(([o,s])=>{if(!n[o]){n[o]=s;return}o==="class"?n[o]=[n[o],s].join(" "):o==="style"?n[o]=[n[o],s].join("; "):n[o]=s}),n},{})}function ss(r,t){return t.filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(r.attrs)||{}:{[e.name]:r.attrs[e.name]}).reduce((e,n)=>ot(e,n),{})}function jd(r={}){return Object.keys(r).length===0&&r.constructor===Object}function Ud(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function Li(r,t){return r.style?r:{...r,getAttrs:e=>{const n=r.getAttrs?r.getAttrs(e):r.attrs;if(n===!1)return!1;const o=t.filter(s=>s.attribute.rendered).reduce((s,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(e):Ud(e.getAttribute(i.name));return Qc(a)&&console.warn(`[tiptap warn]: BREAKING CHANGE: "parseHTML" for your attribute "${i.name}" returns an object but should return the value itself. If this is expected you can ignore this message. This warning will be removed in one of the next releases. Further information: https://github.com/ueberdosis/tiptap/issues/1863`),a==null?s:{...s,[i.name]:a}},{});return{...n,...o}}}}function Ii(r){return Object.fromEntries(Object.entries(r).filter(([t,e])=>t==="attrs"&&jd(e)?!1:e!=null))}function Kd(r){var t;const e=nu(r),{nodeExtensions:n,markExtensions:o}=Xn(r),s=(t=n.find(c=>M(c,"topNode")))===null||t===void 0?void 0:t.name,i=Object.fromEntries(n.map(c=>{const u=e.filter(v=>v.type===c.name),l={name:c.name,options:c.options,storage:c.storage},f=r.reduce((v,y)=>{const g=M(y,"extendNodeSchema",l);return{...v,...g?g(c):{}}},{}),p=Ii({...f,content:q(M(c,"content",l)),marks:q(M(c,"marks",l)),group:q(M(c,"group",l)),inline:q(M(c,"inline",l)),atom:q(M(c,"atom",l)),selectable:q(M(c,"selectable",l)),draggable:q(M(c,"draggable",l)),code:q(M(c,"code",l)),defining:q(M(c,"defining",l)),isolating:q(M(c,"isolating",l)),attrs:Object.fromEntries(u.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),h=q(M(c,"parseHTML",l));h&&(p.parseDOM=h.map(v=>Li(v,u)));const d=M(c,"renderHTML",l);d&&(p.toDOM=v=>d({node:v,HTMLAttributes:ss(v,u)}));const m=M(c,"renderText",l);return m&&(p.toText=m),[c.name,p]})),a=Object.fromEntries(o.map(c=>{const u=e.filter(m=>m.type===c.name),l={name:c.name,options:c.options,storage:c.storage},f=r.reduce((m,v)=>{const y=M(v,"extendMarkSchema",l);return{...m,...y?y(c):{}}},{}),p=Ii({...f,inclusive:q(M(c,"inclusive",l)),excludes:q(M(c,"excludes",l)),group:q(M(c,"group",l)),spanning:q(M(c,"spanning",l)),code:q(M(c,"code",l)),attrs:Object.fromEntries(u.map(m=>{var v;return[m.name,{default:(v=m==null?void 0:m.attribute)===null||v===void 0?void 0:v.default}]}))}),h=q(M(c,"parseHTML",l));h&&(p.parseDOM=h.map(m=>Li(m,u)));const d=M(c,"renderHTML",l);return d&&(p.toDOM=m=>d({mark:m,HTMLAttributes:ss(m,u)})),[c.name,p]}));return new xe({topNode:s,nodes:i,marks:a})}function wo(r,t){return t.nodes[r]||t.marks[r]||null}function Pi(r,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===r.name):t}function Wd(r){const t=r.filter((e,n)=>r.indexOf(e)!==n);return[...new Set(t)]}class We{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=We.resolve(t),this.schema=Kd(this.extensions),this.extensions.forEach(n=>{var o;this.editor.extensionStorage[n.name]=n.storage;const s={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:wo(n.name,this.schema)};n.type==="mark"&&((o=q(M(n,"keepOnSplit",s)))!==null&&o!==void 0?o:!0)&&this.splittableMarks.push(n.name);const i=M(n,"onBeforeCreate",s);i&&this.editor.on("beforeCreate",i);const a=M(n,"onCreate",s);a&&this.editor.on("create",a);const c=M(n,"onUpdate",s);c&&this.editor.on("update",c);const u=M(n,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const l=M(n,"onTransaction",s);l&&this.editor.on("transaction",l);const f=M(n,"onFocus",s);f&&this.editor.on("focus",f);const p=M(n,"onBlur",s);p&&this.editor.on("blur",p);const h=M(n,"onDestroy",s);h&&this.editor.on("destroy",h)})}static resolve(t){const e=We.sort(We.flatten(t)),n=Wd(e.map(o=>o.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},o=M(e,"addExtensions",n);return o?[e,...this.flatten(o())]:e}).flat(10)}static sort(t){return t.sort((n,o)=>{const s=M(n,"priority")||100,i=M(o,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:wo(e.name,this.schema)},o=M(e,"addCommands",n);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,e=We.sort([...this.extensions].reverse()),n=[],o=[],s=e.map(i=>{const a={name:i.name,options:i.options,storage:i.storage,editor:t,type:wo(i.name,this.schema)},c=[],u=M(i,"addKeyboardShortcuts",a);if(u){const h=Object.fromEntries(Object.entries(u()).map(([m,v])=>[m,()=>v({editor:t})])),d=xp(h);c.push(d)}const l=M(i,"addInputRules",a);Pi(i,t.options.enableInputRules)&&l&&n.push(...l());const f=M(i,"addPasteRules",a);Pi(i,t.options.enablePasteRules)&&f&&o.push(...f());const p=M(i,"addProseMirrorPlugins",a);if(p){const h=p();c.push(...h)}return c}).flat();return[Id({editor:t,rules:n}),...Hd({editor:t,rules:o}),...s]}get attributes(){return nu(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Xn(this.extensions);return Object.fromEntries(e.filter(n=>!!M(n,"addNodeView")).map(n=>{const o=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:t,type:nt(n.name,this.schema)},i=M(n,"addNodeView",s);if(!i)return[];const a=(c,u,l,f)=>{const p=ss(c,o);return i()({editor:t,node:c,getPos:l,decorations:f,HTMLAttributes:p,extension:n})};return[n.name,a]}))}}class Jd{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(o=>o.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(o=>o!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}const $d=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class Gd extends Jd{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Rd($d))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=Gc(e)?e(t,this.state.plugins):[...this.state.plugins,t],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const e=typeof t=="string"?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(Md):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new We(e,this)}createCommandManager(){this.commandManager=new eo({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=tu(this.options.content,this.schema,this.options.parseOptions),e=Xc(t,this.options.autofocus);this.view=new tt(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:yt.create({doc:t,selection:e})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),s=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ru(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,o=typeof t=="string"?e:t;return Od(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Fd(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Nd(this.state.doc,{blockSeparator:e,textSerializers:{...n,...Yc(this.schema)}})}get isEmpty(){return Bd(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}}class bt{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q(M(this,"addOptions",{name:this.name}))),this.storage=q(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new bt(t)}configure(t={}){const e=this.extend();return e.options=Yn(this.options,t),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new bt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=q(M(e,"addOptions",{name:e.name})),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}}class Ce{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q(M(this,"addOptions",{name:this.name}))),this.storage=q(M(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ce(t)}configure(t={}){const e=this.extend();return e.options=Yn(this.options,t),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Ce(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=q(M(e,"addOptions",{name:e.name})),e.storage=q(M(e,"addStorage",{name:e.name,options:e.options})),e}}function Zd(r){return new ro({find:r.find,handler:({state:t,range:e,match:n})=>{const o=q(r.getAttributes,void 0,n)||{},{tr:s}=t,i=e.from;let a=e.to;if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=i+c;u>a?u=a:a=u+n[1].length;const l=n[0][n[0].length-1];s.insertText(l,i+n[0].length-1),s.replaceWith(u,a,r.type.create(o))}else n[0]&&s.replaceWith(i,a,r.type.create(o))}})}function mn(r,t,e){const n=[];return r===t?e.resolve(r).marks().forEach(o=>{const s=e.resolve(r-1),i=Bs(s,o.type);!i||n.push({mark:o,...i})}):e.nodesBetween(r,t,(o,s)=>{n.push(...o.marks.map(i=>({from:s,to:s+o.nodeSize,mark:i})))}),n}function ir(r){return new ro({find:r.find,handler:({state:t,range:e,match:n})=>{const o=q(r.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:s}=t,i=n[n.length-1],a=n[0];let c=e.to;if(i){const u=a.search(/\S/),l=e.from+a.indexOf(i),f=l+i.length;if(mn(e.from,e.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===r.type&&m!==h.mark.type)).filter(h=>h.to>l).length)return null;f<e.to&&s.delete(f,e.to),l>e.from&&s.delete(e.from+u,l),c=e.from+u+i.length,s.addMark(e.from+u,c,r.type.create(o||{})),s.removeStoredMark(r.type)}}})}function is(r){return new ro({find:r.find,handler:({state:t,range:e,match:n})=>{const o=t.doc.resolve(e.from),s=q(r.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),r.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,r.type,s)}})}function pr(r){return new ro({find:r.find,handler:({state:t,range:e,match:n})=>{const o=q(r.getAttributes,void 0,n)||{},s=t.tr.delete(e.from,e.to),a=s.doc.resolve(e.from).blockRange(),c=a&&ds(a,r.type,o);if(!c)return null;s.wrap(a,c);const u=s.doc.resolve(e.from-1).nodeBefore;u&&u.type===r.type&&Hr(s.doc,e.from-1)&&(!r.joinPredicate||r.joinPredicate(n,u))&&s.join(e.from-1)}})}function Re(r){return new qd({find:r.find,handler:({state:t,range:e,match:n})=>{const o=q(r.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:s}=t,i=n[n.length-1],a=n[0];let c=e.to;if(i){const u=a.search(/\S/),l=e.from+a.indexOf(i),f=l+i.length;if(mn(e.from,e.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===r.type&&m!==h.mark.type)).filter(h=>h.to>l).length)return null;f<e.to&&s.delete(f,e.to),l>e.from&&s.delete(e.from+u,l),c=e.from+u+i.length,s.addMark(e.from+u,c,r.type.create(o||{})),s.removeStoredMark(r.type)}}})}function Yd(r,t){const e=new X(r);return t.forEach(n=>{n.steps.forEach(o=>{e.step(o)})}),e}function Qd(r,t,e){const n=[];return r.nodesBetween(t.from,t.to,(o,s)=>{e(o)&&n.push({node:o,pos:s})}),n}function Xd(r,t=JSON.stringify){const e={};return r.filter(n=>{const o=t(n);return Object.prototype.hasOwnProperty.call(e,o)?!1:e[o]=!0})}function tm(r){const t=Xd(r);return t.length===1?t:t.filter((e,n)=>!t.filter((s,i)=>i!==n).some(s=>e.oldRange.from>=s.oldRange.from&&e.oldRange.to<=s.oldRange.to&&e.newRange.from>=s.newRange.from&&e.newRange.to<=s.newRange.to))}function em(r){const{mapping:t,steps:e}=r,n=[];return t.maps.forEach((o,s)=>{const i=[];if(o.ranges.length)o.forEach((a,c)=>{i.push({from:a,to:c})});else{const{from:a,to:c}=e[s];if(a===void 0||c===void 0)return;i.push({from:a,to:c})}i.forEach(({from:a,to:c})=>{const u=t.slice(s).map(a,-1),l=t.slice(s).map(c),f=t.invert().map(u,-1),p=t.invert().map(l);n.push({oldRange:{from:f,to:p},newRange:{from:u,to:l}})})}),tm(n)}const rm=/^\s*>\s$/,ou=bt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pr({find:rm,type:this.type})]}}),nm=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,om=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,sm=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,im=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,su=Ce.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ir({find:nm,type:this.type}),ir({find:sm,type:this.type})]},addPasteRules(){return[Re({find:om,type:this.type}),Re({find:im,type:this.type})]}}),am=/^\s*([-+*])\s$/,iu=bt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[pr({find:am,type:this.type})]}}),cm=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,um=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,au=Ce.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ir({find:cm,type:this.type})]},addPasteRules(){return[Re({find:um,type:this.type})]}}),lm=/^```([a-z]+)?[\s\n]$/,fm=/^~~~([a-z]+)?[\s\n]$/,cu=bt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:r=>{var t;const{languageClassPrefix:e}=this.options,s=[...((t=r.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(i=>i.startsWith(e)).map(i=>i.replace(e,""))[0];return s||null},renderHTML:r=>r.language?{class:this.options.languageClassPrefix+r.language}:null}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:r}){return["pre",this.options.HTMLAttributes,["code",r,0]]},addCommands(){return{setCodeBlock:r=>({commands:t})=>t.setNode(this.name,r),toggleCodeBlock:r=>({commands:t})=>t.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!r||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=r,{selection:e}=t,{$from:n,empty:o}=e;if(!o||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!s||!i?!1:r.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=r,{selection:e,doc:n}=t,{$from:o,empty:s}=e;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0||n.nodeAt(a)?!1:r.commands.exitCode()}}},addInputRules(){return[is({find:lm,type:this.type,getAttributes:r=>({language:r[1]})}),is({find:fm,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Dt({key:new Ot("codeBlockVSCodeHandler"),props:{handlePaste:(r,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,s=o==null?void 0:o.mode;if(!e||!s)return!1;const{tr:i}=r.state;return i.replaceSelectionWith(this.type.create({language:s})),i.setSelection(J.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.insertText(e.replace(/\r\n?/g,`
`)),i.setMeta("paste",!0),r.dispatch(i),!0}}})]}}),pm=bt.create({name:"doc",topNode:!0,content:"block+"});function hm(r){return r===void 0&&(r={}),new Dt({view:function(e){return new re(e,r)}})}var re=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(o){var s=function(i){return n[o](i)};return t.dom.addEventListener(o,s),{name:o,handler:s}})};re.prototype.destroy=function(){var t=this;this.handlers.forEach(function(e){var n=e.name,o=e.handler;return t.editorView.dom.removeEventListener(n,o)})};re.prototype.update=function(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())};re.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};re.prototype.updateOverlay=function(){var t=this.editorView.state.doc.resolve(this.cursorPos),e;if(!t.parent.inlineContent){var n=t.nodeBefore,o=t.nodeAfter;if(n||o){var s=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?s.bottom:s.top;n&&o&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:s.left,right:s.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var u,l;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,l=-pageYOffset;else{var f=c.getBoundingClientRect();u=f.left-c.scrollLeft,l=f.top-c.scrollTop}this.element.style.left=e.left-u+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"};re.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},t)};re.prototype.dragover=function(t){if(!!this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),o=n&&n.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,e):o;if(e&&!s){var i=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(i=Ya(this.editorView.state.doc,i,this.editorView.dragging.slice),i==null))return this.setCursor(null);this.setCursor(i),this.scheduleRemoval(5e3)}}};re.prototype.dragend=function(){this.scheduleRemoval(20)};re.prototype.drop=function(){this.scheduleRemoval(20)};re.prototype.dragleave=function(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)};const dm=Mt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[hm(this.options)]}});var Wt=function(r){function t(e){r.call(this,e,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.map=function(n,o){var s=n.resolve(o.map(this.head));return t.valid(s)?new t(s):r.near(s)},t.prototype.content=function(){return w.empty},t.prototype.eq=function(n){return n instanceof t&&n.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(n,o){if(typeof o.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(n.resolve(o.pos))},t.prototype.getBookmark=function(){return new gn(this.anchor)},t.valid=function(n){var o=n.parent;if(o.isTextblock||!mm(n)||!gm(n))return!1;var s=o.type.spec.allowGapCursor;if(s!=null)return s;var i=o.contentMatchAt(n.index()).defaultType;return i&&i.isTextblock},t.findFrom=function(n,o,s){t:for(;;){if(!s&&t.valid(n))return n;for(var i=n.pos,a=null,c=n.depth;;c--){var u=n.node(c);if(o>0?n.indexAfter(c)<u.childCount:n.index(c)>0){a=u.child(o>0?n.indexAfter(c):n.index(c)-1);break}else if(c==0)return null;i+=o;var l=n.doc.resolve(i);if(t.valid(l))return l}for(;;){var f=o>0?a.firstChild:a.lastChild;if(!f){if(a.isAtom&&!a.isText&&!P.isSelectable(a)){n=n.doc.resolve(i+a.nodeSize*o),s=!1;continue t}break}a=f,i+=o;var p=n.doc.resolve(i);if(t.valid(p))return p}return null}},t}(B);Wt.prototype.visible=!1;B.jsonID("gapcursor",Wt);var gn=function(t){this.pos=t};gn.prototype.map=function(t){return new gn(t.map(this.pos))};gn.prototype.resolve=function(t){var e=t.resolve(this.pos);return Wt.valid(e)?new Wt(e):B.near(e)};function mm(r){for(var t=r.depth;t>=0;t--){var e=r.index(t),n=r.node(t);if(e==0){if(n.type.spec.isolating)return!0;continue}for(var o=n.child(e-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function gm(r){for(var t=r.depth;t>=0;t--){var e=r.indexAfter(t),n=r.node(t);if(e==n.childCount){if(n.type.spec.isolating)return!0;continue}for(var o=n.child(e);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}var vm=function(){return new Dt({props:{decorations:km,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&Wt.valid(n))return new Wt(n)},handleClick:bm,handleKeyDown:ym}})},ym=$c({ArrowLeft:Yr("horiz",-1),ArrowRight:Yr("horiz",1),ArrowUp:Yr("vert",-1),ArrowDown:Yr("vert",1)});function Yr(r,t){var e=r=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,o,s){var i=n.selection,a=t>0?i.$to:i.$from,c=i.empty;if(i instanceof J){if(!s.endOfTextblock(e)||a.depth==0)return!1;c=!1,a=n.doc.resolve(t>0?a.after():a.before())}var u=Wt.findFrom(a,t,c);return u?(o&&o(n.tr.setSelection(new Wt(u))),!0):!1}}function bm(r,t,e){if(!r.editable)return!1;var n=r.state.doc.resolve(t);if(!Wt.valid(n))return!1;var o=r.posAtCoords({left:e.clientX,top:e.clientY}),s=o.inside;return s>-1&&P.isSelectable(r.state.doc.nodeAt(s))?!1:(r.dispatch(r.state.tr.setSelection(new Wt(n))),!0)}function km(r){if(!(r.selection instanceof Wt))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",G.create(r.doc,[rt.widget(r.selection.head,t,{key:"gapcursor"})])}const Dm=Mt.create({name:"gapCursor",addProseMirrorPlugins(){return[vm()]},extendNodeSchema(r){var t;const e={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(t=q(M(r,"allowGapCursor",e)))!==null&&t!==void 0?t:null}}}),uu=bt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",ot(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:t,state:e,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:o,storedMarks:s}=e;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=n.extensionManager,c=s||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:l})=>{if(l&&c&&i){const f=c.filter(p=>a.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lu=bt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:t}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,ot(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:r=>({commands:t})=>this.options.levels.includes(r.level)?t.setNode(this.name,r):!1,toggleHeading:r=>({commands:t})=>this.options.levels.includes(r.level)?t.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,t)=>({...r,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(r=>is({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var vn=200,at=function(){};at.prototype.append=function(t){return t.length?(t=at.from(t),!this.length&&t||t.length<vn&&this.leafAppend(t)||this.length<vn&&t.leafPrepend(this)||this.appendInner(t)):this};at.prototype.prepend=function(t){return t.length?at.from(t).append(this):this};at.prototype.appendInner=function(t){return new Cm(this,t)};at.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?at.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};at.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};at.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};at.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(s,i){return o.push(t(s,i))},e,n),o};at.from=function(t){return t instanceof at?t:t&&t.length?new fu(t):at.empty};var fu=function(r){function t(n){r.call(this),this.values=n}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new t(this.values.slice(o,s))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,s,i,a){for(var c=s;c<i;c++)if(o(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(o,s,i,a){for(var c=s-1;c>=i;c--)if(o(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=vn)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=vn)return new t(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(at);at.empty=new fu([]);var Cm=function(r){function t(e,n){r.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,o,s,i){var a=this.left.length;if(o<a&&this.left.forEachInner(n,o,Math.min(s,a),i)===!1||s>a&&this.right.forEachInner(n,Math.max(o-a,0),Math.min(this.length,s)-a,i+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,o,s,i){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(n,o-a,Math.max(s,a)-a,i+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(o,a),s,i)===!1)return!1},t.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(n,o):n>=s?this.right.slice(n-s,o-s):this.left.slice(n,s).append(this.right.slice(0,o-s))},t.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new t(o,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(at),pu=at,xm=500,lt=function(t,e){this.items=t,this.eventCount=e};lt.prototype.popEvent=function(t,e){var n=this;if(this.eventCount==0)return null;for(var o=this.items.length;;o--){var s=this.items.get(o-1);if(s.selection){--o;break}}var i,a;e&&(i=this.remapping(o,this.items.length),a=i.maps.length);var c=t.tr,u,l,f=[],p=[];return this.items.forEach(function(h,d){if(!h.step){i||(i=n.remapping(o,d+1),a=i.maps.length),a--,p.push(h);return}if(i){p.push(new Xt(h.map));var m=h.step.map(i.slice(a)),v;m&&c.maybeStep(m).doc&&(v=c.mapping.maps[c.mapping.maps.length-1],f.push(new Xt(v,null,null,f.length+p.length))),a--,v&&i.appendMap(v,a)}else c.maybeStep(h.step);if(h.selection)return u=i?h.selection.map(i.slice(a)):h.selection,l=new lt(n.items.slice(0,o).append(p.reverse().concat(f)),n.eventCount-1),!1},this.items.length,0),{remaining:l,transform:c,selection:u}};lt.prototype.addTransform=function(t,e,n,o){for(var s=[],i=this.eventCount,a=this.items,c=!o&&a.length?a.get(a.length-1):null,u=0;u<t.steps.length;u++){var l=t.steps[u].invert(t.docs[u]),f=new Xt(t.mapping.maps[u],l,e),p=void 0;(p=c&&c.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),e&&(i++,e=null),o||(c=f)}var h=i-n.depth;return h>Em&&(a=Am(a,h),i-=h),new lt(a.append(s),i)};lt.prototype.remapping=function(t,e){var n=new vt;return this.items.forEach(function(o,s){var i=o.mirrorOffset!=null&&s-o.mirrorOffset>=t?n.maps.length-o.mirrorOffset:null;n.appendMap(o.map,i)},t,e),n};lt.prototype.addMaps=function(t){return this.eventCount==0?this:new lt(this.items.append(t.map(function(e){return new Xt(e)})),this.eventCount)};lt.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],o=Math.max(0,this.items.length-e),s=t.mapping,i=t.steps.length,a=this.eventCount;this.items.forEach(function(h){h.selection&&a--},o);var c=e;this.items.forEach(function(h){var d=s.getMirror(--c);if(d!=null){i=Math.min(i,d);var m=s.maps[d];if(h.step){var v=t.steps[d].invert(t.docs[d]),y=h.selection&&h.selection.map(s.slice(c+1,d));y&&a++,n.push(new Xt(m,v,y))}else n.push(new Xt(m))}},o);for(var u=[],l=e;l<i;l++)u.push(new Xt(s.maps[l]));var f=this.items.slice(0,o).append(u).append(n),p=new lt(f,a);return p.emptyItemCount()>xm&&(p=p.compress(this.items.length-n.length)),p};lt.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(e){e.step||t++}),t};lt.prototype.compress=function(t){t===void 0&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,o=[],s=0;return this.items.forEach(function(i,a){if(a>=t)o.push(i),i.selection&&s++;else if(i.step){var c=i.step.map(e.slice(n)),u=c&&c.getMap();if(n--,u&&e.appendMap(u,n),c){var l=i.selection&&i.selection.map(e.slice(n));l&&s++;var f=new Xt(u.invert(),c,l),p,h=o.length-1;(p=o.length&&o[h].merge(f))?o[h]=p:o.push(f)}}else i.map&&n--},this.items.length,0),new lt(pu.from(o.reverse()),s)};lt.empty=new lt(pu.empty,0);function Am(r,t){var e;return r.forEach(function(n,o){if(n.selection&&t--==0)return e=o,!1}),r.slice(e)}var Xt=function(t,e,n,o){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=o};Xt.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new Xt(e.getMap().invert(),e,this.selection)}};var me=function(t,e,n,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=o},Em=20;function _m(r,t,e,n){var o=e.getMeta(ye),s;if(o)return o.historyState;e.getMeta(Sm)&&(r=new me(r.done,r.undone,null,0));var i=e.getMeta("appendedTransaction");if(e.steps.length==0)return r;if(i&&i.getMeta(ye))return i.getMeta(ye).redo?new me(r.done.addTransform(e,null,n,rn(t)),r.undone,qi(e.mapping.maps[e.steps.length-1]),r.prevTime):new me(r.done,r.undone.addTransform(e,null,n,rn(t)),null,r.prevTime);if(e.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){var a=r.prevTime==0||!i&&(r.prevTime<(e.time||0)-n.newGroupDelay||!wm(e,r.prevRanges)),c=i?So(r.prevRanges,e.mapping):qi(e.mapping.maps[e.steps.length-1]);return new me(r.done.addTransform(e,a?t.selection.getBookmark():null,n,rn(t)),lt.empty,c,e.time)}else return(s=e.getMeta("rebased"))?new me(r.done.rebased(e,s),r.undone.rebased(e,s),So(r.prevRanges,e.mapping),r.prevTime):new me(r.done.addMaps(e.mapping.maps),r.undone.addMaps(e.mapping.maps),So(r.prevRanges,e.mapping),r.prevTime)}function wm(r,t){if(!t)return!1;if(!r.docChanged)return!0;var e=!1;return r.mapping.maps[0].forEach(function(n,o){for(var s=0;s<t.length;s+=2)n<=t[s+1]&&o>=t[s]&&(e=!0)}),e}function qi(r){var t=[];return r.forEach(function(e,n,o,s){return t.push(o,s)}),t}function So(r,t){if(!r)return null;for(var e=[],n=0;n<r.length;n+=2){var o=t.map(r[n],1),s=t.map(r[n+1],-1);o<=s&&e.push(o,s)}return e}function hu(r,t,e,n){var o=rn(t),s=ye.get(t).spec.config,i=(n?r.undone:r.done).popEvent(t,o);if(!!i){var a=i.selection.resolve(i.transform.doc),c=(n?r.done:r.undone).addTransform(i.transform,t.selection.getBookmark(),s,o),u=new me(n?c:i.remaining,n?i.remaining:c,null,0);e(i.transform.setSelection(a).setMeta(ye,{redo:n,historyState:u}).scrollIntoView())}}var Mo=!1,zi=null;function rn(r){var t=r.plugins;if(zi!=t){Mo=!1,zi=t;for(var e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Mo=!0;break}}return Mo}var ye=new Ot("history"),Sm=new Ot("closeHistory");function Mm(r){return r={depth:r&&r.depth||100,newGroupDelay:r&&r.newGroupDelay||500},new Dt({key:ye,state:{init:function(){return new me(lt.empty,lt.empty,null,0)},apply:function(e,n,o){return _m(n,o,e,r)}},config:r,props:{handleDOMEvents:{beforeinput:function(e,n){var o=n.inputType=="historyUndo"?du(e.state,e.dispatch):n.inputType=="historyRedo"?mu(e.state,e.dispatch):!1;return o&&n.preventDefault(),o}}}})}function du(r,t){var e=ye.getState(r);return!e||e.done.eventCount==0?!1:(t&&hu(e,r,t,!1),!0)}function mu(r,t){var e=ye.getState(r);return!e||e.undone.eventCount==0?!1:(t&&hu(e,r,t,!0),!0)}const Tm=Mt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:t})=>du(r,t),redo:()=>({state:r,dispatch:t})=>mu(r,t)}},addProseMirrorPlugins(){return[Mm(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),gu=bt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",ot(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r})=>r().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var n;if(e){const{parent:o,pos:s}=t.selection.$from,i=s+1;if(t.doc.nodeAt(i))t.setSelection(J.create(t.doc,i));else{const c=(n=o.type.contentMatch.defaultType)===null||n===void 0?void 0:n.create();c&&(t.insert(i,c),t.setSelection(J.create(t.doc,i)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[Zd({find:/^(?:---|‚Äî-|___\s|\*\*\*\s)$/,type:this.type})]}}),Om=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Fm=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Nm=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Bm=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,vu=Ce.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ir({find:Om,type:this.type}),ir({find:Nm,type:this.type})]},addPasteRules(){return[Re({find:Fm,type:this.type}),Re({find:Bm,type:this.type})]}}),yu=bt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",ot(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rm=/^(\d+)\.\s$/,bu=bt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:t,...e}=r;return t===1?["ol",ot(this.options.HTMLAttributes,e),0]:["ol",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[pr({find:Rm,type:this.type,getAttributes:r=>({start:+r[1]}),joinPredicate:(r,t)=>t.childCount+t.attrs.start===+r[1]})]}}),ku=bt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Lm=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Im=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Du=Ce.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ir({find:Lm,type:this.type})]},addPasteRules(){return[Re({find:Im,type:this.type})]}}),Pm=bt.create({name:"text",group:"inline"}),qm=Mt.create({name:"starterKit",addExtensions(){var r,t,e,n,o,s,i,a,c,u,l,f,p,h,d,m,v,y;const g=[];return this.options.blockquote!==!1&&g.push(ou.configure((r=this.options)===null||r===void 0?void 0:r.blockquote)),this.options.bold!==!1&&g.push(su.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&g.push(iu.configure((e=this.options)===null||e===void 0?void 0:e.bulletList)),this.options.code!==!1&&g.push(au.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&g.push(cu.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&g.push(pm.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&g.push(dm.configure((i=this.options)===null||i===void 0?void 0:i.dropcursor)),this.options.gapcursor!==!1&&g.push(Dm.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(uu.configure((c=this.options)===null||c===void 0?void 0:c.hardBreak)),this.options.heading!==!1&&g.push(lu.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&g.push(Tm.configure((l=this.options)===null||l===void 0?void 0:l.history)),this.options.horizontalRule!==!1&&g.push(gu.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&g.push(vu.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&g.push(yu.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&g.push(bu.configure((d=this.options)===null||d===void 0?void 0:d.orderedList)),this.options.paragraph!==!1&&g.push(ku.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&g.push(Du.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&g.push(Pm.configure((y=this.options)===null||y===void 0?void 0:y.text)),g}}),zm=/^\s*(\[([( |x])?\])\s$/,Vm=bt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{}}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>r.getAttribute("data-checked")==="true",renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:t}){return["li",ot(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:t,getPos:e,editor:n})=>{const o=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:l}=u.target;n.isEditable&&typeof e=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=e(),h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...h==null?void 0:h.attrs,checked:l}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,l)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,l])=>{o.setAttribute(u,l)}),o.dataset.checked=r.attrs.checked,r.attrs.checked&&a.setAttribute("checked","checked"),s.append(a,i),o.append(s,c),Object.entries(t).forEach(([u,l])=>{o.setAttribute(u,l)}),{dom:o,contentDOM:c,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,u.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[pr({find:zm,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),Hm=/^\s*([-+*]\s\[([( |x])?])\s$/,Cu=Vm.extend({addOptions(){var r;return Object.assign(Object.assign({},(r=this.parent)===null||r===void 0?void 0:r.call(this)),{nested:!0})},addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const t=r.querySelector("input[type=checkbox].task-list-item-checkbox");return t==null?void 0:t.checked},renderHTML:r=>({"data-checked":r.checked})}}},addNodeView(){return({node:r,HTMLAttributes:t,getPos:e,editor:n})=>{const o=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:l}=u.target;n.isEditable&&typeof e=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=e(),h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,Object.assign(Object.assign({},h==null?void 0:h.attrs),{checked:l})),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,l)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,l])=>{o.setAttribute(u,l)}),o.dataset.checked=r.attrs.checked,r.attrs.checked&&a.setAttribute("checked","checked"),s.append(a,i),o.append(s,c),Object.entries(t).forEach(([u,l])=>{o.setAttribute(u,l)}),{dom:o,contentDOM:c,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,u.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0),ignoreMutation:u=>u.attributeName!=="data-checked"}}},parseHTML(){var r;return[...(r=this.parent)===null||r===void 0?void 0:r.call(this),{tag:"li.task-list-item",priority:100}]},addInputRules(){var r;return[...(r=this.parent)===null||r===void 0?void 0:r.call(this),pr({find:Hm,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),jm=bt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",ot(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});var Um=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(e[n[o]]=r[n[o]]);return e};const xu=jm.extend({addAttributes(){return{numeric:{default:!1,parseHTML:r=>r.tagName.toLowerCase()==="ol"}}},parseHTML(){return[{tag:".contains-task-list",priority:100}]},renderHTML(r){var t=r.HTMLAttributes,{numeric:e}=t,n=Um(t,["numeric"]);return[e?"ol":"ul",ot(n,{"data-type":"taskList"}),0]}}),Km=/^\s*([-+*]\s[^\[])$/,Au=iu.extend({addInputRules(){return[pr({find:Km,type:this.type})]}});var Nt;(function(r){r.MARKDOWN="markdown",r.PREVIEW="preview",r.READONLY="readonly"})(Nt||(Nt={}));const Wm="\xC1",Jm="\xE1",$m="\u0102",Gm="\u0103",Zm="\u223E",Ym="\u223F",Qm="\u223E\u0333",Xm="\xC2",tg="\xE2",eg="\xB4",rg="\u0410",ng="\u0430",og="\xC6",sg="\xE6",ig="\u2061",ag="\u{1D504}",cg="\u{1D51E}",ug="\xC0",lg="\xE0",fg="\u2135",pg="\u2135",hg="\u0391",dg="\u03B1",mg="\u0100",gg="\u0101",vg="\u2A3F",yg="&",bg="&",kg="\u2A55",Dg="\u2A53",Cg="\u2227",xg="\u2A5C",Ag="\u2A58",Eg="\u2A5A",_g="\u2220",wg="\u29A4",Sg="\u2220",Mg="\u29A8",Tg="\u29A9",Og="\u29AA",Fg="\u29AB",Ng="\u29AC",Bg="\u29AD",Rg="\u29AE",Lg="\u29AF",Ig="\u2221",Pg="\u221F",qg="\u22BE",zg="\u299D",Vg="\u2222",Hg="\xC5",jg="\u237C",Ug="\u0104",Kg="\u0105",Wg="\u{1D538}",Jg="\u{1D552}",$g="\u2A6F",Gg="\u2248",Zg="\u2A70",Yg="\u224A",Qg="\u224B",Xg="'",tv="\u2061",ev="\u2248",rv="\u224A",nv="\xC5",ov="\xE5",sv="\u{1D49C}",iv="\u{1D4B6}",av="\u2254",cv="*",uv="\u2248",lv="\u224D",fv="\xC3",pv="\xE3",hv="\xC4",dv="\xE4",mv="\u2233",gv="\u2A11",vv="\u224C",yv="\u03F6",bv="\u2035",kv="\u223D",Dv="\u22CD",Cv="\u2216",xv="\u2AE7",Av="\u22BD",Ev="\u2305",_v="\u2306",wv="\u2305",Sv="\u23B5",Mv="\u23B6",Tv="\u224C",Ov="\u0411",Fv="\u0431",Nv="\u201E",Bv="\u2235",Rv="\u2235",Lv="\u2235",Iv="\u29B0",Pv="\u03F6",qv="\u212C",zv="\u212C",Vv="\u0392",Hv="\u03B2",jv="\u2136",Uv="\u226C",Kv="\u{1D505}",Wv="\u{1D51F}",Jv="\u22C2",$v="\u25EF",Gv="\u22C3",Zv="\u2A00",Yv="\u2A01",Qv="\u2A02",Xv="\u2A06",t0="\u2605",e0="\u25BD",r0="\u25B3",n0="\u2A04",o0="\u22C1",s0="\u22C0",i0="\u290D",a0="\u29EB",c0="\u25AA",u0="\u25B4",l0="\u25BE",f0="\u25C2",p0="\u25B8",h0="\u2423",d0="\u2592",m0="\u2591",g0="\u2593",v0="\u2588",y0="=\u20E5",b0="\u2261\u20E5",k0="\u2AED",D0="\u2310",C0="\u{1D539}",x0="\u{1D553}",A0="\u22A5",E0="\u22A5",_0="\u22C8",w0="\u29C9",S0="\u2510",M0="\u2555",T0="\u2556",O0="\u2557",F0="\u250C",N0="\u2552",B0="\u2553",R0="\u2554",L0="\u2500",I0="\u2550",P0="\u252C",q0="\u2564",z0="\u2565",V0="\u2566",H0="\u2534",j0="\u2567",U0="\u2568",K0="\u2569",W0="\u229F",J0="\u229E",$0="\u22A0",G0="\u2518",Z0="\u255B",Y0="\u255C",Q0="\u255D",X0="\u2514",ty="\u2558",ey="\u2559",ry="\u255A",ny="\u2502",oy="\u2551",sy="\u253C",iy="\u256A",ay="\u256B",cy="\u256C",uy="\u2524",ly="\u2561",fy="\u2562",py="\u2563",hy="\u251C",dy="\u255E",my="\u255F",gy="\u2560",vy="\u2035",yy="\u02D8",by="\u02D8",ky="\xA6",Dy="\u{1D4B7}",Cy="\u212C",xy="\u204F",Ay="\u223D",Ey="\u22CD",_y="\u29C5",wy="\\",Sy="\u27C8",My="\u2022",Ty="\u2022",Oy="\u224E",Fy="\u2AAE",Ny="\u224F",By="\u224E",Ry="\u224F",Ly="\u0106",Iy="\u0107",Py="\u2A44",qy="\u2A49",zy="\u2A4B",Vy="\u2229",Hy="\u22D2",jy="\u2A47",Uy="\u2A40",Ky="\u2145",Wy="\u2229\uFE00",Jy="\u2041",$y="\u02C7",Gy="\u212D",Zy="\u2A4D",Yy="\u010C",Qy="\u010D",Xy="\xC7",tb="\xE7",eb="\u0108",rb="\u0109",nb="\u2230",ob="\u2A4C",sb="\u2A50",ib="\u010A",ab="\u010B",cb="\xB8",ub="\xB8",lb="\u29B2",fb="\xA2",pb="\xB7",hb="\xB7",db="\u{1D520}",mb="\u212D",gb="\u0427",vb="\u0447",yb="\u2713",bb="\u2713",kb="\u03A7",Db="\u03C7",Cb="\u02C6",xb="\u2257",Ab="\u21BA",Eb="\u21BB",_b="\u229B",wb="\u229A",Sb="\u229D",Mb="\u2299",Tb="\xAE",Ob="\u24C8",Fb="\u2296",Nb="\u2295",Bb="\u2297",Rb="\u25CB",Lb="\u29C3",Ib="\u2257",Pb="\u2A10",qb="\u2AEF",zb="\u29C2",Vb="\u2232",Hb="\u201D",jb="\u2019",Ub="\u2663",Kb="\u2663",Wb=":",Jb="\u2237",$b="\u2A74",Gb="\u2254",Zb="\u2254",Yb=",",Qb="@",Xb="\u2201",tk="\u2218",ek="\u2201",rk="\u2102",nk="\u2245",ok="\u2A6D",sk="\u2261",ik="\u222E",ak="\u222F",ck="\u222E",uk="\u{1D554}",lk="\u2102",fk="\u2210",pk="\u2210",hk="\xA9",dk="\xA9",mk="\u2117",gk="\u2233",vk="\u21B5",yk="\u2717",bk="\u2A2F",kk="\u{1D49E}",Dk="\u{1D4B8}",Ck="\u2ACF",xk="\u2AD1",Ak="\u2AD0",Ek="\u2AD2",_k="\u22EF",wk="\u2938",Sk="\u2935",Mk="\u22DE",Tk="\u22DF",Ok="\u21B6",Fk="\u293D",Nk="\u2A48",Bk="\u2A46",Rk="\u224D",Lk="\u222A",Ik="\u22D3",Pk="\u2A4A",qk="\u228D",zk="\u2A45",Vk="\u222A\uFE00",Hk="\u21B7",jk="\u293C",Uk="\u22DE",Kk="\u22DF",Wk="\u22CE",Jk="\u22CF",$k="\xA4",Gk="\u21B6",Zk="\u21B7",Yk="\u22CE",Qk="\u22CF",Xk="\u2232",tD="\u2231",eD="\u232D",rD="\u2020",nD="\u2021",oD="\u2138",sD="\u2193",iD="\u21A1",aD="\u21D3",cD="\u2010",uD="\u2AE4",lD="\u22A3",fD="\u290F",pD="\u02DD",hD="\u010E",dD="\u010F",mD="\u0414",gD="\u0434",vD="\u2021",yD="\u21CA",bD="\u2145",kD="\u2146",DD="\u2911",CD="\u2A77",xD="\xB0",AD="\u2207",ED="\u0394",_D="\u03B4",wD="\u29B1",SD="\u297F",MD="\u{1D507}",TD="\u{1D521}",OD="\u2965",FD="\u21C3",ND="\u21C2",BD="\xB4",RD="\u02D9",LD="\u02DD",ID="`",PD="\u02DC",qD="\u22C4",zD="\u22C4",VD="\u22C4",HD="\u2666",jD="\u2666",UD="\xA8",KD="\u2146",WD="\u03DD",JD="\u22F2",$D="\xF7",GD="\xF7",ZD="\u22C7",YD="\u22C7",QD="\u0402",XD="\u0452",tC="\u231E",eC="\u230D",rC="$",nC="\u{1D53B}",oC="\u{1D555}",sC="\xA8",iC="\u02D9",aC="\u20DC",cC="\u2250",uC="\u2251",lC="\u2250",fC="\u2238",pC="\u2214",hC="\u22A1",dC="\u2306",mC="\u222F",gC="\xA8",vC="\u21D3",yC="\u21D0",bC="\u21D4",kC="\u2AE4",DC="\u27F8",CC="\u27FA",xC="\u27F9",AC="\u21D2",EC="\u22A8",_C="\u21D1",wC="\u21D5",SC="\u2225",MC="\u2913",TC="\u2193",OC="\u2193",FC="\u21D3",NC="\u21F5",BC="\u0311",RC="\u21CA",LC="\u21C3",IC="\u21C2",PC="\u2950",qC="\u295E",zC="\u2956",VC="\u21BD",HC="\u295F",jC="\u2957",UC="\u21C1",KC="\u21A7",WC="\u22A4",JC="\u2910",$C="\u231F",GC="\u230C",ZC="\u{1D49F}",YC="\u{1D4B9}",QC="\u0405",XC="\u0455",t1="\u29F6",e1="\u0110",r1="\u0111",n1="\u22F1",o1="\u25BF",s1="\u25BE",i1="\u21F5",a1="\u296F",c1="\u29A6",u1="\u040F",l1="\u045F",f1="\u27FF",p1="\xC9",h1="\xE9",d1="\u2A6E",m1="\u011A",g1="\u011B",v1="\xCA",y1="\xEA",b1="\u2256",k1="\u2255",D1="\u042D",C1="\u044D",x1="\u2A77",A1="\u0116",E1="\u0117",_1="\u2251",w1="\u2147",S1="\u2252",M1="\u{1D508}",T1="\u{1D522}",O1="\u2A9A",F1="\xC8",N1="\xE8",B1="\u2A96",R1="\u2A98",L1="\u2A99",I1="\u2208",P1="\u23E7",q1="\u2113",z1="\u2A95",V1="\u2A97",H1="\u0112",j1="\u0113",U1="\u2205",K1="\u2205",W1="\u25FB",J1="\u2205",$1="\u25AB",G1="\u2004",Z1="\u2005",Y1="\u2003",Q1="\u014A",X1="\u014B",tx="\u2002",ex="\u0118",rx="\u0119",nx="\u{1D53C}",ox="\u{1D556}",sx="\u22D5",ix="\u29E3",ax="\u2A71",cx="\u03B5",ux="\u0395",lx="\u03B5",fx="\u03F5",px="\u2256",hx="\u2255",dx="\u2242",mx="\u2A96",gx="\u2A95",vx="\u2A75",yx="=",bx="\u2242",kx="\u225F",Dx="\u21CC",Cx="\u2261",xx="\u2A78",Ax="\u29E5",Ex="\u2971",_x="\u2253",wx="\u212F",Sx="\u2130",Mx="\u2250",Tx="\u2A73",Ox="\u2242",Fx="\u0397",Nx="\u03B7",Bx="\xD0",Rx="\xF0",Lx="\xCB",Ix="\xEB",Px="\u20AC",qx="!",zx="\u2203",Vx="\u2203",Hx="\u2130",jx="\u2147",Ux="\u2147",Kx="\u2252",Wx="\u0424",Jx="\u0444",$x="\u2640",Gx="\uFB03",Zx="\uFB00",Yx="\uFB04",Qx="\u{1D509}",Xx="\u{1D523}",tA="\uFB01",eA="\u25FC",rA="\u25AA",nA="fj",oA="\u266D",sA="\uFB02",iA="\u25B1",aA="\u0192",cA="\u{1D53D}",uA="\u{1D557}",lA="\u2200",fA="\u2200",pA="\u22D4",hA="\u2AD9",dA="\u2131",mA="\u2A0D",gA="\xBD",vA="\u2153",yA="\xBC",bA="\u2155",kA="\u2159",DA="\u215B",CA="\u2154",xA="\u2156",AA="\xBE",EA="\u2157",_A="\u215C",wA="\u2158",SA="\u215A",MA="\u215D",TA="\u215E",OA="\u2044",FA="\u2322",NA="\u{1D4BB}",BA="\u2131",RA="\u01F5",LA="\u0393",IA="\u03B3",PA="\u03DC",qA="\u03DD",zA="\u2A86",VA="\u011E",HA="\u011F",jA="\u0122",UA="\u011C",KA="\u011D",WA="\u0413",JA="\u0433",$A="\u0120",GA="\u0121",ZA="\u2265",YA="\u2267",QA="\u2A8C",XA="\u22DB",tE="\u2265",eE="\u2267",rE="\u2A7E",nE="\u2AA9",oE="\u2A7E",sE="\u2A80",iE="\u2A82",aE="\u2A84",cE="\u22DB\uFE00",uE="\u2A94",lE="\u{1D50A}",fE="\u{1D524}",pE="\u226B",hE="\u22D9",dE="\u22D9",mE="\u2137",gE="\u0403",vE="\u0453",yE="\u2AA5",bE="\u2277",kE="\u2A92",DE="\u2AA4",CE="\u2A8A",xE="\u2A8A",AE="\u2A88",EE="\u2269",_E="\u2A88",wE="\u2269",SE="\u22E7",ME="\u{1D53E}",TE="\u{1D558}",OE="`",FE="\u2265",NE="\u22DB",BE="\u2267",RE="\u2AA2",LE="\u2277",IE="\u2A7E",PE="\u2273",qE="\u{1D4A2}",zE="\u210A",VE="\u2273",HE="\u2A8E",jE="\u2A90",UE="\u2AA7",KE="\u2A7A",WE=">",JE=">",$E="\u226B",GE="\u22D7",ZE="\u2995",YE="\u2A7C",QE="\u2A86",XE="\u2978",t_="\u22D7",e_="\u22DB",r_="\u2A8C",n_="\u2277",o_="\u2273",s_="\u2269\uFE00",i_="\u2269\uFE00",a_="\u02C7",c_="\u200A",u_="\xBD",l_="\u210B",f_="\u042A",p_="\u044A",h_="\u2948",d_="\u2194",m_="\u21D4",g_="\u21AD",v_="^",y_="\u210F",b_="\u0124",k_="\u0125",D_="\u2665",C_="\u2665",x_="\u2026",A_="\u22B9",E_="\u{1D525}",__="\u210C",w_="\u210B",S_="\u2925",M_="\u2926",T_="\u21FF",O_="\u223B",F_="\u21A9",N_="\u21AA",B_="\u{1D559}",R_="\u210D",L_="\u2015",I_="\u2500",P_="\u{1D4BD}",q_="\u210B",z_="\u210F",V_="\u0126",H_="\u0127",j_="\u224E",U_="\u224F",K_="\u2043",W_="\u2010",J_="\xCD",$_="\xED",G_="\u2063",Z_="\xCE",Y_="\xEE",Q_="\u0418",X_="\u0438",tw="\u0130",ew="\u0415",rw="\u0435",nw="\xA1",ow="\u21D4",sw="\u{1D526}",iw="\u2111",aw="\xCC",cw="\xEC",uw="\u2148",lw="\u2A0C",fw="\u222D",pw="\u29DC",hw="\u2129",dw="\u0132",mw="\u0133",gw="\u012A",vw="\u012B",yw="\u2111",bw="\u2148",kw="\u2110",Dw="\u2111",Cw="\u0131",xw="\u2111",Aw="\u22B7",Ew="\u01B5",_w="\u21D2",ww="\u2105",Sw="\u221E",Mw="\u29DD",Tw="\u0131",Ow="\u22BA",Fw="\u222B",Nw="\u222C",Bw="\u2124",Rw="\u222B",Lw="\u22BA",Iw="\u22C2",Pw="\u2A17",qw="\u2A3C",zw="\u2063",Vw="\u2062",Hw="\u0401",jw="\u0451",Uw="\u012E",Kw="\u012F",Ww="\u{1D540}",Jw="\u{1D55A}",$w="\u0399",Gw="\u03B9",Zw="\u2A3C",Yw="\xBF",Qw="\u{1D4BE}",Xw="\u2110",tS="\u2208",eS="\u22F5",rS="\u22F9",nS="\u22F4",oS="\u22F3",sS="\u2208",iS="\u2062",aS="\u0128",cS="\u0129",uS="\u0406",lS="\u0456",fS="\xCF",pS="\xEF",hS="\u0134",dS="\u0135",mS="\u0419",gS="\u0439",vS="\u{1D50D}",yS="\u{1D527}",bS="\u0237",kS="\u{1D541}",DS="\u{1D55B}",CS="\u{1D4A5}",xS="\u{1D4BF}",AS="\u0408",ES="\u0458",_S="\u0404",wS="\u0454",SS="\u039A",MS="\u03BA",TS="\u03F0",OS="\u0136",FS="\u0137",NS="\u041A",BS="\u043A",RS="\u{1D50E}",LS="\u{1D528}",IS="\u0138",PS="\u0425",qS="\u0445",zS="\u040C",VS="\u045C",HS="\u{1D542}",jS="\u{1D55C}",US="\u{1D4A6}",KS="\u{1D4C0}",WS="\u21DA",JS="\u0139",$S="\u013A",GS="\u29B4",ZS="\u2112",YS="\u039B",QS="\u03BB",XS="\u27E8",tM="\u27EA",eM="\u2991",rM="\u27E8",nM="\u2A85",oM="\u2112",sM="\xAB",iM="\u21E4",aM="\u291F",cM="\u2190",uM="\u219E",lM="\u21D0",fM="\u291D",pM="\u21A9",hM="\u21AB",dM="\u2939",mM="\u2973",gM="\u21A2",vM="\u2919",yM="\u291B",bM="\u2AAB",kM="\u2AAD",DM="\u2AAD\uFE00",CM="\u290C",xM="\u290E",AM="\u2772",EM="{",_M="[",wM="\u298B",SM="\u298F",MM="\u298D",TM="\u013D",OM="\u013E",FM="\u013B",NM="\u013C",BM="\u2308",RM="{",LM="\u041B",IM="\u043B",PM="\u2936",qM="\u201C",zM="\u201E",VM="\u2967",HM="\u294B",jM="\u21B2",UM="\u2264",KM="\u2266",WM="\u27E8",JM="\u21E4",$M="\u2190",GM="\u2190",ZM="\u21D0",YM="\u21C6",QM="\u21A2",XM="\u2308",tT="\u27E6",eT="\u2961",rT="\u2959",nT="\u21C3",oT="\u230A",sT="\u21BD",iT="\u21BC",aT="\u21C7",cT="\u2194",uT="\u2194",lT="\u21D4",fT="\u21C6",pT="\u21CB",hT="\u21AD",dT="\u294E",mT="\u21A4",gT="\u22A3",vT="\u295A",yT="\u22CB",bT="\u29CF",kT="\u22B2",DT="\u22B4",CT="\u2951",xT="\u2960",AT="\u2958",ET="\u21BF",_T="\u2952",wT="\u21BC",ST="\u2A8B",MT="\u22DA",TT="\u2264",OT="\u2266",FT="\u2A7D",NT="\u2AA8",BT="\u2A7D",RT="\u2A7F",LT="\u2A81",IT="\u2A83",PT="\u22DA\uFE00",qT="\u2A93",zT="\u2A85",VT="\u22D6",HT="\u22DA",jT="\u2A8B",UT="\u22DA",KT="\u2266",WT="\u2276",JT="\u2276",$T="\u2AA1",GT="\u2272",ZT="\u2A7D",YT="\u2272",QT="\u297C",XT="\u230A",tO="\u{1D50F}",eO="\u{1D529}",rO="\u2276",nO="\u2A91",oO="\u2962",sO="\u21BD",iO="\u21BC",aO="\u296A",cO="\u2584",uO="\u0409",lO="\u0459",fO="\u21C7",pO="\u226A",hO="\u22D8",dO="\u231E",mO="\u21DA",gO="\u296B",vO="\u25FA",yO="\u013F",bO="\u0140",kO="\u23B0",DO="\u23B0",CO="\u2A89",xO="\u2A89",AO="\u2A87",EO="\u2268",_O="\u2A87",wO="\u2268",SO="\u22E6",MO="\u27EC",TO="\u21FD",OO="\u27E6",FO="\u27F5",NO="\u27F5",BO="\u27F8",RO="\u27F7",LO="\u27F7",IO="\u27FA",PO="\u27FC",qO="\u27F6",zO="\u27F6",VO="\u27F9",HO="\u21AB",jO="\u21AC",UO="\u2985",KO="\u{1D543}",WO="\u{1D55D}",JO="\u2A2D",$O="\u2A34",GO="\u2217",ZO="_",YO="\u2199",QO="\u2198",XO="\u25CA",tF="\u25CA",eF="\u29EB",rF="(",nF="\u2993",oF="\u21C6",sF="\u231F",iF="\u21CB",aF="\u296D",cF="\u200E",uF="\u22BF",lF="\u2039",fF="\u{1D4C1}",pF="\u2112",hF="\u21B0",dF="\u21B0",mF="\u2272",gF="\u2A8D",vF="\u2A8F",yF="[",bF="\u2018",kF="\u201A",DF="\u0141",CF="\u0142",xF="\u2AA6",AF="\u2A79",EF="<",_F="<",wF="\u226A",SF="\u22D6",MF="\u22CB",TF="\u22C9",OF="\u2976",FF="\u2A7B",NF="\u25C3",BF="\u22B4",RF="\u25C2",LF="\u2996",IF="\u294A",PF="\u2966",qF="\u2268\uFE00",zF="\u2268\uFE00",VF="\xAF",HF="\u2642",jF="\u2720",UF="\u2720",KF="\u21A6",WF="\u21A6",JF="\u21A7",$F="\u21A4",GF="\u21A5",ZF="\u25AE",YF="\u2A29",QF="\u041C",XF="\u043C",tN="\u2014",eN="\u223A",rN="\u2221",nN="\u205F",oN="\u2133",sN="\u{1D510}",iN="\u{1D52A}",aN="\u2127",cN="\xB5",uN="*",lN="\u2AF0",fN="\u2223",pN="\xB7",hN="\u229F",dN="\u2212",mN="\u2238",gN="\u2A2A",vN="\u2213",yN="\u2ADB",bN="\u2026",kN="\u2213",DN="\u22A7",CN="\u{1D544}",xN="\u{1D55E}",AN="\u2213",EN="\u{1D4C2}",_N="\u2133",wN="\u223E",SN="\u039C",MN="\u03BC",TN="\u22B8",ON="\u22B8",FN="\u2207",NN="\u0143",BN="\u0144",RN="\u2220\u20D2",LN="\u2249",IN="\u2A70\u0338",PN="\u224B\u0338",qN="\u0149",zN="\u2249",VN="\u266E",HN="\u2115",jN="\u266E",UN="\xA0",KN="\u224E\u0338",WN="\u224F\u0338",JN="\u2A43",$N="\u0147",GN="\u0148",ZN="\u0145",YN="\u0146",QN="\u2247",XN="\u2A6D\u0338",t2="\u2A42",e2="\u041D",r2="\u043D",n2="\u2013",o2="\u2924",s2="\u2197",i2="\u21D7",a2="\u2197",c2="\u2260",u2="\u2250\u0338",l2="\u200B",f2="\u200B",p2="\u200B",h2="\u200B",d2="\u2262",m2="\u2928",g2="\u2242\u0338",v2="\u226B",y2="\u226A",b2=`
`,k2="\u2204",D2="\u2204",C2="\u{1D511}",x2="\u{1D52B}",A2="\u2267\u0338",E2="\u2271",_2="\u2271",w2="\u2267\u0338",S2="\u2A7E\u0338",M2="\u2A7E\u0338",T2="\u22D9\u0338",O2="\u2275",F2="\u226B\u20D2",N2="\u226F",B2="\u226F",R2="\u226B\u0338",L2="\u21AE",I2="\u21CE",P2="\u2AF2",q2="\u220B",z2="\u22FC",V2="\u22FA",H2="\u220B",j2="\u040A",U2="\u045A",K2="\u219A",W2="\u21CD",J2="\u2025",$2="\u2266\u0338",G2="\u2270",Z2="\u219A",Y2="\u21CD",Q2="\u21AE",X2="\u21CE",tB="\u2270",eB="\u2266\u0338",rB="\u2A7D\u0338",nB="\u2A7D\u0338",oB="\u226E",sB="\u22D8\u0338",iB="\u2274",aB="\u226A\u20D2",cB="\u226E",uB="\u22EA",lB="\u22EC",fB="\u226A\u0338",pB="\u2224",hB="\u2060",dB="\xA0",mB="\u{1D55F}",gB="\u2115",vB="\u2AEC",yB="\xAC",bB="\u2262",kB="\u226D",DB="\u2226",CB="\u2209",xB="\u2260",AB="\u2242\u0338",EB="\u2204",_B="\u226F",wB="\u2271",SB="\u2267\u0338",MB="\u226B\u0338",TB="\u2279",OB="\u2A7E\u0338",FB="\u2275",NB="\u224E\u0338",BB="\u224F\u0338",RB="\u2209",LB="\u22F5\u0338",IB="\u22F9\u0338",PB="\u2209",qB="\u22F7",zB="\u22F6",VB="\u29CF\u0338",HB="\u22EA",jB="\u22EC",UB="\u226E",KB="\u2270",WB="\u2278",JB="\u226A\u0338",$B="\u2A7D\u0338",GB="\u2274",ZB="\u2AA2\u0338",YB="\u2AA1\u0338",QB="\u220C",XB="\u220C",tR="\u22FE",eR="\u22FD",rR="\u2280",nR="\u2AAF\u0338",oR="\u22E0",sR="\u220C",iR="\u29D0\u0338",aR="\u22EB",cR="\u22ED",uR="\u228F\u0338",lR="\u22E2",fR="\u2290\u0338",pR="\u22E3",hR="\u2282\u20D2",dR="\u2288",mR="\u2281",gR="\u2AB0\u0338",vR="\u22E1",yR="\u227F\u0338",bR="\u2283\u20D2",kR="\u2289",DR="\u2241",CR="\u2244",xR="\u2247",AR="\u2249",ER="\u2224",_R="\u2226",wR="\u2226",SR="\u2AFD\u20E5",MR="\u2202\u0338",TR="\u2A14",OR="\u2280",FR="\u22E0",NR="\u2280",BR="\u2AAF\u0338",RR="\u2AAF\u0338",LR="\u2933\u0338",IR="\u219B",PR="\u21CF",qR="\u219D\u0338",zR="\u219B",VR="\u21CF",HR="\u22EB",jR="\u22ED",UR="\u2281",KR="\u22E1",WR="\u2AB0\u0338",JR="\u{1D4A9}",$R="\u{1D4C3}",GR="\u2224",ZR="\u2226",YR="\u2241",QR="\u2244",XR="\u2244",tL="\u2224",eL="\u2226",rL="\u22E2",nL="\u22E3",oL="\u2284",sL="\u2AC5\u0338",iL="\u2288",aL="\u2282\u20D2",cL="\u2288",uL="\u2AC5\u0338",lL="\u2281",fL="\u2AB0\u0338",pL="\u2285",hL="\u2AC6\u0338",dL="\u2289",mL="\u2283\u20D2",gL="\u2289",vL="\u2AC6\u0338",yL="\u2279",bL="\xD1",kL="\xF1",DL="\u2278",CL="\u22EA",xL="\u22EC",AL="\u22EB",EL="\u22ED",_L="\u039D",wL="\u03BD",SL="#",ML="\u2116",TL="\u2007",OL="\u224D\u20D2",FL="\u22AC",NL="\u22AD",BL="\u22AE",RL="\u22AF",LL="\u2265\u20D2",IL=">\u20D2",PL="\u2904",qL="\u29DE",zL="\u2902",VL="\u2264\u20D2",HL="<\u20D2",jL="\u22B4\u20D2",UL="\u2903",KL="\u22B5\u20D2",WL="\u223C\u20D2",JL="\u2923",$L="\u2196",GL="\u21D6",ZL="\u2196",YL="\u2927",QL="\xD3",XL="\xF3",tI="\u229B",eI="\xD4",rI="\xF4",nI="\u229A",oI="\u041E",sI="\u043E",iI="\u229D",aI="\u0150",cI="\u0151",uI="\u2A38",lI="\u2299",fI="\u29BC",pI="\u0152",hI="\u0153",dI="\u29BF",mI="\u{1D512}",gI="\u{1D52C}",vI="\u02DB",yI="\xD2",bI="\xF2",kI="\u29C1",DI="\u29B5",CI="\u03A9",xI="\u222E",AI="\u21BA",EI="\u29BE",_I="\u29BB",wI="\u203E",SI="\u29C0",MI="\u014C",TI="\u014D",OI="\u03A9",FI="\u03C9",NI="\u039F",BI="\u03BF",RI="\u29B6",LI="\u2296",II="\u{1D546}",PI="\u{1D560}",qI="\u29B7",zI="\u201C",VI="\u2018",HI="\u29B9",jI="\u2295",UI="\u21BB",KI="\u2A54",WI="\u2228",JI="\u2A5D",$I="\u2134",GI="\u2134",ZI="\xAA",YI="\xBA",QI="\u22B6",XI="\u2A56",tP="\u2A57",eP="\u2A5B",rP="\u24C8",nP="\u{1D4AA}",oP="\u2134",sP="\xD8",iP="\xF8",aP="\u2298",cP="\xD5",uP="\xF5",lP="\u2A36",fP="\u2A37",pP="\u2297",hP="\xD6",dP="\xF6",mP="\u233D",gP="\u203E",vP="\u23DE",yP="\u23B4",bP="\u23DC",kP="\xB6",DP="\u2225",CP="\u2225",xP="\u2AF3",AP="\u2AFD",EP="\u2202",_P="\u2202",wP="\u041F",SP="\u043F",MP="%",TP=".",OP="\u2030",FP="\u22A5",NP="\u2031",BP="\u{1D513}",RP="\u{1D52D}",LP="\u03A6",IP="\u03C6",PP="\u03D5",qP="\u2133",zP="\u260E",VP="\u03A0",HP="\u03C0",jP="\u22D4",UP="\u03D6",KP="\u210F",WP="\u210E",JP="\u210F",$P="\u2A23",GP="\u229E",ZP="\u2A22",YP="+",QP="\u2214",XP="\u2A25",tq="\u2A72",eq="\xB1",rq="\xB1",nq="\u2A26",oq="\u2A27",sq="\xB1",iq="\u210C",aq="\u2A15",cq="\u{1D561}",uq="\u2119",lq="\xA3",fq="\u2AB7",pq="\u2ABB",hq="\u227A",dq="\u227C",mq="\u2AB7",gq="\u227A",vq="\u227C",yq="\u227A",bq="\u2AAF",kq="\u227C",Dq="\u227E",Cq="\u2AAF",xq="\u2AB9",Aq="\u2AB5",Eq="\u22E8",_q="\u2AAF",wq="\u2AB3",Sq="\u227E",Mq="\u2032",Tq="\u2033",Oq="\u2119",Fq="\u2AB9",Nq="\u2AB5",Bq="\u22E8",Rq="\u220F",Lq="\u220F",Iq="\u232E",Pq="\u2312",qq="\u2313",zq="\u221D",Vq="\u221D",Hq="\u2237",jq="\u221D",Uq="\u227E",Kq="\u22B0",Wq="\u{1D4AB}",Jq="\u{1D4C5}",$q="\u03A8",Gq="\u03C8",Zq="\u2008",Yq="\u{1D514}",Qq="\u{1D52E}",Xq="\u2A0C",tz="\u{1D562}",ez="\u211A",rz="\u2057",nz="\u{1D4AC}",oz="\u{1D4C6}",sz="\u210D",iz="\u2A16",az="?",cz="\u225F",uz='"',lz='"',fz="\u21DB",pz="\u223D\u0331",hz="\u0154",dz="\u0155",mz="\u221A",gz="\u29B3",vz="\u27E9",yz="\u27EB",bz="\u2992",kz="\u29A5",Dz="\u27E9",Cz="\xBB",xz="\u2975",Az="\u21E5",Ez="\u2920",_z="\u2933",wz="\u2192",Sz="\u21A0",Mz="\u21D2",Tz="\u291E",Oz="\u21AA",Fz="\u21AC",Nz="\u2945",Bz="\u2974",Rz="\u2916",Lz="\u21A3",Iz="\u219D",Pz="\u291A",qz="\u291C",zz="\u2236",Vz="\u211A",Hz="\u290D",jz="\u290F",Uz="\u2910",Kz="\u2773",Wz="}",Jz="]",$z="\u298C",Gz="\u298E",Zz="\u2990",Yz="\u0158",Qz="\u0159",Xz="\u0156",t3="\u0157",e3="\u2309",r3="}",n3="\u0420",o3="\u0440",s3="\u2937",i3="\u2969",a3="\u201D",c3="\u201D",u3="\u21B3",l3="\u211C",f3="\u211B",p3="\u211C",h3="\u211D",d3="\u211C",m3="\u25AD",g3="\xAE",v3="\xAE",y3="\u220B",b3="\u21CB",k3="\u296F",D3="\u297D",C3="\u230B",x3="\u{1D52F}",A3="\u211C",E3="\u2964",_3="\u21C1",w3="\u21C0",S3="\u296C",M3="\u03A1",T3="\u03C1",O3="\u03F1",F3="\u27E9",N3="\u21E5",B3="\u2192",R3="\u2192",L3="\u21D2",I3="\u21C4",P3="\u21A3",q3="\u2309",z3="\u27E7",V3="\u295D",H3="\u2955",j3="\u21C2",U3="\u230B",K3="\u21C1",W3="\u21C0",J3="\u21C4",$3="\u21CC",G3="\u21C9",Z3="\u219D",Y3="\u21A6",Q3="\u22A2",X3="\u295B",t8="\u22CC",e8="\u29D0",r8="\u22B3",n8="\u22B5",o8="\u294F",s8="\u295C",i8="\u2954",a8="\u21BE",c8="\u2953",u8="\u21C0",l8="\u02DA",f8="\u2253",p8="\u21C4",h8="\u21CC",d8="\u200F",m8="\u23B1",g8="\u23B1",v8="\u2AEE",y8="\u27ED",b8="\u21FE",k8="\u27E7",D8="\u2986",C8="\u{1D563}",x8="\u211D",A8="\u2A2E",E8="\u2A35",_8="\u2970",w8=")",S8="\u2994",M8="\u2A12",T8="\u21C9",O8="\u21DB",F8="\u203A",N8="\u{1D4C7}",B8="\u211B",R8="\u21B1",L8="\u21B1",I8="]",P8="\u2019",q8="\u2019",z8="\u22CC",V8="\u22CA",H8="\u25B9",j8="\u22B5",U8="\u25B8",K8="\u29CE",W8="\u29F4",J8="\u2968",$8="\u211E",G8="\u015A",Z8="\u015B",Y8="\u201A",Q8="\u2AB8",X8="\u0160",t6="\u0161",e6="\u2ABC",r6="\u227B",n6="\u227D",o6="\u2AB0",s6="\u2AB4",i6="\u015E",a6="\u015F",c6="\u015C",u6="\u015D",l6="\u2ABA",f6="\u2AB6",p6="\u22E9",h6="\u2A13",d6="\u227F",m6="\u0421",g6="\u0441",v6="\u22A1",y6="\u22C5",b6="\u2A66",k6="\u2925",D6="\u2198",C6="\u21D8",x6="\u2198",A6="\xA7",E6=";",_6="\u2929",w6="\u2216",S6="\u2216",M6="\u2736",T6="\u{1D516}",O6="\u{1D530}",F6="\u2322",N6="\u266F",B6="\u0429",R6="\u0449",L6="\u0428",I6="\u0448",P6="\u2193",q6="\u2190",z6="\u2223",V6="\u2225",H6="\u2192",j6="\u2191",U6="\xAD",K6="\u03A3",W6="\u03C3",J6="\u03C2",$6="\u03C2",G6="\u223C",Z6="\u2A6A",Y6="\u2243",Q6="\u2243",X6="\u2A9E",t5="\u2AA0",e5="\u2A9D",r5="\u2A9F",n5="\u2246",o5="\u2A24",s5="\u2972",i5="\u2190",a5="\u2218",c5="\u2216",u5="\u2A33",l5="\u29E4",f5="\u2223",p5="\u2323",h5="\u2AAA",d5="\u2AAC",m5="\u2AAC\uFE00",g5="\u042C",v5="\u044C",y5="\u233F",b5="\u29C4",k5="/",D5="\u{1D54A}",C5="\u{1D564}",x5="\u2660",A5="\u2660",E5="\u2225",_5="\u2293",w5="\u2293\uFE00",S5="\u2294",M5="\u2294\uFE00",T5="\u221A",O5="\u228F",F5="\u2291",N5="\u228F",B5="\u2291",R5="\u2290",L5="\u2292",I5="\u2290",P5="\u2292",q5="\u25A1",z5="\u25A1",V5="\u2293",H5="\u228F",j5="\u2291",U5="\u2290",K5="\u2292",W5="\u2294",J5="\u25AA",$5="\u25A1",G5="\u25AA",Z5="\u2192",Y5="\u{1D4AE}",Q5="\u{1D4C8}",X5="\u2216",t9="\u2323",e9="\u22C6",r9="\u22C6",n9="\u2606",o9="\u2605",s9="\u03F5",i9="\u03D5",a9="\xAF",c9="\u2282",u9="\u22D0",l9="\u2ABD",f9="\u2AC5",p9="\u2286",h9="\u2AC3",d9="\u2AC1",m9="\u2ACB",g9="\u228A",v9="\u2ABF",y9="\u2979",b9="\u2282",k9="\u22D0",D9="\u2286",C9="\u2AC5",x9="\u2286",A9="\u228A",E9="\u2ACB",_9="\u2AC7",w9="\u2AD5",S9="\u2AD3",M9="\u2AB8",T9="\u227B",O9="\u227D",F9="\u227B",N9="\u2AB0",B9="\u227D",R9="\u227F",L9="\u2AB0",I9="\u2ABA",P9="\u2AB6",q9="\u22E9",z9="\u227F",V9="\u220B",H9="\u2211",j9="\u2211",U9="\u266A",K9="\xB9",W9="\xB2",J9="\xB3",$9="\u2283",G9="\u22D1",Z9="\u2ABE",Y9="\u2AD8",Q9="\u2AC6",X9="\u2287",tV="\u2AC4",eV="\u2283",rV="\u2287",nV="\u27C9",oV="\u2AD7",sV="\u297B",iV="\u2AC2",aV="\u2ACC",cV="\u228B",uV="\u2AC0",lV="\u2283",fV="\u22D1",pV="\u2287",hV="\u2AC6",dV="\u228B",mV="\u2ACC",gV="\u2AC8",vV="\u2AD4",yV="\u2AD6",bV="\u2926",kV="\u2199",DV="\u21D9",CV="\u2199",xV="\u292A",AV="\xDF",EV="	",_V="\u2316",wV="\u03A4",SV="\u03C4",MV="\u23B4",TV="\u0164",OV="\u0165",FV="\u0162",NV="\u0163",BV="\u0422",RV="\u0442",LV="\u20DB",IV="\u2315",PV="\u{1D517}",qV="\u{1D531}",zV="\u2234",VV="\u2234",HV="\u2234",jV="\u0398",UV="\u03B8",KV="\u03D1",WV="\u03D1",JV="\u2248",$V="\u223C",GV="\u205F\u200A",ZV="\u2009",YV="\u2009",QV="\u2248",XV="\u223C",t7="\xDE",e7="\xFE",r7="\u02DC",n7="\u223C",o7="\u2243",s7="\u2245",i7="\u2248",a7="\u2A31",c7="\u22A0",u7="\xD7",l7="\u2A30",f7="\u222D",p7="\u2928",h7="\u2336",d7="\u2AF1",m7="\u22A4",g7="\u{1D54B}",v7="\u{1D565}",y7="\u2ADA",b7="\u2929",k7="\u2034",D7="\u2122",C7="\u2122",x7="\u25B5",A7="\u25BF",E7="\u25C3",_7="\u22B4",w7="\u225C",S7="\u25B9",M7="\u22B5",T7="\u25EC",O7="\u225C",F7="\u2A3A",N7="\u20DB",B7="\u2A39",R7="\u29CD",L7="\u2A3B",I7="\u23E2",P7="\u{1D4AF}",q7="\u{1D4C9}",z7="\u0426",V7="\u0446",H7="\u040B",j7="\u045B",U7="\u0166",K7="\u0167",W7="\u226C",J7="\u219E",$7="\u21A0",G7="\xDA",Z7="\xFA",Y7="\u2191",Q7="\u219F",X7="\u21D1",tH="\u2949",eH="\u040E",rH="\u045E",nH="\u016C",oH="\u016D",sH="\xDB",iH="\xFB",aH="\u0423",cH="\u0443",uH="\u21C5",lH="\u0170",fH="\u0171",pH="\u296E",hH="\u297E",dH="\u{1D518}",mH="\u{1D532}",gH="\xD9",vH="\xF9",yH="\u2963",bH="\u21BF",kH="\u21BE",DH="\u2580",CH="\u231C",xH="\u231C",AH="\u230F",EH="\u25F8",_H="\u016A",wH="\u016B",SH="\xA8",MH="_",TH="\u23DF",OH="\u23B5",FH="\u23DD",NH="\u22C3",BH="\u228E",RH="\u0172",LH="\u0173",IH="\u{1D54C}",PH="\u{1D566}",qH="\u2912",zH="\u2191",VH="\u2191",HH="\u21D1",jH="\u21C5",UH="\u2195",KH="\u2195",WH="\u21D5",JH="\u296E",$H="\u21BF",GH="\u21BE",ZH="\u228E",YH="\u2196",QH="\u2197",XH="\u03C5",t4="\u03D2",e4="\u03D2",r4="\u03A5",n4="\u03C5",o4="\u21A5",s4="\u22A5",i4="\u21C8",a4="\u231D",c4="\u231D",u4="\u230E",l4="\u016E",f4="\u016F",p4="\u25F9",h4="\u{1D4B0}",d4="\u{1D4CA}",m4="\u22F0",g4="\u0168",v4="\u0169",y4="\u25B5",b4="\u25B4",k4="\u21C8",D4="\xDC",C4="\xFC",x4="\u29A7",A4="\u299C",E4="\u03F5",_4="\u03F0",w4="\u2205",S4="\u03D5",M4="\u03D6",T4="\u221D",O4="\u2195",F4="\u21D5",N4="\u03F1",B4="\u03C2",R4="\u228A\uFE00",L4="\u2ACB\uFE00",I4="\u228B\uFE00",P4="\u2ACC\uFE00",q4="\u03D1",z4="\u22B2",V4="\u22B3",H4="\u2AE8",j4="\u2AEB",U4="\u2AE9",K4="\u0412",W4="\u0432",J4="\u22A2",$4="\u22A8",G4="\u22A9",Z4="\u22AB",Y4="\u2AE6",Q4="\u22BB",X4="\u2228",tj="\u22C1",ej="\u225A",rj="\u22EE",nj="|",oj="\u2016",sj="|",ij="\u2016",aj="\u2223",cj="|",uj="\u2758",lj="\u2240",fj="\u200A",pj="\u{1D519}",hj="\u{1D533}",dj="\u22B2",mj="\u2282\u20D2",gj="\u2283\u20D2",vj="\u{1D54D}",yj="\u{1D567}",bj="\u221D",kj="\u22B3",Dj="\u{1D4B1}",Cj="\u{1D4CB}",xj="\u2ACB\uFE00",Aj="\u228A\uFE00",Ej="\u2ACC\uFE00",_j="\u228B\uFE00",wj="\u22AA",Sj="\u299A",Mj="\u0174",Tj="\u0175",Oj="\u2A5F",Fj="\u2227",Nj="\u22C0",Bj="\u2259",Rj="\u2118",Lj="\u{1D51A}",Ij="\u{1D534}",Pj="\u{1D54E}",qj="\u{1D568}",zj="\u2118",Vj="\u2240",Hj="\u2240",jj="\u{1D4B2}",Uj="\u{1D4CC}",Kj="\u22C2",Wj="\u25EF",Jj="\u22C3",$j="\u25BD",Gj="\u{1D51B}",Zj="\u{1D535}",Yj="\u27F7",Qj="\u27FA",Xj="\u039E",tU="\u03BE",eU="\u27F5",rU="\u27F8",nU="\u27FC",oU="\u22FB",sU="\u2A00",iU="\u{1D54F}",aU="\u{1D569}",cU="\u2A01",uU="\u2A02",lU="\u27F6",fU="\u27F9",pU="\u{1D4B3}",hU="\u{1D4CD}",dU="\u2A06",mU="\u2A04",gU="\u25B3",vU="\u22C1",yU="\u22C0",bU="\xDD",kU="\xFD",DU="\u042F",CU="\u044F",xU="\u0176",AU="\u0177",EU="\u042B",_U="\u044B",wU="\xA5",SU="\u{1D51C}",MU="\u{1D536}",TU="\u0407",OU="\u0457",FU="\u{1D550}",NU="\u{1D56A}",BU="\u{1D4B4}",RU="\u{1D4CE}",LU="\u042E",IU="\u044E",PU="\xFF",qU="\u0178",zU="\u0179",VU="\u017A",HU="\u017D",jU="\u017E",UU="\u0417",KU="\u0437",WU="\u017B",JU="\u017C",$U="\u2128",GU="\u200B",ZU="\u0396",YU="\u03B6",QU="\u{1D537}",XU="\u2128",tK="\u0416",eK="\u0436",rK="\u21DD",nK="\u{1D56B}",oK="\u2124",sK="\u{1D4B5}",iK="\u{1D4CF}",aK="\u200D",cK="\u200C",uK={Aacute:Wm,aacute:Jm,Abreve:$m,abreve:Gm,ac:Zm,acd:Ym,acE:Qm,Acirc:Xm,acirc:tg,acute:eg,Acy:rg,acy:ng,AElig:og,aelig:sg,af:ig,Afr:ag,afr:cg,Agrave:ug,agrave:lg,alefsym:fg,aleph:pg,Alpha:hg,alpha:dg,Amacr:mg,amacr:gg,amalg:vg,amp:yg,AMP:bg,andand:kg,And:Dg,and:Cg,andd:xg,andslope:Ag,andv:Eg,ang:_g,ange:wg,angle:Sg,angmsdaa:Mg,angmsdab:Tg,angmsdac:Og,angmsdad:Fg,angmsdae:Ng,angmsdaf:Bg,angmsdag:Rg,angmsdah:Lg,angmsd:Ig,angrt:Pg,angrtvb:qg,angrtvbd:zg,angsph:Vg,angst:Hg,angzarr:jg,Aogon:Ug,aogon:Kg,Aopf:Wg,aopf:Jg,apacir:$g,ap:Gg,apE:Zg,ape:Yg,apid:Qg,apos:Xg,ApplyFunction:tv,approx:ev,approxeq:rv,Aring:nv,aring:ov,Ascr:sv,ascr:iv,Assign:av,ast:cv,asymp:uv,asympeq:lv,Atilde:fv,atilde:pv,Auml:hv,auml:dv,awconint:mv,awint:gv,backcong:vv,backepsilon:yv,backprime:bv,backsim:kv,backsimeq:Dv,Backslash:Cv,Barv:xv,barvee:Av,barwed:Ev,Barwed:_v,barwedge:wv,bbrk:Sv,bbrktbrk:Mv,bcong:Tv,Bcy:Ov,bcy:Fv,bdquo:Nv,becaus:Bv,because:Rv,Because:Lv,bemptyv:Iv,bepsi:Pv,bernou:qv,Bernoullis:zv,Beta:Vv,beta:Hv,beth:jv,between:Uv,Bfr:Kv,bfr:Wv,bigcap:Jv,bigcirc:$v,bigcup:Gv,bigodot:Zv,bigoplus:Yv,bigotimes:Qv,bigsqcup:Xv,bigstar:t0,bigtriangledown:e0,bigtriangleup:r0,biguplus:n0,bigvee:o0,bigwedge:s0,bkarow:i0,blacklozenge:a0,blacksquare:c0,blacktriangle:u0,blacktriangledown:l0,blacktriangleleft:f0,blacktriangleright:p0,blank:h0,blk12:d0,blk14:m0,blk34:g0,block:v0,bne:y0,bnequiv:b0,bNot:k0,bnot:D0,Bopf:C0,bopf:x0,bot:A0,bottom:E0,bowtie:_0,boxbox:w0,boxdl:S0,boxdL:M0,boxDl:T0,boxDL:O0,boxdr:F0,boxdR:N0,boxDr:B0,boxDR:R0,boxh:L0,boxH:I0,boxhd:P0,boxHd:q0,boxhD:z0,boxHD:V0,boxhu:H0,boxHu:j0,boxhU:U0,boxHU:K0,boxminus:W0,boxplus:J0,boxtimes:$0,boxul:G0,boxuL:Z0,boxUl:Y0,boxUL:Q0,boxur:X0,boxuR:ty,boxUr:ey,boxUR:ry,boxv:ny,boxV:oy,boxvh:sy,boxvH:iy,boxVh:ay,boxVH:cy,boxvl:uy,boxvL:ly,boxVl:fy,boxVL:py,boxvr:hy,boxvR:dy,boxVr:my,boxVR:gy,bprime:vy,breve:yy,Breve:by,brvbar:ky,bscr:Dy,Bscr:Cy,bsemi:xy,bsim:Ay,bsime:Ey,bsolb:_y,bsol:wy,bsolhsub:Sy,bull:My,bullet:Ty,bump:Oy,bumpE:Fy,bumpe:Ny,Bumpeq:By,bumpeq:Ry,Cacute:Ly,cacute:Iy,capand:Py,capbrcup:qy,capcap:zy,cap:Vy,Cap:Hy,capcup:jy,capdot:Uy,CapitalDifferentialD:Ky,caps:Wy,caret:Jy,caron:$y,Cayleys:Gy,ccaps:Zy,Ccaron:Yy,ccaron:Qy,Ccedil:Xy,ccedil:tb,Ccirc:eb,ccirc:rb,Cconint:nb,ccups:ob,ccupssm:sb,Cdot:ib,cdot:ab,cedil:cb,Cedilla:ub,cemptyv:lb,cent:fb,centerdot:pb,CenterDot:hb,cfr:db,Cfr:mb,CHcy:gb,chcy:vb,check:yb,checkmark:bb,Chi:kb,chi:Db,circ:Cb,circeq:xb,circlearrowleft:Ab,circlearrowright:Eb,circledast:_b,circledcirc:wb,circleddash:Sb,CircleDot:Mb,circledR:Tb,circledS:Ob,CircleMinus:Fb,CirclePlus:Nb,CircleTimes:Bb,cir:Rb,cirE:Lb,cire:Ib,cirfnint:Pb,cirmid:qb,cirscir:zb,ClockwiseContourIntegral:Vb,CloseCurlyDoubleQuote:Hb,CloseCurlyQuote:jb,clubs:Ub,clubsuit:Kb,colon:Wb,Colon:Jb,Colone:$b,colone:Gb,coloneq:Zb,comma:Yb,commat:Qb,comp:Xb,compfn:tk,complement:ek,complexes:rk,cong:nk,congdot:ok,Congruent:sk,conint:ik,Conint:ak,ContourIntegral:ck,copf:uk,Copf:lk,coprod:fk,Coproduct:pk,copy:hk,COPY:dk,copysr:mk,CounterClockwiseContourIntegral:gk,crarr:vk,cross:yk,Cross:bk,Cscr:kk,cscr:Dk,csub:Ck,csube:xk,csup:Ak,csupe:Ek,ctdot:_k,cudarrl:wk,cudarrr:Sk,cuepr:Mk,cuesc:Tk,cularr:Ok,cularrp:Fk,cupbrcap:Nk,cupcap:Bk,CupCap:Rk,cup:Lk,Cup:Ik,cupcup:Pk,cupdot:qk,cupor:zk,cups:Vk,curarr:Hk,curarrm:jk,curlyeqprec:Uk,curlyeqsucc:Kk,curlyvee:Wk,curlywedge:Jk,curren:$k,curvearrowleft:Gk,curvearrowright:Zk,cuvee:Yk,cuwed:Qk,cwconint:Xk,cwint:tD,cylcty:eD,dagger:rD,Dagger:nD,daleth:oD,darr:sD,Darr:iD,dArr:aD,dash:cD,Dashv:uD,dashv:lD,dbkarow:fD,dblac:pD,Dcaron:hD,dcaron:dD,Dcy:mD,dcy:gD,ddagger:vD,ddarr:yD,DD:bD,dd:kD,DDotrahd:DD,ddotseq:CD,deg:xD,Del:AD,Delta:ED,delta:_D,demptyv:wD,dfisht:SD,Dfr:MD,dfr:TD,dHar:OD,dharl:FD,dharr:ND,DiacriticalAcute:BD,DiacriticalDot:RD,DiacriticalDoubleAcute:LD,DiacriticalGrave:ID,DiacriticalTilde:PD,diam:qD,diamond:zD,Diamond:VD,diamondsuit:HD,diams:jD,die:UD,DifferentialD:KD,digamma:WD,disin:JD,div:$D,divide:GD,divideontimes:ZD,divonx:YD,DJcy:QD,djcy:XD,dlcorn:tC,dlcrop:eC,dollar:rC,Dopf:nC,dopf:oC,Dot:sC,dot:iC,DotDot:aC,doteq:cC,doteqdot:uC,DotEqual:lC,dotminus:fC,dotplus:pC,dotsquare:hC,doublebarwedge:dC,DoubleContourIntegral:mC,DoubleDot:gC,DoubleDownArrow:vC,DoubleLeftArrow:yC,DoubleLeftRightArrow:bC,DoubleLeftTee:kC,DoubleLongLeftArrow:DC,DoubleLongLeftRightArrow:CC,DoubleLongRightArrow:xC,DoubleRightArrow:AC,DoubleRightTee:EC,DoubleUpArrow:_C,DoubleUpDownArrow:wC,DoubleVerticalBar:SC,DownArrowBar:MC,downarrow:TC,DownArrow:OC,Downarrow:FC,DownArrowUpArrow:NC,DownBreve:BC,downdownarrows:RC,downharpoonleft:LC,downharpoonright:IC,DownLeftRightVector:PC,DownLeftTeeVector:qC,DownLeftVectorBar:zC,DownLeftVector:VC,DownRightTeeVector:HC,DownRightVectorBar:jC,DownRightVector:UC,DownTeeArrow:KC,DownTee:WC,drbkarow:JC,drcorn:$C,drcrop:GC,Dscr:ZC,dscr:YC,DScy:QC,dscy:XC,dsol:t1,Dstrok:e1,dstrok:r1,dtdot:n1,dtri:o1,dtrif:s1,duarr:i1,duhar:a1,dwangle:c1,DZcy:u1,dzcy:l1,dzigrarr:f1,Eacute:p1,eacute:h1,easter:d1,Ecaron:m1,ecaron:g1,Ecirc:v1,ecirc:y1,ecir:b1,ecolon:k1,Ecy:D1,ecy:C1,eDDot:x1,Edot:A1,edot:E1,eDot:_1,ee:w1,efDot:S1,Efr:M1,efr:T1,eg:O1,Egrave:F1,egrave:N1,egs:B1,egsdot:R1,el:L1,Element:I1,elinters:P1,ell:q1,els:z1,elsdot:V1,Emacr:H1,emacr:j1,empty:U1,emptyset:K1,EmptySmallSquare:W1,emptyv:J1,EmptyVerySmallSquare:$1,emsp13:G1,emsp14:Z1,emsp:Y1,ENG:Q1,eng:X1,ensp:tx,Eogon:ex,eogon:rx,Eopf:nx,eopf:ox,epar:sx,eparsl:ix,eplus:ax,epsi:cx,Epsilon:ux,epsilon:lx,epsiv:fx,eqcirc:px,eqcolon:hx,eqsim:dx,eqslantgtr:mx,eqslantless:gx,Equal:vx,equals:yx,EqualTilde:bx,equest:kx,Equilibrium:Dx,equiv:Cx,equivDD:xx,eqvparsl:Ax,erarr:Ex,erDot:_x,escr:wx,Escr:Sx,esdot:Mx,Esim:Tx,esim:Ox,Eta:Fx,eta:Nx,ETH:Bx,eth:Rx,Euml:Lx,euml:Ix,euro:Px,excl:qx,exist:zx,Exists:Vx,expectation:Hx,exponentiale:jx,ExponentialE:Ux,fallingdotseq:Kx,Fcy:Wx,fcy:Jx,female:$x,ffilig:Gx,fflig:Zx,ffllig:Yx,Ffr:Qx,ffr:Xx,filig:tA,FilledSmallSquare:eA,FilledVerySmallSquare:rA,fjlig:nA,flat:oA,fllig:sA,fltns:iA,fnof:aA,Fopf:cA,fopf:uA,forall:lA,ForAll:fA,fork:pA,forkv:hA,Fouriertrf:dA,fpartint:mA,frac12:gA,frac13:vA,frac14:yA,frac15:bA,frac16:kA,frac18:DA,frac23:CA,frac25:xA,frac34:AA,frac35:EA,frac38:_A,frac45:wA,frac56:SA,frac58:MA,frac78:TA,frasl:OA,frown:FA,fscr:NA,Fscr:BA,gacute:RA,Gamma:LA,gamma:IA,Gammad:PA,gammad:qA,gap:zA,Gbreve:VA,gbreve:HA,Gcedil:jA,Gcirc:UA,gcirc:KA,Gcy:WA,gcy:JA,Gdot:$A,gdot:GA,ge:ZA,gE:YA,gEl:QA,gel:XA,geq:tE,geqq:eE,geqslant:rE,gescc:nE,ges:oE,gesdot:sE,gesdoto:iE,gesdotol:aE,gesl:cE,gesles:uE,Gfr:lE,gfr:fE,gg:pE,Gg:hE,ggg:dE,gimel:mE,GJcy:gE,gjcy:vE,gla:yE,gl:bE,glE:kE,glj:DE,gnap:CE,gnapprox:xE,gne:AE,gnE:EE,gneq:_E,gneqq:wE,gnsim:SE,Gopf:ME,gopf:TE,grave:OE,GreaterEqual:FE,GreaterEqualLess:NE,GreaterFullEqual:BE,GreaterGreater:RE,GreaterLess:LE,GreaterSlantEqual:IE,GreaterTilde:PE,Gscr:qE,gscr:zE,gsim:VE,gsime:HE,gsiml:jE,gtcc:UE,gtcir:KE,gt:WE,GT:JE,Gt:$E,gtdot:GE,gtlPar:ZE,gtquest:YE,gtrapprox:QE,gtrarr:XE,gtrdot:t_,gtreqless:e_,gtreqqless:r_,gtrless:n_,gtrsim:o_,gvertneqq:s_,gvnE:i_,Hacek:a_,hairsp:c_,half:u_,hamilt:l_,HARDcy:f_,hardcy:p_,harrcir:h_,harr:d_,hArr:m_,harrw:g_,Hat:v_,hbar:y_,Hcirc:b_,hcirc:k_,hearts:D_,heartsuit:C_,hellip:x_,hercon:A_,hfr:E_,Hfr:__,HilbertSpace:w_,hksearow:S_,hkswarow:M_,hoarr:T_,homtht:O_,hookleftarrow:F_,hookrightarrow:N_,hopf:B_,Hopf:R_,horbar:L_,HorizontalLine:I_,hscr:P_,Hscr:q_,hslash:z_,Hstrok:V_,hstrok:H_,HumpDownHump:j_,HumpEqual:U_,hybull:K_,hyphen:W_,Iacute:J_,iacute:$_,ic:G_,Icirc:Z_,icirc:Y_,Icy:Q_,icy:X_,Idot:tw,IEcy:ew,iecy:rw,iexcl:nw,iff:ow,ifr:sw,Ifr:iw,Igrave:aw,igrave:cw,ii:uw,iiiint:lw,iiint:fw,iinfin:pw,iiota:hw,IJlig:dw,ijlig:mw,Imacr:gw,imacr:vw,image:yw,ImaginaryI:bw,imagline:kw,imagpart:Dw,imath:Cw,Im:xw,imof:Aw,imped:Ew,Implies:_w,incare:ww,in:"\u2208",infin:Sw,infintie:Mw,inodot:Tw,intcal:Ow,int:Fw,Int:Nw,integers:Bw,Integral:Rw,intercal:Lw,Intersection:Iw,intlarhk:Pw,intprod:qw,InvisibleComma:zw,InvisibleTimes:Vw,IOcy:Hw,iocy:jw,Iogon:Uw,iogon:Kw,Iopf:Ww,iopf:Jw,Iota:$w,iota:Gw,iprod:Zw,iquest:Yw,iscr:Qw,Iscr:Xw,isin:tS,isindot:eS,isinE:rS,isins:nS,isinsv:oS,isinv:sS,it:iS,Itilde:aS,itilde:cS,Iukcy:uS,iukcy:lS,Iuml:fS,iuml:pS,Jcirc:hS,jcirc:dS,Jcy:mS,jcy:gS,Jfr:vS,jfr:yS,jmath:bS,Jopf:kS,jopf:DS,Jscr:CS,jscr:xS,Jsercy:AS,jsercy:ES,Jukcy:_S,jukcy:wS,Kappa:SS,kappa:MS,kappav:TS,Kcedil:OS,kcedil:FS,Kcy:NS,kcy:BS,Kfr:RS,kfr:LS,kgreen:IS,KHcy:PS,khcy:qS,KJcy:zS,kjcy:VS,Kopf:HS,kopf:jS,Kscr:US,kscr:KS,lAarr:WS,Lacute:JS,lacute:$S,laemptyv:GS,lagran:ZS,Lambda:YS,lambda:QS,lang:XS,Lang:tM,langd:eM,langle:rM,lap:nM,Laplacetrf:oM,laquo:sM,larrb:iM,larrbfs:aM,larr:cM,Larr:uM,lArr:lM,larrfs:fM,larrhk:pM,larrlp:hM,larrpl:dM,larrsim:mM,larrtl:gM,latail:vM,lAtail:yM,lat:bM,late:kM,lates:DM,lbarr:CM,lBarr:xM,lbbrk:AM,lbrace:EM,lbrack:_M,lbrke:wM,lbrksld:SM,lbrkslu:MM,Lcaron:TM,lcaron:OM,Lcedil:FM,lcedil:NM,lceil:BM,lcub:RM,Lcy:LM,lcy:IM,ldca:PM,ldquo:qM,ldquor:zM,ldrdhar:VM,ldrushar:HM,ldsh:jM,le:UM,lE:KM,LeftAngleBracket:WM,LeftArrowBar:JM,leftarrow:$M,LeftArrow:GM,Leftarrow:ZM,LeftArrowRightArrow:YM,leftarrowtail:QM,LeftCeiling:XM,LeftDoubleBracket:tT,LeftDownTeeVector:eT,LeftDownVectorBar:rT,LeftDownVector:nT,LeftFloor:oT,leftharpoondown:sT,leftharpoonup:iT,leftleftarrows:aT,leftrightarrow:cT,LeftRightArrow:uT,Leftrightarrow:lT,leftrightarrows:fT,leftrightharpoons:pT,leftrightsquigarrow:hT,LeftRightVector:dT,LeftTeeArrow:mT,LeftTee:gT,LeftTeeVector:vT,leftthreetimes:yT,LeftTriangleBar:bT,LeftTriangle:kT,LeftTriangleEqual:DT,LeftUpDownVector:CT,LeftUpTeeVector:xT,LeftUpVectorBar:AT,LeftUpVector:ET,LeftVectorBar:_T,LeftVector:wT,lEg:ST,leg:MT,leq:TT,leqq:OT,leqslant:FT,lescc:NT,les:BT,lesdot:RT,lesdoto:LT,lesdotor:IT,lesg:PT,lesges:qT,lessapprox:zT,lessdot:VT,lesseqgtr:HT,lesseqqgtr:jT,LessEqualGreater:UT,LessFullEqual:KT,LessGreater:WT,lessgtr:JT,LessLess:$T,lesssim:GT,LessSlantEqual:ZT,LessTilde:YT,lfisht:QT,lfloor:XT,Lfr:tO,lfr:eO,lg:rO,lgE:nO,lHar:oO,lhard:sO,lharu:iO,lharul:aO,lhblk:cO,LJcy:uO,ljcy:lO,llarr:fO,ll:pO,Ll:hO,llcorner:dO,Lleftarrow:mO,llhard:gO,lltri:vO,Lmidot:yO,lmidot:bO,lmoustache:kO,lmoust:DO,lnap:CO,lnapprox:xO,lne:AO,lnE:EO,lneq:_O,lneqq:wO,lnsim:SO,loang:MO,loarr:TO,lobrk:OO,longleftarrow:FO,LongLeftArrow:NO,Longleftarrow:BO,longleftrightarrow:RO,LongLeftRightArrow:LO,Longleftrightarrow:IO,longmapsto:PO,longrightarrow:qO,LongRightArrow:zO,Longrightarrow:VO,looparrowleft:HO,looparrowright:jO,lopar:UO,Lopf:KO,lopf:WO,loplus:JO,lotimes:$O,lowast:GO,lowbar:ZO,LowerLeftArrow:YO,LowerRightArrow:QO,loz:XO,lozenge:tF,lozf:eF,lpar:rF,lparlt:nF,lrarr:oF,lrcorner:sF,lrhar:iF,lrhard:aF,lrm:cF,lrtri:uF,lsaquo:lF,lscr:fF,Lscr:pF,lsh:hF,Lsh:dF,lsim:mF,lsime:gF,lsimg:vF,lsqb:yF,lsquo:bF,lsquor:kF,Lstrok:DF,lstrok:CF,ltcc:xF,ltcir:AF,lt:EF,LT:_F,Lt:wF,ltdot:SF,lthree:MF,ltimes:TF,ltlarr:OF,ltquest:FF,ltri:NF,ltrie:BF,ltrif:RF,ltrPar:LF,lurdshar:IF,luruhar:PF,lvertneqq:qF,lvnE:zF,macr:VF,male:HF,malt:jF,maltese:UF,Map:"\u2905",map:KF,mapsto:WF,mapstodown:JF,mapstoleft:$F,mapstoup:GF,marker:ZF,mcomma:YF,Mcy:QF,mcy:XF,mdash:tN,mDDot:eN,measuredangle:rN,MediumSpace:nN,Mellintrf:oN,Mfr:sN,mfr:iN,mho:aN,micro:cN,midast:uN,midcir:lN,mid:fN,middot:pN,minusb:hN,minus:dN,minusd:mN,minusdu:gN,MinusPlus:vN,mlcp:yN,mldr:bN,mnplus:kN,models:DN,Mopf:CN,mopf:xN,mp:AN,mscr:EN,Mscr:_N,mstpos:wN,Mu:SN,mu:MN,multimap:TN,mumap:ON,nabla:FN,Nacute:NN,nacute:BN,nang:RN,nap:LN,napE:IN,napid:PN,napos:qN,napprox:zN,natural:VN,naturals:HN,natur:jN,nbsp:UN,nbump:KN,nbumpe:WN,ncap:JN,Ncaron:$N,ncaron:GN,Ncedil:ZN,ncedil:YN,ncong:QN,ncongdot:XN,ncup:t2,Ncy:e2,ncy:r2,ndash:n2,nearhk:o2,nearr:s2,neArr:i2,nearrow:a2,ne:c2,nedot:u2,NegativeMediumSpace:l2,NegativeThickSpace:f2,NegativeThinSpace:p2,NegativeVeryThinSpace:h2,nequiv:d2,nesear:m2,nesim:g2,NestedGreaterGreater:v2,NestedLessLess:y2,NewLine:b2,nexist:k2,nexists:D2,Nfr:C2,nfr:x2,ngE:A2,nge:E2,ngeq:_2,ngeqq:w2,ngeqslant:S2,nges:M2,nGg:T2,ngsim:O2,nGt:F2,ngt:N2,ngtr:B2,nGtv:R2,nharr:L2,nhArr:I2,nhpar:P2,ni:q2,nis:z2,nisd:V2,niv:H2,NJcy:j2,njcy:U2,nlarr:K2,nlArr:W2,nldr:J2,nlE:$2,nle:G2,nleftarrow:Z2,nLeftarrow:Y2,nleftrightarrow:Q2,nLeftrightarrow:X2,nleq:tB,nleqq:eB,nleqslant:rB,nles:nB,nless:oB,nLl:sB,nlsim:iB,nLt:aB,nlt:cB,nltri:uB,nltrie:lB,nLtv:fB,nmid:pB,NoBreak:hB,NonBreakingSpace:dB,nopf:mB,Nopf:gB,Not:vB,not:yB,NotCongruent:bB,NotCupCap:kB,NotDoubleVerticalBar:DB,NotElement:CB,NotEqual:xB,NotEqualTilde:AB,NotExists:EB,NotGreater:_B,NotGreaterEqual:wB,NotGreaterFullEqual:SB,NotGreaterGreater:MB,NotGreaterLess:TB,NotGreaterSlantEqual:OB,NotGreaterTilde:FB,NotHumpDownHump:NB,NotHumpEqual:BB,notin:RB,notindot:LB,notinE:IB,notinva:PB,notinvb:qB,notinvc:zB,NotLeftTriangleBar:VB,NotLeftTriangle:HB,NotLeftTriangleEqual:jB,NotLess:UB,NotLessEqual:KB,NotLessGreater:WB,NotLessLess:JB,NotLessSlantEqual:$B,NotLessTilde:GB,NotNestedGreaterGreater:ZB,NotNestedLessLess:YB,notni:QB,notniva:XB,notnivb:tR,notnivc:eR,NotPrecedes:rR,NotPrecedesEqual:nR,NotPrecedesSlantEqual:oR,NotReverseElement:sR,NotRightTriangleBar:iR,NotRightTriangle:aR,NotRightTriangleEqual:cR,NotSquareSubset:uR,NotSquareSubsetEqual:lR,NotSquareSuperset:fR,NotSquareSupersetEqual:pR,NotSubset:hR,NotSubsetEqual:dR,NotSucceeds:mR,NotSucceedsEqual:gR,NotSucceedsSlantEqual:vR,NotSucceedsTilde:yR,NotSuperset:bR,NotSupersetEqual:kR,NotTilde:DR,NotTildeEqual:CR,NotTildeFullEqual:xR,NotTildeTilde:AR,NotVerticalBar:ER,nparallel:_R,npar:wR,nparsl:SR,npart:MR,npolint:TR,npr:OR,nprcue:FR,nprec:NR,npreceq:BR,npre:RR,nrarrc:LR,nrarr:IR,nrArr:PR,nrarrw:qR,nrightarrow:zR,nRightarrow:VR,nrtri:HR,nrtrie:jR,nsc:UR,nsccue:KR,nsce:WR,Nscr:JR,nscr:$R,nshortmid:GR,nshortparallel:ZR,nsim:YR,nsime:QR,nsimeq:XR,nsmid:tL,nspar:eL,nsqsube:rL,nsqsupe:nL,nsub:oL,nsubE:sL,nsube:iL,nsubset:aL,nsubseteq:cL,nsubseteqq:uL,nsucc:lL,nsucceq:fL,nsup:pL,nsupE:hL,nsupe:dL,nsupset:mL,nsupseteq:gL,nsupseteqq:vL,ntgl:yL,Ntilde:bL,ntilde:kL,ntlg:DL,ntriangleleft:CL,ntrianglelefteq:xL,ntriangleright:AL,ntrianglerighteq:EL,Nu:_L,nu:wL,num:SL,numero:ML,numsp:TL,nvap:OL,nvdash:FL,nvDash:NL,nVdash:BL,nVDash:RL,nvge:LL,nvgt:IL,nvHarr:PL,nvinfin:qL,nvlArr:zL,nvle:VL,nvlt:HL,nvltrie:jL,nvrArr:UL,nvrtrie:KL,nvsim:WL,nwarhk:JL,nwarr:$L,nwArr:GL,nwarrow:ZL,nwnear:YL,Oacute:QL,oacute:XL,oast:tI,Ocirc:eI,ocirc:rI,ocir:nI,Ocy:oI,ocy:sI,odash:iI,Odblac:aI,odblac:cI,odiv:uI,odot:lI,odsold:fI,OElig:pI,oelig:hI,ofcir:dI,Ofr:mI,ofr:gI,ogon:vI,Ograve:yI,ograve:bI,ogt:kI,ohbar:DI,ohm:CI,oint:xI,olarr:AI,olcir:EI,olcross:_I,oline:wI,olt:SI,Omacr:MI,omacr:TI,Omega:OI,omega:FI,Omicron:NI,omicron:BI,omid:RI,ominus:LI,Oopf:II,oopf:PI,opar:qI,OpenCurlyDoubleQuote:zI,OpenCurlyQuote:VI,operp:HI,oplus:jI,orarr:UI,Or:KI,or:WI,ord:JI,order:$I,orderof:GI,ordf:ZI,ordm:YI,origof:QI,oror:XI,orslope:tP,orv:eP,oS:rP,Oscr:nP,oscr:oP,Oslash:sP,oslash:iP,osol:aP,Otilde:cP,otilde:uP,otimesas:lP,Otimes:fP,otimes:pP,Ouml:hP,ouml:dP,ovbar:mP,OverBar:gP,OverBrace:vP,OverBracket:yP,OverParenthesis:bP,para:kP,parallel:DP,par:CP,parsim:xP,parsl:AP,part:EP,PartialD:_P,Pcy:wP,pcy:SP,percnt:MP,period:TP,permil:OP,perp:FP,pertenk:NP,Pfr:BP,pfr:RP,Phi:LP,phi:IP,phiv:PP,phmmat:qP,phone:zP,Pi:VP,pi:HP,pitchfork:jP,piv:UP,planck:KP,planckh:WP,plankv:JP,plusacir:$P,plusb:GP,pluscir:ZP,plus:YP,plusdo:QP,plusdu:XP,pluse:tq,PlusMinus:eq,plusmn:rq,plussim:nq,plustwo:oq,pm:sq,Poincareplane:iq,pointint:aq,popf:cq,Popf:uq,pound:lq,prap:fq,Pr:pq,pr:hq,prcue:dq,precapprox:mq,prec:gq,preccurlyeq:vq,Precedes:yq,PrecedesEqual:bq,PrecedesSlantEqual:kq,PrecedesTilde:Dq,preceq:Cq,precnapprox:xq,precneqq:Aq,precnsim:Eq,pre:_q,prE:wq,precsim:Sq,prime:Mq,Prime:Tq,primes:Oq,prnap:Fq,prnE:Nq,prnsim:Bq,prod:Rq,Product:Lq,profalar:Iq,profline:Pq,profsurf:qq,prop:zq,Proportional:Vq,Proportion:Hq,propto:jq,prsim:Uq,prurel:Kq,Pscr:Wq,pscr:Jq,Psi:$q,psi:Gq,puncsp:Zq,Qfr:Yq,qfr:Qq,qint:Xq,qopf:tz,Qopf:ez,qprime:rz,Qscr:nz,qscr:oz,quaternions:sz,quatint:iz,quest:az,questeq:cz,quot:uz,QUOT:lz,rAarr:fz,race:pz,Racute:hz,racute:dz,radic:mz,raemptyv:gz,rang:vz,Rang:yz,rangd:bz,range:kz,rangle:Dz,raquo:Cz,rarrap:xz,rarrb:Az,rarrbfs:Ez,rarrc:_z,rarr:wz,Rarr:Sz,rArr:Mz,rarrfs:Tz,rarrhk:Oz,rarrlp:Fz,rarrpl:Nz,rarrsim:Bz,Rarrtl:Rz,rarrtl:Lz,rarrw:Iz,ratail:Pz,rAtail:qz,ratio:zz,rationals:Vz,rbarr:Hz,rBarr:jz,RBarr:Uz,rbbrk:Kz,rbrace:Wz,rbrack:Jz,rbrke:$z,rbrksld:Gz,rbrkslu:Zz,Rcaron:Yz,rcaron:Qz,Rcedil:Xz,rcedil:t3,rceil:e3,rcub:r3,Rcy:n3,rcy:o3,rdca:s3,rdldhar:i3,rdquo:a3,rdquor:c3,rdsh:u3,real:l3,realine:f3,realpart:p3,reals:h3,Re:d3,rect:m3,reg:g3,REG:v3,ReverseElement:y3,ReverseEquilibrium:b3,ReverseUpEquilibrium:k3,rfisht:D3,rfloor:C3,rfr:x3,Rfr:A3,rHar:E3,rhard:_3,rharu:w3,rharul:S3,Rho:M3,rho:T3,rhov:O3,RightAngleBracket:F3,RightArrowBar:N3,rightarrow:B3,RightArrow:R3,Rightarrow:L3,RightArrowLeftArrow:I3,rightarrowtail:P3,RightCeiling:q3,RightDoubleBracket:z3,RightDownTeeVector:V3,RightDownVectorBar:H3,RightDownVector:j3,RightFloor:U3,rightharpoondown:K3,rightharpoonup:W3,rightleftarrows:J3,rightleftharpoons:$3,rightrightarrows:G3,rightsquigarrow:Z3,RightTeeArrow:Y3,RightTee:Q3,RightTeeVector:X3,rightthreetimes:t8,RightTriangleBar:e8,RightTriangle:r8,RightTriangleEqual:n8,RightUpDownVector:o8,RightUpTeeVector:s8,RightUpVectorBar:i8,RightUpVector:a8,RightVectorBar:c8,RightVector:u8,ring:l8,risingdotseq:f8,rlarr:p8,rlhar:h8,rlm:d8,rmoustache:m8,rmoust:g8,rnmid:v8,roang:y8,roarr:b8,robrk:k8,ropar:D8,ropf:C8,Ropf:x8,roplus:A8,rotimes:E8,RoundImplies:_8,rpar:w8,rpargt:S8,rppolint:M8,rrarr:T8,Rrightarrow:O8,rsaquo:F8,rscr:N8,Rscr:B8,rsh:R8,Rsh:L8,rsqb:I8,rsquo:P8,rsquor:q8,rthree:z8,rtimes:V8,rtri:H8,rtrie:j8,rtrif:U8,rtriltri:K8,RuleDelayed:W8,ruluhar:J8,rx:$8,Sacute:G8,sacute:Z8,sbquo:Y8,scap:Q8,Scaron:X8,scaron:t6,Sc:e6,sc:r6,sccue:n6,sce:o6,scE:s6,Scedil:i6,scedil:a6,Scirc:c6,scirc:u6,scnap:l6,scnE:f6,scnsim:p6,scpolint:h6,scsim:d6,Scy:m6,scy:g6,sdotb:v6,sdot:y6,sdote:b6,searhk:k6,searr:D6,seArr:C6,searrow:x6,sect:A6,semi:E6,seswar:_6,setminus:w6,setmn:S6,sext:M6,Sfr:T6,sfr:O6,sfrown:F6,sharp:N6,SHCHcy:B6,shchcy:R6,SHcy:L6,shcy:I6,ShortDownArrow:P6,ShortLeftArrow:q6,shortmid:z6,shortparallel:V6,ShortRightArrow:H6,ShortUpArrow:j6,shy:U6,Sigma:K6,sigma:W6,sigmaf:J6,sigmav:$6,sim:G6,simdot:Z6,sime:Y6,simeq:Q6,simg:X6,simgE:t5,siml:e5,simlE:r5,simne:n5,simplus:o5,simrarr:s5,slarr:i5,SmallCircle:a5,smallsetminus:c5,smashp:u5,smeparsl:l5,smid:f5,smile:p5,smt:h5,smte:d5,smtes:m5,SOFTcy:g5,softcy:v5,solbar:y5,solb:b5,sol:k5,Sopf:D5,sopf:C5,spades:x5,spadesuit:A5,spar:E5,sqcap:_5,sqcaps:w5,sqcup:S5,sqcups:M5,Sqrt:T5,sqsub:O5,sqsube:F5,sqsubset:N5,sqsubseteq:B5,sqsup:R5,sqsupe:L5,sqsupset:I5,sqsupseteq:P5,square:q5,Square:z5,SquareIntersection:V5,SquareSubset:H5,SquareSubsetEqual:j5,SquareSuperset:U5,SquareSupersetEqual:K5,SquareUnion:W5,squarf:J5,squ:$5,squf:G5,srarr:Z5,Sscr:Y5,sscr:Q5,ssetmn:X5,ssmile:t9,sstarf:e9,Star:r9,star:n9,starf:o9,straightepsilon:s9,straightphi:i9,strns:a9,sub:c9,Sub:u9,subdot:l9,subE:f9,sube:p9,subedot:h9,submult:d9,subnE:m9,subne:g9,subplus:v9,subrarr:y9,subset:b9,Subset:k9,subseteq:D9,subseteqq:C9,SubsetEqual:x9,subsetneq:A9,subsetneqq:E9,subsim:_9,subsub:w9,subsup:S9,succapprox:M9,succ:T9,succcurlyeq:O9,Succeeds:F9,SucceedsEqual:N9,SucceedsSlantEqual:B9,SucceedsTilde:R9,succeq:L9,succnapprox:I9,succneqq:P9,succnsim:q9,succsim:z9,SuchThat:V9,sum:H9,Sum:j9,sung:U9,sup1:K9,sup2:W9,sup3:J9,sup:$9,Sup:G9,supdot:Z9,supdsub:Y9,supE:Q9,supe:X9,supedot:tV,Superset:eV,SupersetEqual:rV,suphsol:nV,suphsub:oV,suplarr:sV,supmult:iV,supnE:aV,supne:cV,supplus:uV,supset:lV,Supset:fV,supseteq:pV,supseteqq:hV,supsetneq:dV,supsetneqq:mV,supsim:gV,supsub:vV,supsup:yV,swarhk:bV,swarr:kV,swArr:DV,swarrow:CV,swnwar:xV,szlig:AV,Tab:EV,target:_V,Tau:wV,tau:SV,tbrk:MV,Tcaron:TV,tcaron:OV,Tcedil:FV,tcedil:NV,Tcy:BV,tcy:RV,tdot:LV,telrec:IV,Tfr:PV,tfr:qV,there4:zV,therefore:VV,Therefore:HV,Theta:jV,theta:UV,thetasym:KV,thetav:WV,thickapprox:JV,thicksim:$V,ThickSpace:GV,ThinSpace:ZV,thinsp:YV,thkap:QV,thksim:XV,THORN:t7,thorn:e7,tilde:r7,Tilde:n7,TildeEqual:o7,TildeFullEqual:s7,TildeTilde:i7,timesbar:a7,timesb:c7,times:u7,timesd:l7,tint:f7,toea:p7,topbot:h7,topcir:d7,top:m7,Topf:g7,topf:v7,topfork:y7,tosa:b7,tprime:k7,trade:D7,TRADE:C7,triangle:x7,triangledown:A7,triangleleft:E7,trianglelefteq:_7,triangleq:w7,triangleright:S7,trianglerighteq:M7,tridot:T7,trie:O7,triminus:F7,TripleDot:N7,triplus:B7,trisb:R7,tritime:L7,trpezium:I7,Tscr:P7,tscr:q7,TScy:z7,tscy:V7,TSHcy:H7,tshcy:j7,Tstrok:U7,tstrok:K7,twixt:W7,twoheadleftarrow:J7,twoheadrightarrow:$7,Uacute:G7,uacute:Z7,uarr:Y7,Uarr:Q7,uArr:X7,Uarrocir:tH,Ubrcy:eH,ubrcy:rH,Ubreve:nH,ubreve:oH,Ucirc:sH,ucirc:iH,Ucy:aH,ucy:cH,udarr:uH,Udblac:lH,udblac:fH,udhar:pH,ufisht:hH,Ufr:dH,ufr:mH,Ugrave:gH,ugrave:vH,uHar:yH,uharl:bH,uharr:kH,uhblk:DH,ulcorn:CH,ulcorner:xH,ulcrop:AH,ultri:EH,Umacr:_H,umacr:wH,uml:SH,UnderBar:MH,UnderBrace:TH,UnderBracket:OH,UnderParenthesis:FH,Union:NH,UnionPlus:BH,Uogon:RH,uogon:LH,Uopf:IH,uopf:PH,UpArrowBar:qH,uparrow:zH,UpArrow:VH,Uparrow:HH,UpArrowDownArrow:jH,updownarrow:UH,UpDownArrow:KH,Updownarrow:WH,UpEquilibrium:JH,upharpoonleft:$H,upharpoonright:GH,uplus:ZH,UpperLeftArrow:YH,UpperRightArrow:QH,upsi:XH,Upsi:t4,upsih:e4,Upsilon:r4,upsilon:n4,UpTeeArrow:o4,UpTee:s4,upuparrows:i4,urcorn:a4,urcorner:c4,urcrop:u4,Uring:l4,uring:f4,urtri:p4,Uscr:h4,uscr:d4,utdot:m4,Utilde:g4,utilde:v4,utri:y4,utrif:b4,uuarr:k4,Uuml:D4,uuml:C4,uwangle:x4,vangrt:A4,varepsilon:E4,varkappa:_4,varnothing:w4,varphi:S4,varpi:M4,varpropto:T4,varr:O4,vArr:F4,varrho:N4,varsigma:B4,varsubsetneq:R4,varsubsetneqq:L4,varsupsetneq:I4,varsupsetneqq:P4,vartheta:q4,vartriangleleft:z4,vartriangleright:V4,vBar:H4,Vbar:j4,vBarv:U4,Vcy:K4,vcy:W4,vdash:J4,vDash:$4,Vdash:G4,VDash:Z4,Vdashl:Y4,veebar:Q4,vee:X4,Vee:tj,veeeq:ej,vellip:rj,verbar:nj,Verbar:oj,vert:sj,Vert:ij,VerticalBar:aj,VerticalLine:cj,VerticalSeparator:uj,VerticalTilde:lj,VeryThinSpace:fj,Vfr:pj,vfr:hj,vltri:dj,vnsub:mj,vnsup:gj,Vopf:vj,vopf:yj,vprop:bj,vrtri:kj,Vscr:Dj,vscr:Cj,vsubnE:xj,vsubne:Aj,vsupnE:Ej,vsupne:_j,Vvdash:wj,vzigzag:Sj,Wcirc:Mj,wcirc:Tj,wedbar:Oj,wedge:Fj,Wedge:Nj,wedgeq:Bj,weierp:Rj,Wfr:Lj,wfr:Ij,Wopf:Pj,wopf:qj,wp:zj,wr:Vj,wreath:Hj,Wscr:jj,wscr:Uj,xcap:Kj,xcirc:Wj,xcup:Jj,xdtri:$j,Xfr:Gj,xfr:Zj,xharr:Yj,xhArr:Qj,Xi:Xj,xi:tU,xlarr:eU,xlArr:rU,xmap:nU,xnis:oU,xodot:sU,Xopf:iU,xopf:aU,xoplus:cU,xotime:uU,xrarr:lU,xrArr:fU,Xscr:pU,xscr:hU,xsqcup:dU,xuplus:mU,xutri:gU,xvee:vU,xwedge:yU,Yacute:bU,yacute:kU,YAcy:DU,yacy:CU,Ycirc:xU,ycirc:AU,Ycy:EU,ycy:_U,yen:wU,Yfr:SU,yfr:MU,YIcy:TU,yicy:OU,Yopf:FU,yopf:NU,Yscr:BU,yscr:RU,YUcy:LU,yucy:IU,yuml:PU,Yuml:qU,Zacute:zU,zacute:VU,Zcaron:HU,zcaron:jU,Zcy:UU,zcy:KU,Zdot:WU,zdot:JU,zeetrf:$U,ZeroWidthSpace:GU,Zeta:ZU,zeta:YU,zfr:QU,Zfr:XU,ZHcy:tK,zhcy:eK,zigrarr:rK,zopf:nK,Zopf:oK,Zscr:sK,zscr:iK,zwj:aK,zwnj:cK};var yn=uK,Ls=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Vi={};function lK(r){var t,e,n=Vi[r];if(n)return n;for(n=Vi[r]=[],t=0;t<128;t++)e=String.fromCharCode(t),/^[0-9a-z]$/i.test(e)?n.push(e):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<r.length;t++)n[r.charCodeAt(t)]=r[t];return n}function no(r,t,e){var n,o,s,i,a,c="";for(typeof t!="string"&&(e=t,t=no.defaultChars),typeof e>"u"&&(e=!0),a=lK(t),n=0,o=r.length;n<o;n++){if(s=r.charCodeAt(n),e&&s===37&&n+2<o&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){c+=r.slice(n,n+3),n+=2;continue}if(s<128){c+=a[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&n+1<o&&(i=r.charCodeAt(n+1),i>=56320&&i<=57343)){c+=encodeURIComponent(r[n]+r[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(r[n])}return c}no.defaultChars=";/?:@&=+$,-_.!~*'()#";no.componentChars="-_.!~*'()";var fK=no,Hi={};function pK(r){var t,e,n=Hi[r];if(n)return n;for(n=Hi[r]=[],t=0;t<128;t++)e=String.fromCharCode(t),n.push(e);for(t=0;t<r.length;t++)e=r.charCodeAt(t),n[e]="%"+("0"+e.toString(16).toUpperCase()).slice(-2);return n}function oo(r,t){var e;return typeof t!="string"&&(t=oo.defaultChars),e=pK(t),r.replace(/(%[a-f0-9]{2})+/gi,function(n){var o,s,i,a,c,u,l,f="";for(o=0,s=n.length;o<s;o+=3){if(i=parseInt(n.slice(o+1,o+3),16),i<128){f+=e[i];continue}if((i&224)===192&&o+3<s&&(a=parseInt(n.slice(o+4,o+6),16),(a&192)===128)){l=i<<6&1984|a&63,l<128?f+="\uFFFD\uFFFD":f+=String.fromCharCode(l),o+=3;continue}if((i&240)===224&&o+6<s&&(a=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16),(a&192)===128&&(c&192)===128)){l=i<<12&61440|a<<6&4032|c&63,l<2048||l>=55296&&l<=57343?f+="\uFFFD\uFFFD\uFFFD":f+=String.fromCharCode(l),o+=6;continue}if((i&248)===240&&o+9<s&&(a=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16),u=parseInt(n.slice(o+10,o+12),16),(a&192)===128&&(c&192)===128&&(u&192)===128)){l=i<<18&1835008|a<<12&258048|c<<6&4032|u&63,l<65536||l>1114111?f+="\uFFFD\uFFFD\uFFFD\uFFFD":(l-=65536,f+=String.fromCharCode(55296+(l>>10),56320+(l&1023))),o+=9;continue}f+="\uFFFD"}return f})}oo.defaultChars=";/?:@&=+$,#";oo.componentChars="";var hK=oo,dK=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e};function bn(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var mK=/^([a-z0-9.+-]+:)/i,gK=/:[0-9]*$/,vK=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,yK=["<",">",'"',"`"," ","\r",`
`,"	"],bK=["{","}","|","\\","^","`"].concat(yK),kK=["'"].concat(bK),ji=["%","/","?",";","#"].concat(kK),Ui=["/","?","#"],DK=255,Ki=/^[+a-z0-9A-Z_-]{0,63}$/,CK=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Wi={javascript:!0,"javascript:":!0},Ji={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function xK(r,t){if(r&&r instanceof bn)return r;var e=new bn;return e.parse(r,t),e}bn.prototype.parse=function(r,t){var e,n,o,s,i,a=r;if(a=a.trim(),!t&&r.split("#").length===1){var c=vK.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var u=mK.exec(a);if(u&&(u=u[0],o=u.toLowerCase(),this.protocol=u,a=a.substr(u.length)),(t||u||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=a.substr(0,2)==="//",i&&!(u&&Wi[u])&&(a=a.substr(2),this.slashes=!0)),!Wi[u]&&(i||u&&!Ji[u])){var l=-1;for(e=0;e<Ui.length;e++)s=a.indexOf(Ui[e]),s!==-1&&(l===-1||s<l)&&(l=s);var f,p;for(l===-1?p=a.lastIndexOf("@"):p=a.lastIndexOf("@",l),p!==-1&&(f=a.slice(0,p),a=a.slice(p+1),this.auth=f),l=-1,e=0;e<ji.length;e++)s=a.indexOf(ji[e]),s!==-1&&(l===-1||s<l)&&(l=s);l===-1&&(l=a.length),a[l-1]===":"&&l--;var h=a.slice(0,l);a=a.slice(l),this.parseHost(h),this.hostname=this.hostname||"";var d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){var m=this.hostname.split(/\./);for(e=0,n=m.length;e<n;e++){var v=m[e];if(!!v&&!v.match(Ki)){for(var y="",g=0,k=v.length;g<k;g++)v.charCodeAt(g)>127?y+="x":y+=v[g];if(!y.match(Ki)){var b=m.slice(0,e),D=m.slice(e+1),C=v.match(CK);C&&(b.push(C[1]),D.unshift(C[2])),D.length&&(a=D.join(".")+a),this.hostname=b.join(".");break}}}}this.hostname.length>DK&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var S=a.indexOf("#");S!==-1&&(this.hash=a.substr(S),a=a.slice(0,S));var T=a.indexOf("?");return T!==-1&&(this.search=a.substr(T),a=a.slice(0,T)),a&&(this.pathname=a),Ji[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this};bn.prototype.parseHost=function(r){var t=gK.exec(r);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(this.hostname=r)};var AK=xK,EK=fK,_K=hK,wK=dK,SK=AK,ve={encode:EK,decode:_K,format:wK,parse:SK},Eu=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_u=/[\0-\x1F\x7F-\x9F]/,MK=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,wu=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,TK=Eu,OK=_u,FK=MK,NK=Ls,BK=wu,RK={Any:TK,Cc:OK,Cf:FK,P:NK,Z:BK},U=wa(function(r,t){function e(E){return Object.prototype.toString.call(E)}function n(E){return e(E)==="[object String]"}var o=Object.prototype.hasOwnProperty;function s(E,W){return o.call(E,W)}function i(E){var W=Array.prototype.slice.call(arguments,1);return W.forEach(function(L){if(!!L){if(typeof L!="object")throw new TypeError(L+"must be object");Object.keys(L).forEach(function(R){E[R]=L[R]})}}),E}function a(E,W,L){return[].concat(E.slice(0,W),L,E.slice(W+1))}function c(E){return!(E>=55296&&E<=57343||E>=64976&&E<=65007||(E&65535)===65535||(E&65535)===65534||E>=0&&E<=8||E===11||E>=14&&E<=31||E>=127&&E<=159||E>1114111)}function u(E){if(E>65535){E-=65536;var W=55296+(E>>10),L=56320+(E&1023);return String.fromCharCode(W,L)}return String.fromCharCode(E)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,f=/&([a-z#][a-z0-9]{1,31});/gi,p=new RegExp(l.source+"|"+f.source,"gi"),h=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function d(E,W){var L=0;return s(yn,W)?yn[W]:W.charCodeAt(0)===35&&h.test(W)&&(L=W[1].toLowerCase()==="x"?parseInt(W.slice(2),16):parseInt(W.slice(1),10),c(L))?u(L):E}function m(E){return E.indexOf("\\")<0?E:E.replace(l,"$1")}function v(E){return E.indexOf("\\")<0&&E.indexOf("&")<0?E:E.replace(p,function(W,L,R){return L||d(W,R)})}var y=/[&<>"]/,g=/[&<>"]/g,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function b(E){return k[E]}function D(E){return y.test(E)?E.replace(g,b):E}var C=/[.?*+^$[\]\\(){}|-]/g;function S(E){return E.replace(C,"\\$&")}function T(E){switch(E){case 9:case 32:return!0}return!1}function I(E){if(E>=8192&&E<=8202)return!0;switch(E){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function O(E){return Ls.test(E)}function K(E){switch(E){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Ct(E){return E=E.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(E=E.replace(/·∫û/g,"\xDF")),E.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=ve,t.lib.ucmicro=RK,t.assign=i,t.isString=n,t.has=s,t.unescapeMd=m,t.unescapeAll=v,t.isValidEntityCode=c,t.fromCodePoint=u,t.escapeHtml=D,t.arrayReplaceAt=a,t.isSpace=T,t.isWhiteSpace=I,t.isMdAsciiPunct=K,t.isPunctChar=O,t.escapeRE=S,t.normalizeReference=Ct}),LK=function(t,e,n){var o,s,i,a,c=-1,u=t.posMax,l=t.pos;for(t.pos=e+1,o=1;t.pos<u;){if(i=t.src.charCodeAt(t.pos),i===93&&(o--,o===0)){s=!0;break}if(a=t.pos,t.md.inline.skipToken(t),i===91){if(a===t.pos-1)o++;else if(n)return t.pos=l,-1}}return s&&(c=t.pos),t.pos=l,c},$i=U.unescapeAll,IK=function(t,e,n){var o,s,i=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(e)===60){for(e++;e<n;){if(o=t.charCodeAt(e),o===10||o===60)return c;if(o===62)return c.pos=e+1,c.str=$i(t.slice(a+1,e)),c.ok=!0,c;if(o===92&&e+1<n){e+=2;continue}e++}return c}for(s=0;e<n&&(o=t.charCodeAt(e),!(o===32||o<32||o===127));){if(o===92&&e+1<n){if(t.charCodeAt(e+1)===32)break;e+=2;continue}if(o===40&&(s++,s>32))return c;if(o===41){if(s===0)break;s--}e++}return a===e||s!==0||(c.str=$i(t.slice(a,e)),c.lines=i,c.pos=e,c.ok=!0),c},PK=U.unescapeAll,qK=function(t,e,n){var o,s,i=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(e>=n||(s=t.charCodeAt(e),s!==34&&s!==39&&s!==40))return c;for(e++,s===40&&(s=41);e<n;){if(o=t.charCodeAt(e),o===s)return c.pos=e+1,c.lines=i,c.str=PK(t.slice(a+1,e)),c.ok=!0,c;if(o===40&&s===41)return c;o===10?i++:o===92&&e+1<n&&(e++,t.charCodeAt(e)===10&&i++),e++}return c},zK=LK,VK=IK,HK=qK,jK={parseLinkLabel:zK,parseLinkDestination:VK,parseLinkTitle:HK},UK=U.assign,KK=U.unescapeAll,Le=U.escapeHtml,ne={};ne.code_inline=function(r,t,e,n,o){var s=r[t];return"<code"+o.renderAttrs(s)+">"+Le(r[t].content)+"</code>"};ne.code_block=function(r,t,e,n,o){var s=r[t];return"<pre"+o.renderAttrs(s)+"><code>"+Le(r[t].content)+`</code></pre>
`};ne.fence=function(r,t,e,n,o){var s=r[t],i=s.info?KK(s.info).trim():"",a="",c="",u,l,f,p,h;return i&&(f=i.split(/(\s+)/g),a=f[0],c=f.slice(2).join("")),e.highlight?u=e.highlight(s.content,a,c)||Le(s.content):u=Le(s.content),u.indexOf("<pre")===0?u+`
`:i?(l=s.attrIndex("class"),p=s.attrs?s.attrs.slice():[],l<0?p.push(["class",e.langPrefix+a]):(p[l]=p[l].slice(),p[l][1]+=" "+e.langPrefix+a),h={attrs:p},"<pre><code"+o.renderAttrs(h)+">"+u+`</code></pre>
`):"<pre><code"+o.renderAttrs(s)+">"+u+`</code></pre>
`};ne.image=function(r,t,e,n,o){var s=r[t];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,e,n),o.renderToken(r,t,e)};ne.hardbreak=function(r,t,e){return e.xhtmlOut?`<br />
`:`<br>
`};ne.softbreak=function(r,t,e){return e.breaks?e.xhtmlOut?`<br />
`:`<br>
`:`
`};ne.text=function(r,t){return Le(r[t].content)};ne.html_block=function(r,t){return r[t].content};ne.html_inline=function(r,t){return r[t].content};function hr(){this.rules=UK({},ne)}hr.prototype.renderAttrs=function(t){var e,n,o;if(!t.attrs)return"";for(o="",e=0,n=t.attrs.length;e<n;e++)o+=" "+Le(t.attrs[e][0])+'="'+Le(t.attrs[e][1])+'"';return o};hr.prototype.renderToken=function(t,e,n){var o,s="",i=!1,a=t[e];return a.hidden?"":(a.block&&a.nesting!==-1&&e&&t[e-1].hidden&&(s+=`
`),s+=(a.nesting===-1?"</":"<")+a.tag,s+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(s+=" /"),a.block&&(i=!0,a.nesting===1&&e+1<t.length&&(o=t[e+1],(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===a.tag)&&(i=!1))),s+=i?`>
`:">",s)};hr.prototype.renderInline=function(r,t,e){for(var n,o="",s=this.rules,i=0,a=r.length;i<a;i++)n=r[i].type,typeof s[n]<"u"?o+=s[n](r,i,t,e,this):o+=this.renderToken(r,i,t);return o};hr.prototype.renderInlineAsText=function(r,t,e){for(var n="",o=0,s=r.length;o<s;o++)r[o].type==="text"?n+=r[o].content:r[o].type==="image"?n+=this.renderInlineAsText(r[o].children,t,e):r[o].type==="softbreak"&&(n+=`
`);return n};hr.prototype.render=function(r,t,e){var n,o,s,i="",a=this.rules;for(n=0,o=r.length;n<o;n++)s=r[n].type,s==="inline"?i+=this.renderInline(r[n].children,t,e):typeof a[s]<"u"?i+=a[r[n].type](r,n,t,e,this):i+=this.renderToken(r,n,t,e);return i};var WK=hr;function Jt(){this.__rules__=[],this.__cache__=null}Jt.prototype.__find__=function(r){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===r)return t;return-1};Jt.prototype.__compile__=function(){var r=this,t=[""];r.__rules__.forEach(function(e){!e.enabled||e.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),r.__cache__={},t.forEach(function(e){r.__cache__[e]=[],r.__rules__.forEach(function(n){!n.enabled||e&&n.alt.indexOf(e)<0||r.__cache__[e].push(n.fn)})})};Jt.prototype.at=function(r,t,e){var n=this.__find__(r),o=e||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__[n].fn=t,this.__rules__[n].alt=o.alt||[],this.__cache__=null};Jt.prototype.before=function(r,t,e,n){var o=this.__find__(r),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};Jt.prototype.after=function(r,t,e,n){var o=this.__find__(r),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null};Jt.prototype.push=function(r,t,e){var n=e||{};this.__rules__.push({name:r,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};Jt.prototype.enable=function(r,t){Array.isArray(r)||(r=[r]);var e=[];return r.forEach(function(n){var o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!0,e.push(n)},this),this.__cache__=null,e};Jt.prototype.enableOnly=function(r,t){Array.isArray(r)||(r=[r]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(r,t)};Jt.prototype.disable=function(r,t){Array.isArray(r)||(r=[r]);var e=[];return r.forEach(function(n){var o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!1,e.push(n)},this),this.__cache__=null,e};Jt.prototype.getRules=function(r){return this.__cache__===null&&this.__compile__(),this.__cache__[r]||[]};var kn=Jt,JK=/\r\n?|\n/g,$K=/\0/g,GK=function(t){var e;e=t.src.replace(JK,`
`),e=e.replace($K,"\uFFFD"),t.src=e},ZK=function(t){var e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},YK=function(t){var e=t.tokens,n,o,s;for(o=0,s=e.length;o<s;o++)n=e[o],n.type==="inline"&&t.md.inline.parse(n.content,t.md,t.env,n.children)},QK=U.arrayReplaceAt;function XK(r){return/^<a[>\s]/i.test(r)}function tW(r){return/^<\/a\s*>/i.test(r)}var eW=function(t){var e,n,o,s,i,a,c,u,l,f,p,h,d,m,v,y,g=t.tokens,k;if(!!t.md.options.linkify){for(n=0,o=g.length;n<o;n++)if(!(g[n].type!=="inline"||!t.md.linkify.pretest(g[n].content)))for(s=g[n].children,d=0,e=s.length-1;e>=0;e--){if(a=s[e],a.type==="link_close"){for(e--;s[e].level!==a.level&&s[e].type!=="link_open";)e--;continue}if(a.type==="html_inline"&&(XK(a.content)&&d>0&&d--,tW(a.content)&&d++),!(d>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(l=a.content,k=t.md.linkify.match(l),c=[],h=a.level,p=0,u=0;u<k.length;u++)m=k[u].url,v=t.md.normalizeLink(m),t.md.validateLink(v)&&(y=k[u].text,k[u].schema?k[u].schema==="mailto:"&&!/^mailto:/i.test(y)?y=t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=t.md.normalizeLinkText(y):y=t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),f=k[u].index,f>p&&(i=new t.Token("text","",0),i.content=l.slice(p,f),i.level=h,c.push(i)),i=new t.Token("link_open","a",1),i.attrs=[["href",v]],i.level=h++,i.markup="linkify",i.info="auto",c.push(i),i=new t.Token("text","",0),i.content=y,i.level=h,c.push(i),i=new t.Token("link_close","a",-1),i.level=--h,i.markup="linkify",i.info="auto",c.push(i),p=k[u].lastIndex);p<l.length&&(i=new t.Token("text","",0),i.content=l.slice(p),i.level=h,c.push(i)),g[n].children=s=QK(s,e,c)}}}},Su=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,rW=/\((c|tm|r|p)\)/i,nW=/\((c|tm|r|p)\)/ig,oW={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function sW(r,t){return oW[t.toLowerCase()]}function iW(r){var t,e,n=0;for(t=r.length-1;t>=0;t--)e=r[t],e.type==="text"&&!n&&(e.content=e.content.replace(nW,sW)),e.type==="link_open"&&e.info==="auto"&&n--,e.type==="link_close"&&e.info==="auto"&&n++}function aW(r){var t,e,n=0;for(t=r.length-1;t>=0;t--)e=r[t],e.type==="text"&&!n&&Su.test(e.content)&&(e.content=e.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])‚Ä¶/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),e.type==="link_open"&&e.info==="auto"&&n--,e.type==="link_close"&&e.info==="auto"&&n++}var cW=function(t){var e;if(!!t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(rW.test(t.tokens[e].content)&&iW(t.tokens[e].children),Su.test(t.tokens[e].content)&&aW(t.tokens[e].children))},Gi=U.isWhiteSpace,Zi=U.isPunctChar,Yi=U.isMdAsciiPunct,uW=/['"]/,Qi=/['"]/g,Xi="\u2019";function Qr(r,t,e){return r.substr(0,t)+e+r.substr(t+1)}function lW(r,t){var e,n,o,s,i,a,c,u,l,f,p,h,d,m,v,y,g,k,b,D,C;for(b=[],e=0;e<r.length;e++){for(n=r[e],c=r[e].level,g=b.length-1;g>=0&&!(b[g].level<=c);g--);if(b.length=g+1,n.type!=="text")continue;o=n.content,i=0,a=o.length;t:for(;i<a&&(Qi.lastIndex=i,s=Qi.exec(o),!!s);){if(v=y=!0,i=s.index+1,k=s[0]==="'",l=32,s.index-1>=0)l=o.charCodeAt(s.index-1);else for(g=e-1;g>=0&&!(r[g].type==="softbreak"||r[g].type==="hardbreak");g--)if(!!r[g].content){l=r[g].content.charCodeAt(r[g].content.length-1);break}if(f=32,i<a)f=o.charCodeAt(i);else for(g=e+1;g<r.length&&!(r[g].type==="softbreak"||r[g].type==="hardbreak");g++)if(!!r[g].content){f=r[g].content.charCodeAt(0);break}if(p=Yi(l)||Zi(String.fromCharCode(l)),h=Yi(f)||Zi(String.fromCharCode(f)),d=Gi(l),m=Gi(f),m?v=!1:h&&(d||p||(v=!1)),d?y=!1:p&&(m||h||(y=!1)),f===34&&s[0]==='"'&&l>=48&&l<=57&&(y=v=!1),v&&y&&(v=p,y=h),!v&&!y){k&&(n.content=Qr(n.content,s.index,Xi));continue}if(y){for(g=b.length-1;g>=0&&(u=b[g],!(b[g].level<c));g--)if(u.single===k&&b[g].level===c){u=b[g],k?(D=t.md.options.quotes[2],C=t.md.options.quotes[3]):(D=t.md.options.quotes[0],C=t.md.options.quotes[1]),n.content=Qr(n.content,s.index,C),r[u.token].content=Qr(r[u.token].content,u.pos,D),i+=C.length-1,u.token===e&&(i+=D.length-1),o=n.content,a=o.length,b.length=g;continue t}}v?b.push({token:e,pos:s.index,single:k,level:c}):y&&k&&(n.content=Qr(n.content,s.index,Xi))}}}var fW=function(t){var e;if(!!t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!uW.test(t.tokens[e].content)||lW(t.tokens[e].children,t)};function dr(r,t,e){this.type=r,this.tag=t,this.attrs=null,this.map=null,this.nesting=e,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}dr.prototype.attrIndex=function(t){var e,n,o;if(!this.attrs)return-1;for(e=this.attrs,n=0,o=e.length;n<o;n++)if(e[n][0]===t)return n;return-1};dr.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};dr.prototype.attrSet=function(t,e){var n=this.attrIndex(t),o=[t,e];n<0?this.attrPush(o):this.attrs[n]=o};dr.prototype.attrGet=function(t){var e=this.attrIndex(t),n=null;return e>=0&&(n=this.attrs[e][1]),n};dr.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e};var ze=dr;function Mu(r,t,e){this.src=r,this.env=e,this.tokens=[],this.inlineMode=!1,this.md=t}Mu.prototype.Token=ze;var pW=Mu,To=[["normalize",GK],["block",ZK],["inline",YK],["linkify",eW],["replacements",cW],["smartquotes",fW]];function Is(){this.ruler=new kn;for(var r=0;r<To.length;r++)this.ruler.push(To[r][0],To[r][1])}Is.prototype.process=function(r){var t,e,n;for(n=this.ruler.getRules(""),t=0,e=n.length;t<e;t++)n[t](r)};Is.prototype.State=pW;var hW=Is,Oo=U.isSpace;function Fo(r,t){var e=r.bMarks[t]+r.tShift[t],n=r.eMarks[t];return r.src.substr(e,n-e)}function ta(r){var t=[],e=0,n=r.length,o,s=!1,i=0,a="";for(o=r.charCodeAt(e);e<n;)o===124&&(s?(a+=r.substring(i,e-1),i=e):(t.push(a+r.substring(i,e)),a="",i=e+1)),s=o===92,e++,o=r.charCodeAt(e);return t.push(a+r.substring(i)),t}var dW=function(t,e,n,o){var s,i,a,c,u,l,f,p,h,d,m,v,y,g,k,b,D,C;if(e+2>n||(l=e+1,t.sCount[l]<t.blkIndent)||t.sCount[l]-t.blkIndent>=4||(a=t.bMarks[l]+t.tShift[l],a>=t.eMarks[l])||(D=t.src.charCodeAt(a++),D!==124&&D!==45&&D!==58)||a>=t.eMarks[l]||(C=t.src.charCodeAt(a++),C!==124&&C!==45&&C!==58&&!Oo(C))||D===45&&Oo(C))return!1;for(;a<t.eMarks[l];){if(s=t.src.charCodeAt(a),s!==124&&s!==45&&s!==58&&!Oo(s))return!1;a++}for(i=Fo(t,e+1),f=i.split("|"),d=[],c=0;c<f.length;c++){if(m=f[c].trim(),!m){if(c===0||c===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?d.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?d.push("left"):d.push("")}if(i=Fo(t,e).trim(),i.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4||(f=ta(i),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),p=f.length,p===0||p!==d.length))return!1;if(o)return!0;for(g=t.parentType,t.parentType="table",b=t.md.block.ruler.getRules("blockquote"),h=t.push("table_open","table",1),h.map=v=[e,0],h=t.push("thead_open","thead",1),h.map=[e,e+1],h=t.push("tr_open","tr",1),h.map=[e,e+1],c=0;c<f.length;c++)h=t.push("th_open","th",1),d[c]&&(h.attrs=[["style","text-align:"+d[c]]]),h=t.push("inline","",0),h.content=f[c].trim(),h.children=[],h=t.push("th_close","th",-1);for(h=t.push("tr_close","tr",-1),h=t.push("thead_close","thead",-1),l=e+2;l<n&&!(t.sCount[l]<t.blkIndent);l++){for(k=!1,c=0,u=b.length;c<u;c++)if(b[c](t,l,n,!0)){k=!0;break}if(k||(i=Fo(t,l).trim(),!i)||t.sCount[l]-t.blkIndent>=4)break;for(f=ta(i),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),l===e+2&&(h=t.push("tbody_open","tbody",1),h.map=y=[e+2,0]),h=t.push("tr_open","tr",1),h.map=[l,l+1],c=0;c<p;c++)h=t.push("td_open","td",1),d[c]&&(h.attrs=[["style","text-align:"+d[c]]]),h=t.push("inline","",0),h.content=f[c]?f[c].trim():"",h.children=[],h=t.push("td_close","td",-1);h=t.push("tr_close","tr",-1)}return y&&(h=t.push("tbody_close","tbody",-1),y[1]=l),h=t.push("table_close","table",-1),v[1]=l,t.parentType=g,t.line=l,!0},mW=function(t,e,n){var o,s,i;if(t.sCount[e]-t.blkIndent<4)return!1;for(s=o=e+1;o<n;){if(t.isEmpty(o)){o++;continue}if(t.sCount[o]-t.blkIndent>=4){o++,s=o;continue}break}return t.line=s,i=t.push("code_block","code",0),i.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,i.map=[e,t.line],!0},gW=function(t,e,n,o){var s,i,a,c,u,l,f,p=!1,h=t.bMarks[e]+t.tShift[e],d=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||h+3>d||(s=t.src.charCodeAt(h),s!==126&&s!==96)||(u=h,h=t.skipChars(h,s),i=h-u,i<3)||(f=t.src.slice(u,h),a=t.src.slice(h,d),s===96&&a.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(c=e;c++,!(c>=n||(h=u=t.bMarks[c]+t.tShift[c],d=t.eMarks[c],h<d&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(h)===s&&!(t.sCount[c]-t.blkIndent>=4)&&(h=t.skipChars(h,s),!(h-u<i)&&(h=t.skipSpaces(h),!(h<d)))){p=!0;break}return i=t.sCount[e],t.line=c+(p?1:0),l=t.push("fence","code",0),l.info=a,l.content=t.getLines(e+1,c,i,!0),l.markup=f,l.map=[e,t.line],!0},ea=U.isSpace,vW=function(t,e,n,o){var s,i,a,c,u,l,f,p,h,d,m,v,y,g,k,b,D,C,S,T,I=t.lineMax,O=t.bMarks[e]+t.tShift[e],K=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(O++)!==62)return!1;if(o)return!0;for(c=h=t.sCount[e]+1,t.src.charCodeAt(O)===32?(O++,c++,h++,s=!1,b=!0):t.src.charCodeAt(O)===9?(b=!0,(t.bsCount[e]+h)%4===3?(O++,c++,h++,s=!1):s=!0):b=!1,d=[t.bMarks[e]],t.bMarks[e]=O;O<K&&(i=t.src.charCodeAt(O),ea(i));){i===9?h+=4-(h+t.bsCount[e]+(s?1:0))%4:h++;O++}for(m=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(b?1:0),l=O>=K,g=[t.sCount[e]],t.sCount[e]=h-c,k=[t.tShift[e]],t.tShift[e]=O-t.bMarks[e],C=t.md.block.ruler.getRules("blockquote"),y=t.parentType,t.parentType="blockquote",p=e+1;p<n&&(T=t.sCount[p]<t.blkIndent,O=t.bMarks[p]+t.tShift[p],K=t.eMarks[p],!(O>=K));p++){if(t.src.charCodeAt(O++)===62&&!T){for(c=h=t.sCount[p]+1,t.src.charCodeAt(O)===32?(O++,c++,h++,s=!1,b=!0):t.src.charCodeAt(O)===9?(b=!0,(t.bsCount[p]+h)%4===3?(O++,c++,h++,s=!1):s=!0):b=!1,d.push(t.bMarks[p]),t.bMarks[p]=O;O<K&&(i=t.src.charCodeAt(O),ea(i));){i===9?h+=4-(h+t.bsCount[p]+(s?1:0))%4:h++;O++}l=O>=K,m.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(b?1:0),g.push(t.sCount[p]),t.sCount[p]=h-c,k.push(t.tShift[p]),t.tShift[p]=O-t.bMarks[p];continue}if(l)break;for(D=!1,a=0,u=C.length;a<u;a++)if(C[a](t,p,n,!0)){D=!0;break}if(D){t.lineMax=p,t.blkIndent!==0&&(d.push(t.bMarks[p]),m.push(t.bsCount[p]),k.push(t.tShift[p]),g.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}d.push(t.bMarks[p]),m.push(t.bsCount[p]),k.push(t.tShift[p]),g.push(t.sCount[p]),t.sCount[p]=-1}for(v=t.blkIndent,t.blkIndent=0,S=t.push("blockquote_open","blockquote",1),S.markup=">",S.map=f=[e,0],t.md.block.tokenize(t,e,p),S=t.push("blockquote_close","blockquote",-1),S.markup=">",t.lineMax=I,t.parentType=y,f[1]=t.line,a=0;a<k.length;a++)t.bMarks[a+e]=d[a],t.tShift[a+e]=k[a],t.sCount[a+e]=g[a],t.bsCount[a+e]=m[a];return t.blkIndent=v,!0},yW=U.isSpace,bW=function(t,e,n,o){var s,i,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||(s=t.src.charCodeAt(u++),s!==42&&s!==45&&s!==95))return!1;for(i=1;u<l;){if(a=t.src.charCodeAt(u++),a!==s&&!yW(a))return!1;a===s&&i++}return i<3?!1:(o||(t.line=e+1,c=t.push("hr","hr",0),c.map=[e,t.line],c.markup=Array(i+1).join(String.fromCharCode(s))),!0)},Tu=U.isSpace;function ra(r,t){var e,n,o,s;return n=r.bMarks[t]+r.tShift[t],o=r.eMarks[t],e=r.src.charCodeAt(n++),e!==42&&e!==45&&e!==43||n<o&&(s=r.src.charCodeAt(n),!Tu(s))?-1:n}function na(r,t){var e,n=r.bMarks[t]+r.tShift[t],o=n,s=r.eMarks[t];if(o+1>=s||(e=r.src.charCodeAt(o++),e<48||e>57))return-1;for(;;){if(o>=s)return-1;if(e=r.src.charCodeAt(o++),e>=48&&e<=57){if(o-n>=10)return-1;continue}if(e===41||e===46)break;return-1}return o<s&&(e=r.src.charCodeAt(o),!Tu(e))?-1:o}function kW(r,t){var e,n,o=r.level+2;for(e=t+2,n=r.tokens.length-2;e<n;e++)r.tokens[e].level===o&&r.tokens[e].type==="paragraph_open"&&(r.tokens[e+2].hidden=!0,r.tokens[e].hidden=!0,e+=2)}var DW=function(t,e,n,o){var s,i,a,c,u,l,f,p,h,d,m,v,y,g,k,b,D,C,S,T,I,O,K,Ct,E,W,L,R,$t=!1,$r=!0;if(t.sCount[e]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[e]-t.listIndent>=4&&t.sCount[e]<t.blkIndent)return!1;if(o&&t.parentType==="paragraph"&&t.sCount[e]>=t.blkIndent&&($t=!0),(K=na(t,e))>=0){if(f=!0,E=t.bMarks[e]+t.tShift[e],y=Number(t.src.slice(E,K-1)),$t&&y!==1)return!1}else if((K=ra(t,e))>=0)f=!1;else return!1;if($t&&t.skipSpaces(K)>=t.eMarks[e])return!1;if(v=t.src.charCodeAt(K-1),o)return!0;for(m=t.tokens.length,f?(R=t.push("ordered_list_open","ol",1),y!==1&&(R.attrs=[["start",y]])):R=t.push("bullet_list_open","ul",1),R.map=d=[e,0],R.markup=String.fromCharCode(v),k=e,Ct=!1,L=t.md.block.ruler.getRules("list"),C=t.parentType,t.parentType="list";k<n;){for(O=K,g=t.eMarks[k],l=b=t.sCount[k]+K-(t.bMarks[e]+t.tShift[e]);O<g;){if(s=t.src.charCodeAt(O),s===9)b+=4-(b+t.bsCount[k])%4;else if(s===32)b++;else break;O++}if(i=O,i>=g?u=1:u=b-l,u>4&&(u=1),c=l+u,R=t.push("list_item_open","li",1),R.markup=String.fromCharCode(v),R.map=p=[e,0],f&&(R.info=t.src.slice(E,K-1)),I=t.tight,T=t.tShift[e],S=t.sCount[e],D=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[e]=i-t.bMarks[e],t.sCount[e]=b,i>=g&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),(!t.tight||Ct)&&($r=!1),Ct=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=D,t.tShift[e]=T,t.sCount[e]=S,t.tight=I,R=t.push("list_item_close","li",-1),R.markup=String.fromCharCode(v),k=e=t.line,p[1]=k,i=t.bMarks[e],k>=n||t.sCount[k]<t.blkIndent||t.sCount[e]-t.blkIndent>=4)break;for(W=!1,a=0,h=L.length;a<h;a++)if(L[a](t,k,n,!0)){W=!0;break}if(W)break;if(f){if(K=na(t,k),K<0)break;E=t.bMarks[k]+t.tShift[k]}else if(K=ra(t,k),K<0)break;if(v!==t.src.charCodeAt(K-1))break}return f?R=t.push("ordered_list_close","ol",-1):R=t.push("bullet_list_close","ul",-1),R.markup=String.fromCharCode(v),d[1]=k,t.line=k,t.parentType=C,$r&&kW(t,m),!0},CW=U.normalizeReference,Xr=U.isSpace,xW=function(t,e,n,o){var s,i,a,c,u,l,f,p,h,d,m,v,y,g,k,b,D=0,C=t.bMarks[e]+t.tShift[e],S=t.eMarks[e],T=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(C)!==91)return!1;for(;++C<S;)if(t.src.charCodeAt(C)===93&&t.src.charCodeAt(C-1)!==92){if(C+1===S||t.src.charCodeAt(C+1)!==58)return!1;break}for(c=t.lineMax,k=t.md.block.ruler.getRules("reference"),d=t.parentType,t.parentType="reference";T<c&&!t.isEmpty(T);T++)if(!(t.sCount[T]-t.blkIndent>3)&&!(t.sCount[T]<0)){for(g=!1,l=0,f=k.length;l<f;l++)if(k[l](t,T,c,!0)){g=!0;break}if(g)break}for(y=t.getLines(e,T,t.blkIndent,!1).trim(),S=y.length,C=1;C<S;C++){if(s=y.charCodeAt(C),s===91)return!1;if(s===93){h=C;break}else s===10?D++:s===92&&(C++,C<S&&y.charCodeAt(C)===10&&D++)}if(h<0||y.charCodeAt(h+1)!==58)return!1;for(C=h+2;C<S;C++)if(s=y.charCodeAt(C),s===10)D++;else if(!Xr(s))break;if(m=t.md.helpers.parseLinkDestination(y,C,S),!m.ok||(u=t.md.normalizeLink(m.str),!t.md.validateLink(u)))return!1;for(C=m.pos,D+=m.lines,i=C,a=D,v=C;C<S;C++)if(s=y.charCodeAt(C),s===10)D++;else if(!Xr(s))break;for(m=t.md.helpers.parseLinkTitle(y,C,S),C<S&&v!==C&&m.ok?(b=m.str,C=m.pos,D+=m.lines):(b="",C=i,D=a);C<S&&(s=y.charCodeAt(C),!!Xr(s));)C++;if(C<S&&y.charCodeAt(C)!==10&&b)for(b="",C=i,D=a;C<S&&(s=y.charCodeAt(C),!!Xr(s));)C++;return C<S&&y.charCodeAt(C)!==10||(p=CW(y.slice(1,h)),!p)?!1:(o||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[p]>"u"&&(t.env.references[p]={title:b,href:u}),t.parentType=d,t.line=e+D+1),!0)},AW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],EW="[a-zA-Z_:][a-zA-Z0-9:._-]*",_W="[^\"'=<>`\\x00-\\x20]+",wW="'[^']*'",SW='"[^"]*"',MW="(?:"+_W+"|"+wW+"|"+SW+")",TW="(?:\\s+"+EW+"(?:\\s*=\\s*"+MW+")?)",Ou="<[A-Za-z][A-Za-z0-9\\-]*"+TW+"*\\s*\\/?>",Fu="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",OW="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",FW="<[?][\\s\\S]*?[?]>",NW="<![A-Z]+\\s+[^>]*>",BW="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",RW=new RegExp("^(?:"+Ou+"|"+Fu+"|"+OW+"|"+FW+"|"+NW+"|"+BW+")"),LW=new RegExp("^(?:"+Ou+"|"+Fu+")"),IW=RW,PW=LW,Nu={HTML_TAG_RE:IW,HTML_OPEN_CLOSE_TAG_RE:PW},qW=Nu.HTML_OPEN_CLOSE_TAG_RE,Ue=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+AW.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(qW.source+"\\s*$"),/^$/,!1]],zW=function(t,e,n,o){var s,i,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(u)!==60)return!1;for(c=t.src.slice(u,l),s=0;s<Ue.length&&!Ue[s][0].test(c);s++);if(s===Ue.length)return!1;if(o)return Ue[s][2];if(i=e+1,!Ue[s][1].test(c)){for(;i<n&&!(t.sCount[i]<t.blkIndent);i++)if(u=t.bMarks[i]+t.tShift[i],l=t.eMarks[i],c=t.src.slice(u,l),Ue[s][1].test(c)){c.length!==0&&i++;break}}return t.line=i,a=t.push("html_block","",0),a.map=[e,i],a.content=t.getLines(e,i,t.blkIndent,!0),!0},oa=U.isSpace,VW=function(t,e,n,o){var s,i,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||(s=t.src.charCodeAt(u),s!==35||u>=l))return!1;for(i=1,s=t.src.charCodeAt(++u);s===35&&u<l&&i<=6;)i++,s=t.src.charCodeAt(++u);return i>6||u<l&&!oa(s)?!1:(o||(l=t.skipSpacesBack(l,u),a=t.skipCharsBack(l,35,u),a>u&&oa(t.src.charCodeAt(a-1))&&(l=a),t.line=e+1,c=t.push("heading_open","h"+String(i),1),c.markup="########".slice(0,i),c.map=[e,t.line],c=t.push("inline","",0),c.content=t.src.slice(u,l).trim(),c.map=[e,t.line],c.children=[],c=t.push("heading_close","h"+String(i),-1),c.markup="########".slice(0,i)),!0)},HW=function(t,e,n){var o,s,i,a,c,u,l,f,p,h=e+1,d,m=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(d=t.parentType,t.parentType="paragraph";h<n&&!t.isEmpty(h);h++)if(!(t.sCount[h]-t.blkIndent>3)){if(t.sCount[h]>=t.blkIndent&&(u=t.bMarks[h]+t.tShift[h],l=t.eMarks[h],u<l&&(p=t.src.charCodeAt(u),(p===45||p===61)&&(u=t.skipChars(u,p),u=t.skipSpaces(u),u>=l)))){f=p===61?1:2;break}if(!(t.sCount[h]<0)){for(s=!1,i=0,a=m.length;i<a;i++)if(m[i](t,h,n,!0)){s=!0;break}if(s)break}}return f?(o=t.getLines(e,h,t.blkIndent,!1).trim(),t.line=h+1,c=t.push("heading_open","h"+String(f),1),c.markup=String.fromCharCode(p),c.map=[e,t.line],c=t.push("inline","",0),c.content=o,c.map=[e,t.line-1],c.children=[],c=t.push("heading_close","h"+String(f),-1),c.markup=String.fromCharCode(p),t.parentType=d,!0):!1},jW=function(t,e){var n,o,s,i,a,c,u=e+1,l=t.md.block.ruler.getRules("paragraph"),f=t.lineMax;for(c=t.parentType,t.parentType="paragraph";u<f&&!t.isEmpty(u);u++)if(!(t.sCount[u]-t.blkIndent>3)&&!(t.sCount[u]<0)){for(o=!1,s=0,i=l.length;s<i;s++)if(l[s](t,u,f,!0)){o=!0;break}if(o)break}return n=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,a=t.push("paragraph_open","p",1),a.map=[e,t.line],a=t.push("inline","",0),a.content=n,a.map=[e,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0},so=U.isSpace;function oe(r,t,e,n){var o,s,i,a,c,u,l,f;for(this.src=r,this.md=t,this.env=e,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,f=!1,i=a=u=l=0,c=s.length;a<c;a++){if(o=s.charCodeAt(a),!f)if(so(o)){u++,o===9?l+=4-l%4:l++;continue}else f=!0;(o===10||a===c-1)&&(o!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(u),this.sCount.push(l),this.bsCount.push(0),f=!1,u=0,l=0,i=a+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}oe.prototype.push=function(r,t,e){var n=new ze(r,t,e);return n.block=!0,e<0&&this.level--,n.level=this.level,e>0&&this.level++,this.tokens.push(n),n};oe.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};oe.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};oe.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),!!so(e));t++);return t};oe.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!so(this.src.charCodeAt(--t)))return t+1;return t};oe.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t};oe.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t};oe.prototype.getLines=function(t,e,n,o){var s,i,a,c,u,l,f,p=t;if(t>=e)return"";for(l=new Array(e-t),s=0;p<e;p++,s++){for(i=0,f=c=this.bMarks[p],p+1<e||o?u=this.eMarks[p]+1:u=this.eMarks[p];c<u&&i<n;){if(a=this.src.charCodeAt(c),so(a))a===9?i+=4-(i+this.bsCount[p])%4:i++;else if(c-f<this.tShift[p])i++;else break;c++}i>n?l[s]=new Array(i-n+1).join(" ")+this.src.slice(c,u):l[s]=this.src.slice(c,u)}return l.join("")};oe.prototype.Token=ze;var UW=oe,tn=[["table",dW,["paragraph","reference"]],["code",mW],["fence",gW,["paragraph","reference","blockquote","list"]],["blockquote",vW,["paragraph","reference","blockquote","list"]],["hr",bW,["paragraph","reference","blockquote","list"]],["list",DW,["paragraph","reference","blockquote"]],["reference",xW],["html_block",zW,["paragraph","reference","blockquote"]],["heading",VW,["paragraph","reference","blockquote"]],["lheading",HW],["paragraph",jW]];function io(){this.ruler=new kn;for(var r=0;r<tn.length;r++)this.ruler.push(tn[r][0],tn[r][1],{alt:(tn[r][2]||[]).slice()})}io.prototype.tokenize=function(r,t,e){for(var n,o,s=this.ruler.getRules(""),i=s.length,a=t,c=!1,u=r.md.options.maxNesting;a<e&&(r.line=a=r.skipEmptyLines(a),!(a>=e||r.sCount[a]<r.blkIndent));){if(r.level>=u){r.line=e;break}for(o=0;o<i&&(n=s[o](r,a,e,!1),!n);o++);r.tight=!c,r.isEmpty(r.line-1)&&(c=!0),a=r.line,a<e&&r.isEmpty(a)&&(c=!0,a++,r.line=a)}};io.prototype.parse=function(r,t,e,n){var o;!r||(o=new this.State(r,t,e,n),this.tokenize(o,o.line,o.lineMax))};io.prototype.State=UW;var KW=io;function WW(r){switch(r){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var JW=function(t,e){for(var n=t.pos;n<t.posMax&&!WW(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)},$W=U.isSpace,GW=function(t,e){var n,o,s,i=t.pos;if(t.src.charCodeAt(i)!==10)return!1;if(n=t.pending.length-1,o=t.posMax,!e)if(n>=0&&t.pending.charCodeAt(n)===32)if(n>=1&&t.pending.charCodeAt(n-1)===32){for(s=n-1;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(i++;i<o&&$W(t.src.charCodeAt(i));)i++;return t.pos=i,!0},ZW=U.isSpace,Ps=[];for(var sa=0;sa<256;sa++)Ps.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(r){Ps[r.charCodeAt(0)]=1});var YW=function(t,e){var n,o=t.pos,s=t.posMax;if(t.src.charCodeAt(o)!==92)return!1;if(o++,o<s){if(n=t.src.charCodeAt(o),n<256&&Ps[n]!==0)return e||(t.pending+=t.src[o]),t.pos+=2,!0;if(n===10){for(e||t.push("hardbreak","br",0),o++;o<s&&(n=t.src.charCodeAt(o),!!ZW(n));)o++;return t.pos=o,!0}}return e||(t.pending+="\\"),t.pos++,!0},QW=function(t,e){var n,o,s,i,a,c,u,l,f=t.pos,p=t.src.charCodeAt(f);if(p!==96)return!1;for(n=f,f++,o=t.posMax;f<o&&t.src.charCodeAt(f)===96;)f++;if(s=t.src.slice(n,f),u=s.length,t.backticksScanned&&(t.backticks[u]||0)<=n)return e||(t.pending+=s),t.pos+=u,!0;for(a=c=f;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<o&&t.src.charCodeAt(c)===96;)c++;if(l=c-a,l===u)return e||(i=t.push("code_inline","code",0),i.markup=s,i.content=t.src.slice(f,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[l]=a}return t.backticksScanned=!0,e||(t.pending+=s),t.pos+=u,!0},XW=function(t,e){var n,o,s,i,a,c=t.pos,u=t.src.charCodeAt(c);if(e||u!==126||(o=t.scanDelims(t.pos,!0),i=o.length,a=String.fromCharCode(u),i<2))return!1;for(i%2&&(s=t.push("text","",0),s.content=a,i--),n=0;n<i;n+=2)s=t.push("text","",0),s.content=a+a,t.delimiters.push({marker:u,length:0,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function ia(r,t){var e,n,o,s,i,a=[],c=t.length;for(e=0;e<c;e++)o=t[e],o.marker===126&&o.end!==-1&&(s=t[o.end],i=r.tokens[o.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=r.tokens[s.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="",r.tokens[s.token-1].type==="text"&&r.tokens[s.token-1].content==="~"&&a.push(s.token-1));for(;a.length;){for(e=a.pop(),n=e+1;n<r.tokens.length&&r.tokens[n].type==="s_close";)n++;n--,e!==n&&(i=r.tokens[n],r.tokens[n]=r.tokens[e],r.tokens[e]=i)}}var tJ=function(t){var e,n=t.tokens_meta,o=t.tokens_meta.length;for(ia(t,t.delimiters),e=0;e<o;e++)n[e]&&n[e].delimiters&&ia(t,n[e].delimiters)},Bu={tokenize:XW,postProcess:tJ},eJ=function(t,e){var n,o,s,i=t.pos,a=t.src.charCodeAt(i);if(e||a!==95&&a!==42)return!1;for(o=t.scanDelims(t.pos,a===42),n=0;n<o.length;n++)s=t.push("text","",0),s.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:o.length,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function aa(r,t){var e,n,o,s,i,a,c=t.length;for(e=c-1;e>=0;e--)n=t[e],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(o=t[n.end],a=e>0&&t[e-1].end===n.end+1&&t[e-1].marker===n.marker&&t[e-1].token===n.token-1&&t[n.end+1].token===o.token+1,i=String.fromCharCode(n.marker),s=r.tokens[n.token],s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="",s=r.tokens[o.token],s.type=a?"strong_close":"em_close",s.tag=a?"strong":"em",s.nesting=-1,s.markup=a?i+i:i,s.content="",a&&(r.tokens[t[e-1].token].content="",r.tokens[t[n.end+1].token].content="",e--))}var rJ=function(t){var e,n=t.tokens_meta,o=t.tokens_meta.length;for(aa(t,t.delimiters),e=0;e<o;e++)n[e]&&n[e].delimiters&&aa(t,n[e].delimiters)},Ru={tokenize:eJ,postProcess:rJ},nJ=U.normalizeReference,No=U.isSpace,oJ=function(t,e){var n,o,s,i,a,c,u,l,f,p="",h="",d=t.pos,m=t.posMax,v=t.pos,y=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,i=t.md.helpers.parseLinkLabel(t,t.pos,!0),i<0))return!1;if(c=i+1,c<m&&t.src.charCodeAt(c)===40){for(y=!1,c++;c<m&&(o=t.src.charCodeAt(c),!(!No(o)&&o!==10));c++);if(c>=m)return!1;if(v=c,u=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),u.ok){for(p=t.md.normalizeLink(u.str),t.md.validateLink(p)?c=u.pos:p="",v=c;c<m&&(o=t.src.charCodeAt(c),!(!No(o)&&o!==10));c++);if(u=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&v!==c&&u.ok)for(h=u.str,c=u.pos;c<m&&(o=t.src.charCodeAt(c),!(!No(o)&&o!==10));c++);}(c>=m||t.src.charCodeAt(c)!==41)&&(y=!0),c++}if(y){if(typeof t.env.references>"u")return!1;if(c<m&&t.src.charCodeAt(c)===91?(v=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?s=t.src.slice(v,c++):c=i+1):c=i+1,s||(s=t.src.slice(a,i)),l=t.env.references[nJ(s)],!l)return t.pos=d,!1;p=l.href,h=l.title}return e||(t.pos=a,t.posMax=i,f=t.push("link_open","a",1),f.attrs=n=[["href",p]],h&&n.push(["title",h]),t.md.inline.tokenize(t),f=t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0},sJ=U.normalizeReference,Bo=U.isSpace,iJ=function(t,e){var n,o,s,i,a,c,u,l,f,p,h,d,m,v="",y=t.pos,g=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(u=a+1,u<g&&t.src.charCodeAt(u)===40){for(u++;u<g&&(o=t.src.charCodeAt(u),!(!Bo(o)&&o!==10));u++);if(u>=g)return!1;for(m=u,f=t.md.helpers.parseLinkDestination(t.src,u,t.posMax),f.ok&&(v=t.md.normalizeLink(f.str),t.md.validateLink(v)?u=f.pos:v=""),m=u;u<g&&(o=t.src.charCodeAt(u),!(!Bo(o)&&o!==10));u++);if(f=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<g&&m!==u&&f.ok)for(p=f.str,u=f.pos;u<g&&(o=t.src.charCodeAt(u),!(!Bo(o)&&o!==10));u++);else p="";if(u>=g||t.src.charCodeAt(u)!==41)return t.pos=y,!1;u++}else{if(typeof t.env.references>"u")return!1;if(u<g&&t.src.charCodeAt(u)===91?(m=u+1,u=t.md.helpers.parseLinkLabel(t,u),u>=0?i=t.src.slice(m,u++):u=a+1):u=a+1,i||(i=t.src.slice(c,a)),l=t.env.references[sJ(i)],!l)return t.pos=y,!1;v=l.href,p=l.title}return e||(s=t.src.slice(c,a),t.md.inline.parse(s,t.md,t.env,d=[]),h=t.push("image","img",0),h.attrs=n=[["src",v],["alt",""]],h.children=d,h.content=s,p&&n.push(["title",p])),t.pos=u,t.posMax=g,!0},aJ=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,cJ=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,uJ=function(t,e){var n,o,s,i,a,c,u=t.pos;if(t.src.charCodeAt(u)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++u>=c||(i=t.src.charCodeAt(u),i===60))return!1;if(i===62)break}return n=t.src.slice(a+1,u),cJ.test(n)?(o=t.md.normalizeLink(n),t.md.validateLink(o)?(e||(s=t.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(n),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=n.length+2,!0):!1):aJ.test(n)?(o=t.md.normalizeLink("mailto:"+n),t.md.validateLink(o)?(e||(s=t.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(n),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=n.length+2,!0):!1):!1},lJ=Nu.HTML_TAG_RE;function fJ(r){var t=r|32;return t>=97&&t<=122}var pJ=function(t,e){var n,o,s,i,a=t.pos;return!t.md.options.html||(s=t.posMax,t.src.charCodeAt(a)!==60||a+2>=s)||(n=t.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!fJ(n))||(o=t.src.slice(a).match(lJ),!o)?!1:(e||(i=t.push("html_inline","",0),i.content=t.src.slice(a,a+o[0].length)),t.pos+=o[0].length,!0)},hJ=U.has,dJ=U.isValidEntityCode,ca=U.fromCodePoint,mJ=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,gJ=/^&([a-z][a-z0-9]{1,31});/i,vJ=function(t,e){var n,o,s,i=t.pos,a=t.posMax;if(t.src.charCodeAt(i)!==38)return!1;if(i+1<a){if(n=t.src.charCodeAt(i+1),n===35){if(s=t.src.slice(i).match(mJ),s)return e||(o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),t.pending+=dJ(o)?ca(o):ca(65533)),t.pos+=s[0].length,!0}else if(s=t.src.slice(i).match(gJ),s&&hJ(yn,s[1]))return e||(t.pending+=yn[s[1]]),t.pos+=s[0].length,!0}return e||(t.pending+="&"),t.pos++,!0};function ua(r,t){var e,n,o,s,i,a,c,u,l={},f=t.length;if(!!f){var p=0,h=-2,d=[];for(e=0;e<f;e++)if(o=t[e],d.push(0),(t[p].marker!==o.marker||h!==o.token-1)&&(p=e),h=o.token,o.length=o.length||0,!!o.close){for(l.hasOwnProperty(o.marker)||(l[o.marker]=[-1,-1,-1,-1,-1,-1]),i=l[o.marker][(o.open?3:0)+o.length%3],n=p-d[p]-1,a=n;n>i;n-=d[n]+1)if(s=t[n],s.marker===o.marker&&s.open&&s.end<0&&(c=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(c=!0),!c)){u=n>0&&!t[n-1].open?d[n-1]+1:0,d[e]=e-n+u,d[n]=u,o.open=!1,s.end=e,s.close=!1,a=-1,h=-2;break}a!==-1&&(l[o.marker][(o.open?3:0)+(o.length||0)%3]=a)}}}var yJ=function(t){var e,n=t.tokens_meta,o=t.tokens_meta.length;for(ua(t,t.delimiters),e=0;e<o;e++)n[e]&&n[e].delimiters&&ua(t,n[e].delimiters)},bJ=function(t){var e,n,o=0,s=t.tokens,i=t.tokens.length;for(e=n=0;e<i;e++)s[e].nesting<0&&o--,s[e].level=o,s[e].nesting>0&&o++,s[e].type==="text"&&e+1<i&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)},la=U.isWhiteSpace,fa=U.isPunctChar,pa=U.isMdAsciiPunct;function Wr(r,t,e,n){this.src=r,this.env=e,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}Wr.prototype.pushPending=function(){var r=new ze("text","",0);return r.content=this.pending,r.level=this.pendingLevel,this.tokens.push(r),this.pending="",r};Wr.prototype.push=function(r,t,e){this.pending&&this.pushPending();var n=new ze(r,t,e),o=null;return e<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,e>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(o),n};Wr.prototype.scanDelims=function(r,t){var e=r,n,o,s,i,a,c,u,l,f,p=!0,h=!0,d=this.posMax,m=this.src.charCodeAt(r);for(n=r>0?this.src.charCodeAt(r-1):32;e<d&&this.src.charCodeAt(e)===m;)e++;return s=e-r,o=e<d?this.src.charCodeAt(e):32,u=pa(n)||fa(String.fromCharCode(n)),f=pa(o)||fa(String.fromCharCode(o)),c=la(n),l=la(o),l?p=!1:f&&(c||u||(p=!1)),c?h=!1:u&&(l||f||(h=!1)),t?(i=p,a=h):(i=p&&(!h||u),a=h&&(!p||f)),{can_open:i,can_close:a,length:s}};Wr.prototype.Token=ze;var kJ=Wr,Ro=[["text",JW],["newline",GW],["escape",YW],["backticks",QW],["strikethrough",Bu.tokenize],["emphasis",Ru.tokenize],["link",oJ],["image",iJ],["autolink",uJ],["html_inline",pJ],["entity",vJ]],Lo=[["balance_pairs",yJ],["strikethrough",Bu.postProcess],["emphasis",Ru.postProcess],["text_collapse",bJ]];function Jr(){var r;for(this.ruler=new kn,r=0;r<Ro.length;r++)this.ruler.push(Ro[r][0],Ro[r][1]);for(this.ruler2=new kn,r=0;r<Lo.length;r++)this.ruler2.push(Lo[r][0],Lo[r][1])}Jr.prototype.skipToken=function(r){var t,e,n=r.pos,o=this.ruler.getRules(""),s=o.length,i=r.md.options.maxNesting,a=r.cache;if(typeof a[n]<"u"){r.pos=a[n];return}if(r.level<i)for(e=0;e<s&&(r.level++,t=o[e](r,!0),r.level--,!t);e++);else r.pos=r.posMax;t||r.pos++,a[n]=r.pos};Jr.prototype.tokenize=function(r){for(var t,e,n=this.ruler.getRules(""),o=n.length,s=r.posMax,i=r.md.options.maxNesting;r.pos<s;){if(r.level<i)for(e=0;e<o&&(t=n[e](r,!1),!t);e++);if(t){if(r.pos>=s)break;continue}r.pending+=r.src[r.pos++]}r.pending&&r.pushPending()};Jr.prototype.parse=function(r,t,e,n){var o,s,i,a=new this.State(r,t,e,n);for(this.tokenize(a),s=this.ruler2.getRules(""),i=s.length,o=0;o<i;o++)s[o](a)};Jr.prototype.State=kJ;var DJ=Jr,CJ=function(r){var t={};t.src_Any=Eu.source,t.src_Cc=_u.source,t.src_Z=wu.source,t.src_P=Ls.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var e="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+e+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+e+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+e+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(r&&r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+e+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t};function as(r){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(e){!e||Object.keys(e).forEach(function(n){r[n]=e[n]})}),r}function ao(r){return Object.prototype.toString.call(r)}function xJ(r){return ao(r)==="[object String]"}function AJ(r){return ao(r)==="[object Object]"}function EJ(r){return ao(r)==="[object RegExp]"}function ha(r){return ao(r)==="[object Function]"}function _J(r){return r.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Lu={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function wJ(r){return Object.keys(r||{}).reduce(function(t,e){return t||Lu.hasOwnProperty(e)},!1)}var SJ={"http:":{validate:function(r,t,e){var n=r.slice(t);return e.re.http||(e.re.http=new RegExp("^\\/\\/"+e.re.src_auth+e.re.src_host_port_strict+e.re.src_path,"i")),e.re.http.test(n)?n.match(e.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(r,t,e){var n=r.slice(t);return e.re.no_http||(e.re.no_http=new RegExp("^"+e.re.src_auth+"(?:localhost|(?:(?:"+e.re.src_domain+")\\.)+"+e.re.src_domain_root+")"+e.re.src_port+e.re.src_host_terminator+e.re.src_path,"i")),e.re.no_http.test(n)?t>=3&&r[t-3]===":"||t>=3&&r[t-3]==="/"?0:n.match(e.re.no_http)[0].length:0}},"mailto:":{validate:function(r,t,e){var n=r.slice(t);return e.re.mailto||(e.re.mailto=new RegExp("^"+e.re.src_email_name+"@"+e.re.src_host_strict,"i")),e.re.mailto.test(n)?n.match(e.re.mailto)[0].length:0}}},MJ="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",TJ="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function OJ(r){r.__index__=-1,r.__text_cache__=""}function FJ(r){return function(t,e){var n=t.slice(e);return r.test(n)?n.match(r)[0].length:0}}function da(){return function(r,t){t.normalize(r)}}function Dn(r){var t=r.re=CJ(r.__opts__),e=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||e.push(MJ),e.push(t.src_xn),t.src_tlds=e.join("|");function n(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var o=[];r.__compiled__={};function s(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(r.__schemas__).forEach(function(a){var c=r.__schemas__[a];if(c!==null){var u={validate:null,link:null};if(r.__compiled__[a]=u,AJ(c)){EJ(c.validate)?u.validate=FJ(c.validate):ha(c.validate)?u.validate=c.validate:s(a,c),ha(c.normalize)?u.normalize=c.normalize:c.normalize?s(a,c):u.normalize=da();return}if(xJ(c)){o.push(a);return}s(a,c)}}),o.forEach(function(a){!r.__compiled__[r.__schemas__[a]]||(r.__compiled__[a].validate=r.__compiled__[r.__schemas__[a]].validate,r.__compiled__[a].normalize=r.__compiled__[r.__schemas__[a]].normalize)}),r.__compiled__[""]={validate:null,normalize:da()};var i=Object.keys(r.__compiled__).filter(function(a){return a.length>0&&r.__compiled__[a]}).map(_J).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+i+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+i+")","ig"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),OJ(r)}function NJ(r,t){var e=r.__index__,n=r.__last_index__,o=r.__text_cache__.slice(e,n);this.schema=r.__schema__.toLowerCase(),this.index=e+t,this.lastIndex=n+t,this.raw=o,this.text=o,this.url=o}function ma(r,t){var e=new NJ(r,t);return r.__compiled__[e.schema].normalize(e,r),e}function Lt(r,t){if(!(this instanceof Lt))return new Lt(r,t);t||wJ(r)&&(t=r,r={}),this.__opts__=as({},Lu,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=as({},SJ,r),this.__compiled__={},this.__tlds__=TJ,this.__tlds_replaced__=!1,this.re={},Dn(this)}Lt.prototype.add=function(t,e){return this.__schemas__[t]=e,Dn(this),this};Lt.prototype.set=function(t){return this.__opts__=as(this.__opts__,t),this};Lt.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,o,s,i,a,c,u,l;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(e=c.exec(t))!==null;)if(s=this.testSchemaAt(t,e[2],c.lastIndex),s){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(i=o.index+o[1].length,a=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a))),this.__index__>=0};Lt.prototype.pretest=function(t){return this.re.pretest.test(t)};Lt.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0};Lt.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(ma(this,e)),e=this.__last_index__);for(var o=e?t.slice(e):t;this.test(o);)n.push(ma(this,e)),o=o.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null};Lt.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,o,s){return n!==s[o-1]}).reverse(),Dn(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Dn(this),this)};Lt.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Lt.prototype.onCompile=function(){};var BJ=Lt;const er=2147483647,Yt=36,qs=1,Vr=26,RJ=38,LJ=700,Iu=72,Pu=128,qu="-",IJ=/^xn--/,PJ=/[^\0-\x7E]/,qJ=/[\x2E\u3002\uFF0E\uFF61]/g,zJ={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Io=Yt-qs,Qt=Math.floor,Po=String.fromCharCode;function Me(r){throw new RangeError(zJ[r])}function VJ(r,t){const e=[];let n=r.length;for(;n--;)e[n]=t(r[n]);return e}function zu(r,t){const e=r.split("@");let n="";e.length>1&&(n=e[0]+"@",r=e[1]),r=r.replace(qJ,".");const o=r.split("."),s=VJ(o,t).join(".");return n+s}function Vu(r){const t=[];let e=0;const n=r.length;for(;e<n;){const o=r.charCodeAt(e++);if(o>=55296&&o<=56319&&e<n){const s=r.charCodeAt(e++);(s&64512)==56320?t.push(((o&1023)<<10)+(s&1023)+65536):(t.push(o),e--)}else t.push(o)}return t}const HJ=r=>String.fromCodePoint(...r),jJ=function(r){return r-48<10?r-22:r-65<26?r-65:r-97<26?r-97:Yt},ga=function(r,t){return r+22+75*(r<26)-((t!=0)<<5)},Hu=function(r,t,e){let n=0;for(r=e?Qt(r/LJ):r>>1,r+=Qt(r/t);r>Io*Vr>>1;n+=Yt)r=Qt(r/Io);return Qt(n+(Io+1)*r/(r+RJ))},ju=function(r){const t=[],e=r.length;let n=0,o=Pu,s=Iu,i=r.lastIndexOf(qu);i<0&&(i=0);for(let a=0;a<i;++a)r.charCodeAt(a)>=128&&Me("not-basic"),t.push(r.charCodeAt(a));for(let a=i>0?i+1:0;a<e;){let c=n;for(let l=1,f=Yt;;f+=Yt){a>=e&&Me("invalid-input");const p=jJ(r.charCodeAt(a++));(p>=Yt||p>Qt((er-n)/l))&&Me("overflow"),n+=p*l;const h=f<=s?qs:f>=s+Vr?Vr:f-s;if(p<h)break;const d=Yt-h;l>Qt(er/d)&&Me("overflow"),l*=d}const u=t.length+1;s=Hu(n-c,u,c==0),Qt(n/u)>er-o&&Me("overflow"),o+=Qt(n/u),n%=u,t.splice(n++,0,o)}return String.fromCodePoint(...t)},Uu=function(r){const t=[];r=Vu(r);let e=r.length,n=Pu,o=0,s=Iu;for(const c of r)c<128&&t.push(Po(c));let i=t.length,a=i;for(i&&t.push(qu);a<e;){let c=er;for(const l of r)l>=n&&l<c&&(c=l);const u=a+1;c-n>Qt((er-o)/u)&&Me("overflow"),o+=(c-n)*u,n=c;for(const l of r)if(l<n&&++o>er&&Me("overflow"),l==n){let f=o;for(let p=Yt;;p+=Yt){const h=p<=s?qs:p>=s+Vr?Vr:p-s;if(f<h)break;const d=f-h,m=Yt-h;t.push(Po(ga(h+d%m,0))),f=Qt(d/m)}t.push(Po(ga(f,0))),s=Hu(o,u,a==i),o=0,++a}++o,++n}return t.join("")},UJ=function(r){return zu(r,function(t){return IJ.test(t)?ju(t.slice(4).toLowerCase()):t})},KJ=function(r){return zu(r,function(t){return PJ.test(t)?"xn--"+Uu(t):t})},WJ={version:"2.1.0",ucs2:{decode:Vu,encode:HJ},decode:ju,encode:Uu,toASCII:KJ,toUnicode:UJ};var Ku=WJ,JJ={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},$J={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}},GJ={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}},ZJ={default:JJ,zero:$J,commonmark:GJ},YJ=/^(vbscript|javascript|file|data):/,QJ=/^data:image\/(gif|png|jpeg|webp);/;function XJ(r){var t=r.trim().toLowerCase();return YJ.test(t)?!!QJ.test(t):!0}var Wu=["http:","https:","mailto:"];function t$(r){var t=ve.parse(r,!0);if(t.hostname&&(!t.protocol||Wu.indexOf(t.protocol)>=0))try{t.hostname=Ku.toASCII(t.hostname)}catch{}return ve.encode(ve.format(t))}function e$(r){var t=ve.parse(r,!0);if(t.hostname&&(!t.protocol||Wu.indexOf(t.protocol)>=0))try{t.hostname=Ku.toUnicode(t.hostname)}catch{}return ve.decode(ve.format(t),ve.decode.defaultChars+"%")}function It(r,t){if(!(this instanceof It))return new It(r,t);t||U.isString(r)||(t=r||{},r="default"),this.inline=new DJ,this.block=new KW,this.core=new hW,this.renderer=new WK,this.linkify=new BJ,this.validateLink=XJ,this.normalizeLink=t$,this.normalizeLinkText=e$,this.utils=U,this.helpers=U.assign({},jK),this.options={},this.configure(r),t&&this.set(t)}It.prototype.set=function(r){return U.assign(this.options,r),this};It.prototype.configure=function(r){var t=this,e;if(U.isString(r)&&(e=r,r=ZJ[e],!r))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&t.set(r.options),r.components&&Object.keys(r.components).forEach(function(n){r.components[n].rules&&t[n].ruler.enableOnly(r.components[n].rules),r.components[n].rules2&&t[n].ruler2.enableOnly(r.components[n].rules2)}),this};It.prototype.enable=function(r,t){var e=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(o){e=e.concat(this[o].ruler.enable(r,!0))},this),e=e.concat(this.inline.ruler2.enable(r,!0));var n=r.filter(function(o){return e.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};It.prototype.disable=function(r,t){var e=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(o){e=e.concat(this[o].ruler.disable(r,!0))},this),e=e.concat(this.inline.ruler2.disable(r,!0));var n=r.filter(function(o){return e.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};It.prototype.use=function(r){var t=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,t),this};It.prototype.parse=function(r,t){if(typeof r!="string")throw new Error("Input data should be a String");var e=new this.core.State(r,this,t);return this.core.process(e),e.tokens};It.prototype.render=function(r,t){return t=t||{},this.renderer.render(this.parse(r,t),this.options,t)};It.prototype.parseInline=function(r,t){var e=new this.core.State(r,this,t);return e.inlineMode=!0,this.core.process(e),e.tokens};It.prototype.renderInline=function(r,t){return t=t||{},this.renderer.render(this.parseInline(r,t),this.options,t)};var r$=It,n$=r$,o$=new xe({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){return{params:r.getAttribute("data-params")||""}}}],toDOM:function(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM:function(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(r){return{tight:r.hasAttribute("data-tight")}}}],toDOM:function(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(r){return r=="italic"&&null}}],toDOM:function(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(r){return/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}}],toDOM:function(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){return["a",t.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}});function s$(r,t){if(r.isText&&t.isText&&z.sameSet(r.marks,t.marks))return r.withText(r.text+t.text)}var se=function(t,e){this.schema=t,this.stack=[{type:t.topNodeType,content:[]}],this.marks=z.none,this.tokenHandlers=e};se.prototype.top=function(){return this.stack[this.stack.length-1]};se.prototype.push=function(t){this.stack.length&&this.top().content.push(t)};se.prototype.addText=function(t){if(!!t){var e=this.top().content,n=e[e.length-1],o=this.schema.text(t,this.marks),s;n&&(s=s$(n,o))?e[e.length-1]=s:e.push(o)}};se.prototype.openMark=function(t){this.marks=t.addToSet(this.marks)};se.prototype.closeMark=function(t){this.marks=t.removeFromSet(this.marks)};se.prototype.parseTokens=function(t){for(var e=0;e<t.length;e++){var n=t[e],o=this.tokenHandlers[n.type];if(!o)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");o(this,n,t,e)}};se.prototype.addNode=function(t,e,n){var o=t.createAndFill(e,n,this.marks);return o?(this.push(o),o):null};se.prototype.openNode=function(t,e){this.stack.push({type:t,attrs:e,content:[]})};se.prototype.closeNode=function(){this.marks.length&&(this.marks=z.none);var t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)};function vr(r,t,e,n){return r.getAttrs?r.getAttrs(t,e,n):r.attrs instanceof Function?r.attrs(t):r.attrs}function qo(r,t){return r.noCloseToken||t=="code_inline"||t=="code_block"||t=="fence"}function va(r){return r[r.length-1]==`
`?r.slice(0,r.length-1):r}function zo(){}function i$(r,t){var e=Object.create(null),n=function(s){var i=t[s];if(i.block){var a=r.nodeType(i.block);qo(i,s)?e[s]=function(l,f,p,h){l.openNode(a,vr(i,f,p,h)),l.addText(va(f.content)),l.closeNode()}:(e[s+"_open"]=function(l,f,p,h){return l.openNode(a,vr(i,f,p,h))},e[s+"_close"]=function(l){return l.closeNode()})}else if(i.node){var c=r.nodeType(i.node);e[s]=function(l,f,p,h){return l.addNode(c,vr(i,f,p,h))}}else if(i.mark){var u=r.marks[i.mark];qo(i,s)?e[s]=function(l,f,p,h){l.openMark(u.create(vr(i,f,p,h))),l.addText(va(f.content)),l.closeMark(u)}:(e[s+"_open"]=function(l,f,p,h){return l.openMark(u.create(vr(i,f,p,h)))},e[s+"_close"]=function(l){return l.closeMark(u)})}else if(i.ignore)qo(i,s)?e[s]=zo:(e[s+"_open"]=zo,e[s+"_close"]=zo);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i))};for(var o in t)n(o);return e.text=function(s,i){return s.addText(i.content)},e.inline=function(s,i){return s.parseTokens(i.children)},e.softbreak=e.softbreak||function(s){return s.addText(`
`)},e}var Ju=function(t,e,n){this.tokens=n,this.schema=t,this.tokenizer=e,this.tokenHandlers=i$(t,n)};Ju.prototype.parse=function(t){var e=new se(this.schema,this.tokenHandlers),n;e.parseTokens(this.tokenizer.parse(t,{}));do n=e.closeNode();while(e.stack.length);return n||this.schema.topNodeType.createAndFill()};function ya(r,t){for(;++t<r.length;)if(r[t].type!="list_item_open")return r[t].hidden;return!1}var a$=new Ju(o$,n$("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:function(r,t,e){return{tight:ya(t,e)}}},ordered_list:{block:"ordered_list",getAttrs:function(r,t,e){return{order:+r.attrGet("start")||1,tight:ya(t,e)}}},heading:{block:"heading",getAttrs:function(r){return{level:+r.tag.slice(1)}}},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:function(r){return{params:r.info||""}},noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(r){return{src:r.attrGet("src"),title:r.attrGet("title")||null,alt:r.children[0]&&r.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(r){return{href:r.attrGet("href"),title:r.attrGet("title")||null}}},code_inline:{mark:"code",noCloseToken:!0}}),zs=function(t,e){this.nodes=t,this.marks=e};zs.prototype.serialize=function(t,e){var n=new ft(this.nodes,this.marks,e);return n.renderContent(t),n.out};var dt=new zs({blockquote:function(t,e){t.wrapBlock("> ",null,e,function(){return t.renderContent(e)})},code_block:function(t,e){t.write("```"+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},heading:function(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e),t.closeBlock(e)},horizontal_rule:function(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list:function(t,e){t.renderList(e,"  ",function(){return(e.attrs.bullet||"*")+" "})},ordered_list:function(t,e){var n=e.attrs.order||1,o=String(n+e.childCount-1).length,s=t.repeat(" ",o+2);t.renderList(e,s,function(i){var a=String(n+i);return t.repeat(" ",o-a.length)+a+". "})},list_item:function(t,e){t.renderContent(e)},paragraph:function(t,e){t.renderInline(e),t.closeBlock(e)},image:function(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break:function(t,e,n,o){for(var s=o+1;s<n.childCount;s++)if(n.child(s).type!=e.type){t.write(`\\
`);return}},text:function(t,e){t.text(e.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function(t,e,n,o){return ka(e,n,o,1)?"<":"["},close:function(t,e,n,o){return ka(e,n,o,-1)?">":"]("+e.attrs.href+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")"}},code:{open:function(t,e,n,o){return ba(n.child(o),-1)},close:function(t,e,n,o){return ba(n.child(o-1),1)},escape:!1}});function ba(r,t){var e=/`+/g,n,o=0;if(r.isText)for(;n=e.exec(r.text);)o=Math.max(o,n[0].length);for(var s=o>0&&t>0?" `":"`",i=0;i<o;i++)s+="`";return o>0&&t<0&&(s+=" "),s}function ka(r,t,e,n){if(r.attrs.title||!/^\w+:/.test(r.attrs.href))return!1;var o=t.child(e+(n<0?-1:0));if(!o.isText||o.text!=r.attrs.href||o.marks[o.marks.length-1]!=r)return!1;if(e==(n<0?1:t.childCount-1))return!0;var s=t.child(e+(n<0?-2:1));return!r.isInSet(s.marks)}var ft=function(t,e,n){this.nodes=t,this.marks=e,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=n||{},typeof this.options.tightLists>"u"&&(this.options.tightLists=!1)};ft.prototype.flushClose=function(t){if(this.closed){if(this.atBlank()||(this.out+=`
`),t==null&&(t=2),t>1){var e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(var o=1;o<t;o++)this.out+=e+`
`}this.closed=!1}};ft.prototype.wrapBlock=function(t,e,n,o){var s=this.delim;this.write(e||t),this.delim+=t,o(),this.delim=s,this.closeBlock(n)};ft.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)};ft.prototype.ensureNewLine=function(){this.atBlank()||(this.out+=`
`)};ft.prototype.write=function(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)};ft.prototype.closeBlock=function(t){this.closed=t};ft.prototype.text=function(t,e){for(var n=t.split(`
`),o=0;o<n.length;o++){var s=this.atBlank()||this.closed;this.write(),this.out+=e!==!1?this.esc(n[o],s):n[o],o!=n.length-1&&(this.out+=`
`)}};ft.prototype.render=function(t,e,n){if(typeof e=="number")throw new Error("!");if(!this.nodes[t.type.name])throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");this.nodes[t.type.name](this,t,e,n)};ft.prototype.renderContent=function(t){var e=this;t.forEach(function(n,o,s){return e.render(n,t,s)})};ft.prototype.renderInline=function(t){var e=this,n=[],o="",s=function(i,a,c){var u=i?i.marks:[];i&&i.type.name==="hard_break"&&(u=u.filter(function(T){if(c+1==t.childCount)return!1;var I=t.child(c+1);return T.isInSet(I.marks)&&(!I.isText||/\S/.test(I.text))}));var l=o;if(o="",i&&i.isText&&u.some(function(T){var I=e.marks[T.type.name];return I&&I.expelEnclosingWhitespace})){var f=/^(\s*)(.*?)(\s*)$/m.exec(i.text),p=f[1],h=f[2],d=f[3];l+=p,o=d,(p||d)&&(i=h?i.withText(h):null,i||(u=n))}var m=u.length&&u[u.length-1],v=m&&e.marks[m.type.name].escape===!1,y=u.length-(v?1:0);t:for(var g=0;g<y;g++){var k=u[g];if(!e.marks[k.type.name].mixable)break;for(var b=0;b<n.length;b++){var D=n[b];if(!e.marks[D.type.name].mixable)break;if(k.eq(D)){g>b?u=u.slice(0,b).concat(k).concat(u.slice(b,g)).concat(u.slice(g+1,y)):b>g&&(u=u.slice(0,g).concat(u.slice(g+1,b)).concat(k).concat(u.slice(b,y)));continue t}}}for(var C=0;C<Math.min(n.length,y)&&u[C].eq(n[C]);)++C;for(;C<n.length;)e.text(e.markString(n.pop(),!1,t,c),!1);if(l&&e.text(l),i){for(;n.length<y;){var S=u[n.length];n.push(S),e.text(e.markString(S,!0,t,c),!1)}v&&i.isText?e.text(e.markString(m,!0,t,c)+i.text+e.markString(m,!1,t,c+1),!1):e.render(i,t,c)}};t.forEach(s),s(null,null,t.childCount)};ft.prototype.renderList=function(t,e,n){var o=this;this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var s=typeof t.attrs.tight<"u"?t.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=s,t.forEach(function(a,c,u){u&&s&&o.flushClose(1),o.wrapBlock(e,n(u),t,function(){return o.render(a,t,u)})}),this.inTightList=i};ft.prototype.esc=function(t,e){return t=t.replace(/[`*\\~\[\]_]/g,"\\$&"),e&&(t=t.replace(/^[:#\-*+>]/,"\\$&").replace(/^(\s*\d+)\./,"$1\\.")),t};ft.prototype.quote=function(t){var e=t.indexOf('"')==-1?'""':t.indexOf("'")==-1?"''":"()";return e[0]+t+e[1]};ft.prototype.repeat=function(t,e){for(var n="",o=0;o<e;o++)n+=t;return n};ft.prototype.markString=function(t,e,n,o){var s=this.marks[t.type.name],i=e?s.open:s.close;return typeof i=="string"?i:i(this,t,n,o)};ft.prototype.getEnclosingWhitespace=function(t){return{leading:(t.match(/^(\s+)/)||[])[0],trailing:(t.match(/(\s+)$/)||[])[0]}};var c$=wa(function(r,t){var e=Gs&&Gs.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(ze),o=/^ *\[([\sx])] /i;function s(g,k){k===void 0&&(k={enabled:!1,label:!1,lineNumber:!1}),g.core.ruler.after("inline","task-lists",function(b){return i(b,k)}),g.renderer.rules.taskListItemCheckbox=function(b){var D=b[0],C=D.attrGet("checked")?'checked="" ':"",S=D.attrGet("disabled")?'disabled="" ':"",T=D.attrGet("line"),I='id="'.concat(D.attrGet("id"),'" '),O=T&&k.lineNumber?'data-line="'.concat(T,'" '):"";return'<input class="task-list-item-checkbox" type="checkbox" '.concat(C).concat(S).concat(O).concat(I,"/>")},g.renderer.rules.taskListItemLabel_close=function(){return"</label>"},g.renderer.rules.taskListItemLabel_open=function(b){var D=b[0],C=D.attrGet("id");return'<label for="'.concat(C,'">')}}t.default=s;function i(g,k){for(var b=g.tokens,D=2;D<b.length;D++)if(!!c(b,D)){u(b[D],k),b[D-2].attrJoin("class","task-list-item ".concat(k.enabled?" enabled":""));var C=a(b,D-2);C&&C.attrJoin("class","contains-task-list")}return!1}function a(g,k){for(var b=g[k].level-1,D=k-1;D>=0;D--)if(g[D].level===b)return g[D]}function c(g,k){return d(g[k])&&m(g[k-1])&&v(g[k-2])&&y(g[k])}function u(g,k){if(g.children!=null){var b=l(g);g.children.splice(0,0,f(g,k.enabled,b)),g.children[1].content=g.children[1].content.replace(o,""),k.label&&(g.children.splice(1,0,p(b)),g.children.push(h()))}}function l(g){return g.map?"task-item-".concat(g.map[0]):"task-item-".concat(Math.ceil(Math.random()*(1e4*1e3)-1e3))}function f(g,k,b){var D=new n.default("taskListItemCheckbox","",0);k||D.attrSet("disabled","true"),g.map&&D.attrSet("line",g.map[0].toString()),D.attrSet("id",b);var C=o.exec(g.content),S=(C==null?void 0:C[1].toLowerCase())==="x";return S&&D.attrSet("checked","true"),D}function p(g){var k=new n.default("taskListItemLabel_open","",1);return k.attrSet("id",g),k}function h(){return new n.default("taskListItemLabel_close","",-1)}function d(g){return g.type==="inline"}function m(g){return g.type==="paragraph_open"}function v(g){return g.type==="list_item_open"}function y(g){return o.test(g.content)}});const u$=el(c$);function Vs(r){this.j={},this.jr=[],this.jd=null,this.t=r}Vs.prototype={accepts:function(){return!!this.t},tt:function(t,e){if(e&&e.j)return this.j[t]=e,e;var n=e,o=this.j[t];if(o)return n&&(o.t=n),o;o=$();var s=Cn(this,t);return s?(Object.assign(o.j,s.j),o.jr.append(s.jr),o.jr=s.jd,o.t=n||s.t):o.t=n,this.j[t]=o,o}};var $=function(){return new Vs},F=function(t){return new Vs(t)},_=function(t,e,n){t.j[e]||(t.j[e]=n)},et=function(t,e,n){t.jr.push([e,n])},Cn=function(t,e){var n=t.j[e];if(n)return n;for(var o=0;o<t.jr.length;o++){var s=t.jr[o][0],i=t.jr[o][1];if(s.test(e))return i}return t.jd},V=function(t,e,n){for(var o=0;o<e.length;o++)_(t,e[o],n)},l$=function(t,e){for(var n=0;n<e.length;n++){var o=e[n][0],s=e[n][1];_(t,o,s)}},we=function(t,e,n,o){for(var s=0,i=e.length,a;s<i&&(a=t.j[e[s]]);)t=a,s++;if(s>=i)return[];for(;s<i-1;)a=o(),_(t,e[s],a),t=a,s++;_(t,e[i-1],n)},Vt="DOMAIN",ae="LOCALHOST",Gt="TLD",Bt="NUM",ar="PROTOCOL",Hs="MAILTO",$u="WS",js="NL",Je="OPENBRACE",wr="OPENBRACKET",Sr="OPENANGLEBRACKET",Mr="OPENPAREN",Te="CLOSEBRACE",$e="CLOSEBRACKET",Ge="CLOSEANGLEBRACKET",Ze="CLOSEPAREN",xn="AMPERSAND",An="APOSTROPHE",En="ASTERISK",Ye="AT",_n="BACKSLASH",wn="BACKTICK",Sn="CARET",Tr="COLON",Us="COMMA",Mn="DOLLAR",ge="DOT",Tn="EQUALS",Ks="EXCLAMATION",On="HYPHEN",Fn="PERCENT",Nn="PIPE",Bn="PLUS",Rn="POUND",Ln="QUERY",Ws="QUOTE",Js="SEMI",ce="SLASH",In="TILDE",Pn="UNDERSCORE",qn="SYM",f$=Object.freeze({__proto__:null,DOMAIN:Vt,LOCALHOST:ae,TLD:Gt,NUM:Bt,PROTOCOL:ar,MAILTO:Hs,WS:$u,NL:js,OPENBRACE:Je,OPENBRACKET:wr,OPENANGLEBRACKET:Sr,OPENPAREN:Mr,CLOSEBRACE:Te,CLOSEBRACKET:$e,CLOSEANGLEBRACKET:Ge,CLOSEPAREN:Ze,AMPERSAND:xn,APOSTROPHE:An,ASTERISK:En,AT:Ye,BACKSLASH:_n,BACKTICK:wn,CARET:Sn,COLON:Tr,COMMA:Us,DOLLAR:Mn,DOT:ge,EQUALS:Tn,EXCLAMATION:Ks,HYPHEN:On,PERCENT:Fn,PIPE:Nn,PLUS:Bn,POUND:Rn,QUERY:Ln,QUOTE:Ws,SEMI:Js,SLASH:ce,TILDE:In,UNDERSCORE:Pn,SYM:qn}),Da="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),yr=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,br=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,kr=/\uFE0F/,Dr=/\d/,Ca=/\s/;function p$(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=$(),e=F(Bt),n=F(Vt),o=$(),s=F($u),i=[[Dr,n],[yr,n],[br,n],[kr,n]],a=function(){var b=F(Vt);return b.j={"-":o},b.jr=[].concat(i),b},c=function(b){var D=a();return D.t=b,D};l$(t,[["'",F(An)],["{",F(Je)],["[",F(wr)],["<",F(Sr)],["(",F(Mr)],["}",F(Te)],["]",F($e)],[">",F(Ge)],[")",F(Ze)],["&",F(xn)],["*",F(En)],["@",F(Ye)],["`",F(wn)],["^",F(Sn)],[":",F(Tr)],[",",F(Us)],["$",F(Mn)],[".",F(ge)],["=",F(Tn)],["!",F(Ks)],["-",F(On)],["%",F(Fn)],["|",F(Nn)],["+",F(Bn)],["#",F(Rn)],["?",F(Ln)],['"',F(Ws)],["/",F(ce)],[";",F(Js)],["~",F(In)],["_",F(Pn)],["\\",F(_n)]]),_(t,`
`,F(js)),et(t,Ca,s),_(s,`
`,$()),et(s,Ca,s);for(var u=0;u<Da.length;u++)we(t,Da[u],c(Gt),a);var l=a(),f=a(),p=a(),h=a();we(t,"file",l,a),we(t,"ftp",f,a),we(t,"http",p,a),we(t,"mailto",h,a);var d=a(),m=F(ar),v=F(Hs);_(f,"s",d),_(f,":",m),_(p,"s",d),_(p,":",m),_(l,":",m),_(d,":",m),_(h,":",v);for(var y=a(),g=0;g<r.length;g++)we(t,r[g],y,a);return _(y,":",m),we(t,"localhost",c(ae),a),et(t,Dr,e),et(t,yr,n),et(t,br,n),et(t,kr,n),et(e,Dr,e),et(e,yr,n),et(e,br,n),et(e,kr,n),_(e,"-",o),_(n,"-",o),_(o,"-",o),et(n,Dr,n),et(n,yr,n),et(n,br,n),et(n,kr,n),et(o,Dr,n),et(o,yr,n),et(o,br,n),et(o,kr,n),t.jd=F(qn),t}function h$(r,t){for(var e=d$(t.replace(/[A-Z]/g,function(h){return h.toLowerCase()})),n=e.length,o=[],s=0,i=0;i<n;){for(var a=r,c=null,u=0,l=null,f=-1,p=-1;i<n&&(c=Cn(a,e[i]));)a=c,a.accepts()?(f=0,p=0,l=a):f>=0&&(f+=e[i].length,p++),u+=e[i].length,s+=e[i].length,i++;s-=f,i-=p,u-=f,o.push({t:l.t,v:t.substr(s-u,u),s:s-u,e:s})}return o}function d$(r){for(var t=[],e=r.length,n=0;n<e;){var o=r.charCodeAt(n),s=void 0,i=o<55296||o>56319||n+1===e||(s=r.charCodeAt(n+1))<56320||s>57343?r[n]:r.slice(n,n+2);t.push(i),n+=i.length}return t}var Gu={defaultProtocol:"http",events:null,format:xa,formatHref:xa,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function xa(r){return r}function m$(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(r.prototype);for(var o in e)n[o]=e[o];return n.constructor=t,t.prototype=n,t}function zn(){}zn.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gu.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}}};function Ve(r,t){function e(n,o){this.t=r,this.v=n,this.tk=o}return m$(zn,e,t),e}var Zu=Ve("email",{isLink:!0}),cs=Ve("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),us=Ve("text"),Yu=Ve("nl"),de=Ve("url",{isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gu.defaultProtocol,e=this.tk,n=!1,o=!1,s=[],i=0;e[i].t===ar;)n=!0,s.push(e[i].v),i++;for(;e[i].t===ce;)o=!0,s.push(e[i].v),i++;for(;i<e.length;i++)s.push(e[i].v);return s=s.join(""),n||o||(s="".concat(t,"://").concat(s)),s},hasProtocol:function(){return this.tk[0].t===ar}}),g$=Object.freeze({__proto__:null,MultiToken:zn,Base:zn,createTokenClass:Ve,MailtoEmail:Zu,Email:cs,Text:us,Nl:Yu,Url:de});function v$(){var r=$(),t=$(),e=$(),n=$(),o=$(),s=$(),i=$(),a=F(de),c=$(),u=F(de),l=F(de),f=$(),p=$(),h=$(),d=$(),m=$(),v=F(de),y=F(de),g=F(de),k=F(de),b=$(),D=$(),C=$(),S=$(),T=$(),I=$(),O=F(cs),K=$(),Ct=F(cs),E=F(Zu),W=$(),L=$(),R=$(),$t=$(),$r=F(Yu);_(r,js,$r),_(r,ar,t),_(r,Hs,e),_(t,ce,n),_(n,ce,o),_(r,Gt,s),_(r,Vt,s),_(r,ae,a),_(r,Bt,s),_(o,Gt,l),_(o,Vt,l),_(o,Bt,l),_(o,ae,l),_(s,ge,i),_(T,ge,I),_(i,Gt,a),_(i,Vt,s),_(i,Bt,s),_(i,ae,s),_(I,Gt,O),_(I,Vt,T),_(I,Bt,T),_(I,ae,T),_(a,ge,i),_(O,ge,I),_(a,Tr,c),_(a,ce,l),_(c,Bt,u),_(u,ce,l),_(O,Tr,K),_(K,Bt,Ct);var pt=[xn,En,Ye,_n,wn,Sn,Mn,Vt,Tn,On,ae,Bt,Fn,Nn,Bn,Rn,ar,ce,qn,In,Gt,Pn],ht=[An,Ge,Te,$e,Ze,Tr,Us,ge,Ks,Sr,Je,wr,Mr,Ln,Ws,Js];_(l,Je,p),_(l,wr,h),_(l,Sr,d),_(l,Mr,m),_(f,Je,p),_(f,wr,h),_(f,Sr,d),_(f,Mr,m),_(p,Te,l),_(h,$e,l),_(d,Ge,l),_(m,Ze,l),_(v,Te,l),_(y,$e,l),_(g,Ge,l),_(k,Ze,l),_(b,Te,l),_(D,$e,l),_(C,Ge,l),_(S,Ze,l),V(p,pt,v),V(h,pt,y),V(d,pt,g),V(m,pt,k),V(p,ht,b),V(h,ht,D),V(d,ht,C),V(m,ht,S),V(v,pt,v),V(y,pt,y),V(g,pt,g),V(k,pt,k),V(v,ht,v),V(y,ht,y),V(g,ht,g),V(k,ht,k),V(b,pt,v),V(D,pt,y),V(C,pt,g),V(S,pt,k),V(b,ht,b),V(D,ht,D),V(C,ht,C),V(S,ht,S),V(l,pt,l),V(f,pt,l),V(l,ht,f),V(f,ht,f),_(e,Gt,E),_(e,Vt,E),_(e,Bt,E),_(e,ae,E),V(E,pt,E),V(E,ht,W),V(W,pt,E),V(W,ht,W);var mr=[xn,An,En,_n,wn,Sn,Te,Mn,Vt,Tn,On,Bt,Je,Fn,Nn,Bn,Rn,Ln,ce,qn,In,Gt,Pn];return V(s,mr,L),_(s,Ye,R),V(a,mr,L),_(a,Ye,R),V(i,mr,L),V(L,mr,L),_(L,Ye,R),_(L,ge,$t),V($t,mr,L),_(R,Gt,T),_(R,Vt,T),_(R,Bt,T),_(R,ae,O),r}function y$(r,t,e){for(var n=e.length,o=0,s=[],i=[];o<n;){for(var a=r,c=null,u=null,l=0,f=null,p=-1;o<n&&!(c=Cn(a,e[o].t));)i.push(e[o++]);for(;o<n&&(u=c||Cn(a,e[o].t));)c=null,a=u,a.accepts()?(p=0,f=a):p>=0&&p++,o++,l++;if(p<0)for(var h=o-l;h<o;h++)i.push(e[h]);else{i.length>0&&(s.push(Vo(us,t,i)),i=[]),o-=p,l-=p;var d=f.t,m=e.slice(o-l,o);s.push(Vo(d,t,m))}}return i.length>0&&s.push(Vo(us,t,i)),s}function Vo(r,t,e){var n=e[0].s,o=e[e.length-1].e,s=t.substr(n,o-n);return new r(s,e)}var Ht={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function b$(){Ht.scanner={start:p$(Ht.customProtocols),tokens:f$},Ht.parser={start:v$(),tokens:g$};for(var r={createTokenClass:Ve},t=0;t<Ht.pluginQueue.length;t++)Ht.pluginQueue[t][1]({scanner:Ht.scanner,parser:Ht.parser,utils:r});Ht.initialized=!0}function Qu(r){return Ht.initialized||b$(),y$(Ht.parser.start,r,h$(Ht.scanner.start,r))}function $s(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=Qu(r),n=[],o=0;o<e.length;o++){var s=e[o];s.isLink&&(!t||s.t===t)&&n.push(s.toObject())}return n}function Aa(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=Qu(r);return e.length===1&&e[0].isLink&&(!t||e[0].t===t)}function k$(r){return new Dt({key:new Ot("autolink"),appendTransaction:(t,e,n)=>{const o=t.some(l=>l.docChanged)&&!e.doc.eq(n.doc),s=t.some(l=>l.getMeta("preventAutolink"));if(!o||s)return;const{tr:i}=n,a=Yd(e.doc,t),{mapping:c}=a;if(em(a).forEach(({oldRange:l,newRange:f})=>{mn(l.from,l.to,e.doc).filter(p=>p.mark.type===r.type).forEach(p=>{const h=c.map(p.from),d=c.map(p.to),m=mn(h,d,n.doc).filter(D=>D.mark.type===r.type);if(!m.length)return;const v=m[0],y=e.doc.textBetween(p.from,p.to,void 0," "),g=n.doc.textBetween(v.from,v.to,void 0," "),k=Aa(y),b=Aa(g);k&&!b&&i.removeMark(v.from,v.to,r.type)}),Qd(n.doc,f,p=>p.isTextblock).forEach(p=>{const h=n.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");$s(h).filter(d=>d.isLink).map(d=>({...d,from:p.pos+d.start+1,to:p.pos+d.end+1})).filter(d=>{const m=f.from>=d.from&&f.from<=d.to,v=f.to>=d.from&&f.to<=d.to;return m||v}).forEach(d=>{i.addMark(d.from,d.to,r.type.create({href:d.href}))})})}),!!i.steps.length)return i}})}function D$(r){return new Dt({key:new Ot("handleClickLink"),props:{handleClick:(t,e,n)=>{var o;const s=ru(t.state,r.type.name);return((o=n.target)===null||o===void 0?void 0:o.closest("a"))&&s.href?(window.open(s.href,s.target),!0):!1}}})}function C$(r){return new Dt({key:new Ot("handlePasteLink"),props:{handlePaste:(t,e,n)=>{const{state:o}=t,{selection:s}=o,{empty:i}=s;if(i)return!1;let a="";n.content.forEach(u=>{a+=u.textContent});const c=$s(a).find(u=>u.isLink&&u.value===a);return!a||!c?!1:(r.editor.commands.setMark(r.type,{href:c.href}),!0)}}})}const Xu=Ce.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML(){return[{tag:"a[href]"}]},renderHTML({HTMLAttributes:r}){return["a",ot(this.options.HTMLAttributes,r),0]},addCommands(){return{setLink:r=>({chain:t})=>t().setMark(this.name,r).setMeta("preventAutolink",!0).run(),toggleLink:r=>({chain:t})=>t().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Re({find:r=>$s(r).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:r=>{var t;return{href:(t=r.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const r=[];return this.options.autolink&&r.push(k$({type:this.type})),this.options.openOnClick&&r.push(D$({type:this.type})),this.options.linkOnPaste&&r.push(C$({editor:this.editor,type:this.type})),r}}),Ea={marks:{em:dt.marks.em,[su.name]:dt.marks.strong,[au.name]:dt.marks.code,[vu.name]:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},[Xu.name]:dt.marks.link,[Du.name]:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}},nodes:Object.assign(Object.assign({},dt.nodes),{[ou.name]:(r,t)=>{t.attrs.multiline?(r.write(">>>"),r.ensureNewLine(),r.renderContent(t),r.ensureNewLine(),r.write(">>>"),r.closeBlock(t)):r.wrapBlock("> ",null,t,()=>r.renderContent(t))},[cu.name]:dt.nodes.code_block,[lu.name]:dt.nodes.heading,[uu.name]:dt.nodes.hard_break,[gu.name]:dt.nodes.horizontal_rule,[Au.name]:dt.nodes.bullet_list,[bu.name]:dt.nodes.ordered_list,[yu.name]:dt.nodes.list_item,[ku.name]:dt.nodes.paragraph,[Text.name]:dt.nodes.text,[Cu.name]:(r,t)=>{r.write(`[${t.attrs.checked?"x":" "}] `),r.renderContent(t)},[xu.name]:(r,t)=>{t.attrs.numeric?dt.nodes.ordered_list(r,t):dt.nodes.bullet_list(r,t)}})},x$=new zs(Ea.nodes,Ea.marks);let Ho=null;const _a={serialize:r=>x$.serialize(r,{tightLists:!0}),parse:r=>(Ho||(Ho=a$.tokenizer.enable("strikethrough").use(u$,{enabled:!0,label:!0,labelAfter:!0})),Ho.render(r))};var N;(function(r){r[r.ITALIC=0]="ITALIC",r[r.BOLD=1]="BOLD",r[r.H1=2]="H1",r[r.H2=3]="H2",r[r.STRIKE=4]="STRIKE",r[r.OL=5]="OL",r[r.UL=6]="UL",r[r.LINK=7]="LINK",r[r.CODE_BLOCK=8]="CODE_BLOCK",r[r.BLOCKQUOTE=9]="BLOCKQUOTE",r[r.TASK_LIST=10]="TASK_LIST"})(N||(N={}));const zt=r=>r.chain().focus();function A$(r,t){switch(t){case N.H1:zt(r).toggleHeading({level:1}).run();break;case N.H2:zt(r).toggleHeading({level:2}).run();break;case N.BOLD:zt(r).toggleBold().run();break;case N.ITALIC:zt(r).toggleItalic().run();break;case N.STRIKE:zt(r).toggleStrike().run();break;case N.LINK:zt(r).unsetLink().run();break;case N.OL:zt(r).toggleOrderedList().run();break;case N.UL:zt(r).toggleBulletList().run();break;case N.BLOCKQUOTE:zt(r).toggleBlockquote().run();break;case N.CODE_BLOCK:zt(r).toggleCodeBlock().run();break;case N.TASK_LIST:zt(r).toggleTaskList().run();break;default:console.warn("case missing:",t)}}function E$(r,t){if(!r)return!1;switch(t){case N.H1:return r.isActive("heading",{level:1});case N.H2:return r.isActive("heading",{level:2});case N.BOLD:return r.isActive("bold");case N.ITALIC:return r.isActive("italic");case N.STRIKE:return r.isActive("strike");case N.LINK:return r.isActive("link");case N.OL:return r.isActive("orderedList");case N.UL:return r.isActive("bulletList");case N.BLOCKQUOTE:return r.isActive("blockquote");case N.CODE_BLOCK:return r.isActive("code");case N.TASK_LIST:return r.isActive("taskList");default:console.warn("case missing:",t)}}const _$="ino-markdown-editor .markdown-editor{border-radius:10px}ino-markdown-editor .markdown-editor--readonly .markdown-editor__toolbar{display:none}ino-markdown-editor .markdown-editor--readonly .ProseMirror{padding:0;border:0}ino-markdown-editor .markdown-editor--readonly .ProseMirror-focused{outline:none}ino-markdown-editor .markdown-editor__error-text{display:block;padding:10px;color:#9f0028}ino-markdown-editor .markdown-editor__toolbar{display:grid;grid-template-columns:auto auto;justify-content:space-between;border-radius:10px;background-color:#f9f9f9;padding:10px 20px;margin-bottom:10px}ino-markdown-editor .toolbar__action-button{--ino-icon-color-primary:#9d9d9d;border:0;margin:0;padding:1px 2px;border-radius:10px;background-color:transparent;font-size:22px}ino-markdown-editor .toolbar__action-button:hover{--ino-icon-color-primary:#0d10f3;background-color:rgba(13, 16, 243, 0.1);color:#0d10f3;cursor:pointer}ino-markdown-editor .toolbar__action-button--active{--ino-icon-color-primary:#0d10f3;background-color:rgba(13, 16, 243, 0.1);color:#0d10f3;box-shadow:inset 0 3px 6px rgba(0, 0, 0, 0.16)}ino-markdown-editor .toolbar__action-button ino-icon{vertical-align:middle;padding:5px}ino-markdown-editor .toolbar__view-mode{border-radius:0;margin:0}ino-markdown-editor .toolbar__view-mode:first-of-type{border-radius:10px 0 0 10px}ino-markdown-editor .toolbar__view-mode:last-of-type{border-radius:0 10px 10px 0}ino-markdown-editor .toolbar__text-format--show{display:block}ino-markdown-editor .toolbar__text-format--hide{display:none}ino-markdown-editor .markdown-editor__content__container{height:100%;width:100%}ino-markdown-editor .markdown-editor__content{overflow:auto;max-height:var(--ino-markdown-editor-max-height, none)}ino-markdown-editor .markdown-editor__content ino-textarea{width:100%;height:100%}ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined{display:flex}ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#e7e7e7}ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#9b9b9b}ino-markdown-editor .markdown-editor__content ino-textarea .mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{min-height:var(--ino-markdown-editor-min-height, 100px);line-height:normal;letter-spacing:0}ino-markdown-editor .show-editor{display:block}ino-markdown-editor .hide-editor{display:none}ino-markdown-editor .ProseMirror{min-height:var(--ino-markdown-editor-min-height, 100px);padding:15px;border-radius:4px;border:1px solid #e7e7e7;color:rgba(0, 0, 0, 0.87)}ino-markdown-editor .ProseMirror:hover:not(ino-markdown-editor .ProseMirror-focused){border-color:#9b9b9b}ino-markdown-editor .ProseMirror-focused{outline:#3d40f5 auto 1px}ino-markdown-editor .ProseMirror *:first-child{margin-top:0;padding-top:0}ino-markdown-editor .ProseMirror *:last-child{margin-bottom:0;padding-bottom:0}ino-markdown-editor .ProseMirror blockquote{padding-left:10px;border-left:3px solid #c1c1c1}ino-markdown-editor .ProseMirror p{margin-top:0;margin-bottom:1.2em}ino-markdown-editor .ProseMirror pre code{display:block;background-color:rgba(193, 193, 193, 0.15);white-space:pre;-webkit-overflow-scrolling:touch;overflow-x:auto;max-width:100%;min-width:100px;padding:6px 8px}ino-markdown-editor .ProseMirror ul[data-type=taskList]{list-style:none}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList]{padding-left:12px}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList] p{margin:0}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList] li{display:flex}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList] li>label{flex:0 0 auto;margin-right:0.5rem;user-select:none}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList] li>div{flex:1 1 auto;display:inline-block}ino-markdown-editor .ProseMirror :is(ul,ol)[data-type=taskList] li input[type=checkbox]{accent-color:#3d40f5}",w$=class{constructor(r){tl(this,r),this.viewModeChange=co(this,"viewModeChange",7),this.valueChange=co(this,"valueChange",7),this.inoBlur=co(this,"inoBlur",3),this.viewMode="preview",this.toolbarActionsState=new Set,this.errorMessage="",this.handlePreviewBlur=()=>{const t=this.htmlToMarkdown();this.errorMessage||this.valueChange.emit(t),this.inoBlur.emit()},this.onEditorTransaction=()=>{this.toolbarActionsState=new Set(Object.values(N).filter(t=>typeof t=="number"&&E$(this.editor,t)))},this.onTextareaChange=t=>{t.stopPropagation(),this.textareaRef.value=t.detail},this.handleMarkdownBlur=t=>{t.stopPropagation(),this.editor.commands.clearContent(),this.editor.commands.setContent(this.markdownToHtml(this.textareaRef.value)),this.errorMessage||this.valueChange.emit(this.textareaRef.value),this.inoBlur.emit()}}handleInitialValueChange(r){this.initializeEditor(r)}handleViewModeChange(r){var t;r===Nt.MARKDOWN&&this.textareaRef?(this.textareaRef.value=this.htmlToMarkdown(),this.textareaRef.rows=this.textareaRef.value.split(`
`).length):(t=this.editor)===null||t===void 0||t.setEditable(r!==Nt.READONLY)}componentDidLoad(){this.createEditor(),this.initialValue&&this.initializeEditor(this.initialValue),this.textareaRef.addEventListener("valueChange",this.onTextareaChange),this.textareaRef.addEventListener("inoBlur",this.handleMarkdownBlur)}disconnectedCallback(){var r;(r=this.editor)===null||r===void 0||r.destroy(),this.textareaRef.removeEventListener("valueChange",this.onTextareaChange),this.textareaRef.removeEventListener("inoBlur",this.handleMarkdownBlur)}initializeEditor(r){!this.editor||(this.editor.commands.setContent(this.markdownToHtml(r),!0),this.textareaRef.value=this.htmlToMarkdown(),this.textareaRef.rows=this.textareaRef.value.split(`
`).length)}createEditor(){this.editor=new Gd({element:this.editorRef,extensions:[qm.configure({bulletList:!1}),Au,Xu,Cu,xu],onBlur:this.handlePreviewBlur,onTransaction:this.onEditorTransaction,editable:this.viewMode!==Nt.READONLY})}htmlToMarkdown(){return this.tryParse(()=>{const r=this.editor.schema.nodeFromJSON(this.editor.getJSON());return _a.serialize(r)},this.textareaRef.value)}markdownToHtml(r=this.initialValue){return this.tryParse(()=>_a.parse(r),this.editor.getHTML())}tryParse(r,t){try{return this.errorMessage="",r()}catch(e){return this.errorMessage=e.message,console.error(e),t}}handleViewModeBtnClick(r){this.errorMessage||this.viewModeChange.emit(r)}handleToolbarActionClick(r){A$(this.editor,r)}render(){const r=this.viewMode===Nt.READONLY,t=r||this.viewMode===Nt.PREVIEW,e=this.viewMode===Nt.MARKDOWN,n=He({"markdown-editor":!0,"markdown-editor--readonly":r}),o=He({"markdown-editor__content__container":!0,"show-editor":t,"hide-editor":e}),s=He({"show-editor":e,"hide-editor":t}),i=u=>He({"toolbar__action-button":!0,"toolbar__view-mode":!0,"toolbar__action-button--active":this.viewMode===u}),a=He({"toolbar__text-format":!0,"toolbar__text-format--show":t,"toolbar__text-format--hide":e}),c=u=>He({"toolbar__action-button":!0,"toolbar__action-button--active":this.toolbarActionsState.has(u)});return H("div",{class:n},H("div",{class:"markdown-editor__toolbar"},H("div",null,H("button",{class:i(Nt.PREVIEW),onClick:()=>this.handleViewModeBtnClick(Nt.PREVIEW)},H("ino-icon",{icon:"edit_text"})),H("button",{class:i(Nt.MARKDOWN),onClick:()=>this.handleViewModeBtnClick(Nt.MARKDOWN)},H("ino-icon",{icon:"code"}))),H("div",{class:a},H("button",{class:c(N.H1),onClick:()=>this.handleToolbarActionClick(N.H1)},H("ino-icon",{icon:"headline_one"})),H("button",{class:c(N.H2),onClick:()=>this.handleToolbarActionClick(N.H2)},H("ino-icon",{icon:"headline_two"})),H("button",{class:c(N.BOLD),onClick:()=>this.handleToolbarActionClick(N.BOLD)},H("ino-icon",{icon:"bold"})),H("button",{class:c(N.ITALIC),onClick:()=>this.handleToolbarActionClick(N.ITALIC)},H("ino-icon",{icon:"italic"})),H("button",{class:c(N.STRIKE),onClick:()=>this.handleToolbarActionClick(N.STRIKE)},H("ino-icon",{icon:"strikethrough"})),H("button",{class:c(N.LINK),onClick:()=>this.handleToolbarActionClick(N.LINK)},H("ino-icon",{icon:"link"})),H("button",{class:c(N.UL),onClick:()=>this.handleToolbarActionClick(N.UL)},H("ino-icon",{icon:"bullet_list"})),H("button",{class:c(N.OL),onClick:()=>this.handleToolbarActionClick(N.OL)},H("ino-icon",{icon:"numeric_list"})),H("button",{class:c(N.TASK_LIST),onClick:()=>this.handleToolbarActionClick(N.TASK_LIST)},H("ino-icon",{icon:"checkmark"})),H("button",{class:c(N.BLOCKQUOTE),onClick:()=>this.handleToolbarActionClick(N.BLOCKQUOTE)},H("ino-icon",{icon:"quote"})),H("button",{class:c(N.CODE_BLOCK),onClick:()=>this.handleToolbarActionClick(N.CODE_BLOCK)},H("ino-icon",{icon:"code_block"}))),H("ino-popover",{placement:"top-start",controlled:!0,"color-scheme":"transparent",visible:Boolean(this.errorMessage)},H("span",{class:"markdown-editor__error-text"},this.errorMessage))),H("div",{class:"markdown-editor__content"},H("div",{class:o,ref:u=>this.editorRef=u}),H("ino-textarea",{ref:u=>this.textareaRef=u,class:s,cols:100,autogrow:!0,outline:!0})))}static get watchers(){return{initialValue:["handleInitialValueChange"],viewMode:["handleViewModeChange"]}}};w$.style=_$;export{w$ as ino_markdown_editor};
