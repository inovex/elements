import{r as l,c as h,h as i,H as d,g as c}from"./index.59ffc588.js";import{c as p}from"./index-b7e5b0c5.07a60787.js";import{t as f,f as u}from"./tippy.esm-b9178e7b.345a8049.js";import{g}from"./component-utils-1c4ae7be.6d485fb9.js";import{c as m}from"./ponyfill-495ec32d.2f34f215.js";import"./_commonjsHelpers-212d567a.0ea80d68.js";/*!
 * Crafted with ❤ by inovex GmbH
 */const v={name:"hideOnPopperBlur",defaultValue:!0,fn(e){return{onCreate(){e.popper.addEventListener("focusout",t=>{e.props.hideOnPopperBlur&&t.relatedTarget&&!e.popper.contains(t.relatedTarget)&&e.hide()})}}}},C={name:"hideOnEsc",defaultValue:!0,fn({hide:e}){function t(o){o.key==="Escape"&&e()}return{onShow(){document.addEventListener("keydown",t)},onHide(){document.removeEventListener("keydown",t)}}}},b=".tippy-box[data-animation=scale-subtle][data-placement^=top]{transform-origin:bottom}.tippy-box[data-animation=scale-subtle][data-placement^=bottom]{transform-origin:top}.tippy-box[data-animation=scale-subtle][data-placement^=left]{transform-origin:right}.tippy-box[data-animation=scale-subtle][data-placement^=right]{transform-origin:left}.tippy-box[data-animation=scale-subtle][data-state=hidden]{transform:scale(.8);opacity:0}.ino-popover>*{border-radius:6px}.ino-popover.ino-popover--color-scheme-primary>*{font-family:var(--ino-font-family, Lato, Verdana, sans-serif);font-size:1rem;font-weight:400;z-index:9999;background:#5d60f7;color:#fff;box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.3)}.ino-popover.ino-popover--color-scheme-secondary>*{font-family:var(--ino-font-family, Lato, Verdana, sans-serif);font-size:1rem;font-weight:400;z-index:9999;background:#bbd962;color:#fff;box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.3)}.ino-popover.ino-popover--color-scheme-light>*{font-family:var(--ino-font-family, Lato, Verdana, sans-serif);font-size:1rem;font-weight:400;z-index:9999;background:#e7e7e7;color:#000;box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.3)}.ino-popover.ino-popover--color-scheme-transparent>*{font-family:var(--ino-font-family, Lato, Verdana, sans-serif);font-size:1rem;font-weight:400;z-index:9999;background:#fff;color:#777777;box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.3)}",y="data-ino-close",w=class{constructor(e){l(this,e),this.visibleChanged=h(this,"visibleChanged",7),this.placement="auto",this.attachToBody=!1,this.hideOnBlur=!1,this.hideOnEsc=!1,this.distance=10,this.colorScheme="primary",this.interactive=!1,this.followCursor=!1,this.trigger="mouseenter focus",this.controlled=!1,this.visible=!1}placementChanged(){var e;(e=this.tippyInstance)===null||e===void 0||e.setProps({placement:this.placement})}bodyChanged(){this.create()}forChanged(){this.create()}hideOnBlurChanged(){this.create()}hideOnEscChanged(){this.create()}distanceChanged(){var e;(e=this.tippyInstance)===null||e===void 0||e.setProps({offset:[0,this.distance]})}interactiveChanged(){this.create()}followCursorChanged(){this.create()}triggerChanged(){var e;(e=this.tippyInstance)===null||e===void 0||e.setProps({trigger:this.trigger})}async getTippyInstance(){return this.tippyInstance}controlledChanged(){this.create()}visibleChangeHandler(e){var t,o;!this.controlled||(e?(t=this.tippyInstance)===null||t===void 0||t.show():(o=this.tippyInstance)===null||o===void 0||o.hide())}componentDidLoad(){this.create()}create(){var e;(e=this.tippyInstance)===null||e===void 0||e.destroy(),!this.target&&this.for&&console.warn(`The element with the id '${this.for}' could not be found.`);const t=[];this.hideOnBlur&&t.push(v),this.hideOnEsc&&t.push(C);const o=this.followCursor&&this.followCursor!=="false";o&&t.push(u);const s={allowHTML:!0,animation:"scale-subtle",appendTo:this.attachToBody?document.body:this.popoverContainer,content:this.popoverContent,duration:100,followCursor:o?this.followCursor:!1,placement:this.placement,trigger:this.trigger,offset:[0,this.distance],plugins:[...t,{fn:()=>({onMount:()=>{const n=Array.from(this.el.querySelectorAll("ino-datepicker"));n==null||n.forEach(a=>a.redraw());const r=this.popoverContent.querySelector("ino-input[data-ino-focus],ino-datepicker[data-ino-focus],  ino-textarea[data-ino-focus]");r==null||r.setFocus()},onShow:()=>{if(this.controlled&&!this.visible)return this.visibleChanged.emit(!0),!1},onHide:()=>{if(this.controlled&&this.visible)return this.visibleChanged.emit(!1),!1}})}],onShow:()=>{if(this.controlled&&!this.visible)return this.visibleChanged.emit(!0),!1},onHide:()=>{if(this.controlled&&this.visible)return this.visibleChanged.emit(!1),!1}};this.interactive&&(s.interactive=!0),this.tippyInstance=f(this.target,s)}get target(){const e=g(this.el,"popover-trigger");return e||(this.for?document.getElementById(this.for):this.el.parentElement)}handlePopoverClick(e){!e.target||!m(e.target,`[${y}]`)||this.tippyInstance.hide()}render(){const e=p("ino-popover",`ino-popover--color-scheme-${this.colorScheme}`,"ino-popover__content");return i(d,null,i("slot",{name:"popover-trigger"}),i("div",{ref:t=>this.popoverContainer=t},i("div",{class:e,role:"tooltip",ref:t=>this.popoverContent=t,onClick:this.handlePopoverClick.bind(this)},i("slot",null))))}get el(){return c(this)}static get watchers(){return{placement:["placementChanged"],attachToBody:["bodyChanged"],for:["forChanged"],hideOnBlur:["hideOnBlurChanged"],hideOnEsc:["hideOnEscChanged"],distance:["distanceChanged"],interactive:["interactiveChanged"],followCursor:["followCursorChanged"],trigger:["triggerChanged"],controlled:["controlledChanged"],visible:["visibleChangeHandler"]}}};w.style=b;export{w as ino_popover};
