name: Deploy angular example

on:
  workflow_run:
    workflows: [ "Test & Build" ]
    types: [completed]
    branches: [master]

jobs:
  deploy-elements-angular-example:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          ref: gh-pages

      - uses: actions/download-artifact@v3
        with:
          workflow: ${{ github.event.workflow_run.workflow_id }}
          name: elements-angular-example
          path: example-projects/angular

      - name: Deploy Angular example project to Github Pages ðŸš€
        uses: JamesIves/github-pages-deploy-action@4.1.7
        with:
          branch: gh-pages # The branch the action should deploy to.
          commit-message: Deploying elements-angular-example
          folder: example-projects/angular
          clean-exclude: |
            version
            unicorn
