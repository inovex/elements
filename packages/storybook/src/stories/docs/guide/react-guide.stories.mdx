import { Meta } from '@storybook/addon-docs';

<Meta title="Docs/Guide/React" />

# Create your first Project

**Lets get you up to speed quickly with the usage of the Elements to create a simple login page.**

### Preperation

First we create a new react app for our login page.

```cmd
npx create-react-app <your app name>
cd <your app name>
npm start
```

Add the package `@inovex.de/elements-react` to your project using **npm**:

```sh
$ npm install @inovex.de/elements-react --save
```

or **yarn**:

```sh
$ yarn add @inovex.de/elements-react
```

```jsx
function App() {
  return <div></div>;
}

export default App;
```

Once our react app is ready, delete the boilerplate code and restructure the function until our App.js looks something like the code above.

> Hint: For the Styling and Structure of your App we recommend following along with the provided codesandbox(todo).

To demonstrate how fast you can create a stylish login form, lets start with our sign in consisting of two input fields for the credentials and one button for the submit.

```jsx
<div className="body">
    <h1>Login to your Account</h1>
    <InoInput label="email" outline></InoInput>
    <InoInput label="password" outline></InoInput>
    <InoButton type="submit">Sign In</InoButton>
</div>
```

## Properties

To configure either the functionality or the appearance of the inovex-elements, we use **properties**.

In this case, we give our `<InoInput>` the `outline` property to change its appearance and use the `label` property to give it its corresponding label. More properties of the `<InoInput>` can be found in our **[docs](https://elements.inovex.de/version/v7.1.0/?path=/docs/input-ino-input--playground)**.

```jsx
<InoInput label="email" outline></InoInput>
<InoInput label="password" outline></InoInput>
```

Every component has a variety of powerful and unique properties. They are listed and explained in each components **Playground**:

| Property        | Attribute         | Description                                                                                                 | Type                                                                                             | Default     |
| --------------- | ----------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ----------- |
| `type`          | `type`            | The type of this element (default = text).                                                                  | `"color" \| "email" \| "number" \| "password" \| "search" \| "tel" \| "text" \| "url" \| "week"` | `'text'`    |
| `label`         | `label`           | The optional floating label of this input field.                                                            | `string`                                                                                         | `undefined` |
| `outline`       | `outline`         | Styles the input field as outlined element.                                                                 | `boolean`                                                                                        | `undefined` |
| `pattern`       | `pattern`         | The validation pattern of this element.                                                                     | `string`                                                                                         | `undefined` |
| `placeholder`   | `placeholder`     | The placeholder of this element.                                                                            | `string`                                                                                         | `undefined` |
| `required`      | `required`        | Marks this element as required.                                                                             | `boolean`                                                                                        | `undefined` |
| `showLabelHint` | `show-label-hint` | If true, an _optional_ message is displayed if not required, otherwise a \* marker is displayed if required | `boolean`                                                                                        | `undefined` |  | `string` | `''` |

> Hint: These are some of the properties of the `<InoInput>` component.

The Playground allows you to modify these properties and see the result in real time. Additionally we provides Examples about the usage of each component with its given properties.

Following up on our login-form, we add a type and value property, setting it to a state object named _email_. Do the same for the password `<InoInput>`.

```jsx
const [email, setEmail] = React.useState("");
const [password, setPassword] = React.useState("");
```

```jsx
<InoInput
    type="email"
    label="email"
    outline
    value={email}>
</InoInput>

<InoInput
    type="password"
    label="password"
    outline
    value={password}>
</InoInput>
```

## Events

With the exact same approach we use **Events**. They emit a certain value when the user does something that triggers our Event to fire. In other terms: Our event gives us a **reaction** to an **action** made by our User.
In case of our `<InoInput>` the action is the user typing and our events reaction contains the typed input.

Let's give our login form the `valueChange` event of the `<InoInput>` component, so that we can store the value typed by the user into our email or password states.

| Event         | Description                                                                    | Type                  |
| ------------- | ------------------------------------------------------------------------------ | --------------------- |
| **`valueChange`** | Emits when the user types something in. Contains typed input in `event.detail` | `CustomEvent<string>` |
| `inoBlur`     | Emits when the input field is blurred and validates email input                | `CustomEvent<void>`   |
| `inoFocus`    | Emits when the input field is focused                                          | `CustomEvent<void>`   |

```jsx
<InoInput
    type="email"
    label="email"
    outline
    value={email}
    onValueChange={value => onValueChanged(value, 'email')}
></InoInput>

<InoInput
    type="password"
    label="password"
    outline
    value={password}
    onValueChange={value => onValueChanged(value, 'password')}
></InoInput>
```
> Hint: while in our Playground the Event is called `valueChange`, we name it `onValueChange` inside of our `<InoInput>`. The reason for this is that we want to accomodate our naming similar to the react-way of naming events (e.g. onClick)

Since this event contains the typed input, we create our own `onValueChanged()` function to recieve this typed input and set it to our email state object.

```jsx
const onValueChanged = (value: CustomEvent<string>, input: string) => {
    switch (input) {
    case 'email':
        setEmail(value.detail);
        break;
    case 'password':
        setPassword(value.detail);
        break;
    }
};
```
Beside the `value` parameter representing the contained input, we give our `onValueChanged` function an `input` parameter, so that it can differentiate whether to set the email or password. This way we guarantee that we never mix them up.

## Slots

## CSS-Variables

## Finishing touches

## Properties

To configure either the functionality or the appearance of the inovex-elements, we use **properties**.

In this case, we give our `<InoInput>` the `outline` property to change its appearance and use the `label` property to give it its corresponding label. More properties of the `<InoInput>` can be found in our **[docs](https://elements.inovex.de/version/v7.1.0/?path=/docs/input-ino-input--playground)**.

> Hint: We can customize almost all our components. e.g. add some icons to the `<InoInput>` element by adding a [the ino-icon component and providing the slot `icon-trailing`](https://elements.inovex.de/version/v7.1.0/?path=/docs/input-ino-input--icons). Play around with each component's playground to see all possibilities.

```jsx
<InoInput label="password" outline>
  <InoIcon slot="icon-trailing" icon="password"></InoIcon>
</InoInput>
```

#### CSS-Variables

In order to provide an CSS way of styling the inovex-elements, we sometimes provide custom properties a.k.a. CSS-Variables.
In the case of the `<ino-input>`, there are two variables we can use the change the appearance of our component: `--ino-input-line-color` to change the color of the underline and the `--ino-input-label-color` which changes the color of the floating label. They can be used like this:

```scss
InoInput {
  --ino-input-line-color: blue;
  --ino-input-label-color: blue;
}
```

Most components have built in styles and themes you can choose from. Lets add a different Notification, everytime our user signs in.
If the credentials are too short, we use the property `type="error"` of the `<InoSnackbar>` to indicate a failed login attempt. In the case of a succesfull login, we can use `type="success"`

> Hint: check out our codesandbox for more insights about the functionality.

```jsx
const ValidateLogin = () => {
  if (email.length === 0 || password.length < 8) {
    return (
      <InoSnackbar
        action-text="email and/or password too short"
        timeout={5000}
        type="error"
        stay-visible-on-hover="false"
      >
        Login failed
      </InoSnackbar>
    );
  } else {
    return (
      <InoSnackbar
        action-text="Welcome back!"
        timeout={5000}
        type="success"
        stay-visible-on-hover="false"
      >
        Sucessfully logged in
      </InoSnackbar>
    );
  }
};
```

```jsx
{
  showSnackbar ? <ValidateLogin /> : null;
}
```

Change the types accordingly to your wishes. The timeout property is in _ms_ and indicates when the snackbar dissapears. The timeout can be disabled by setting it to a negative value.
More about the properties of the InoSnackbar is documented [here](https://elements.inovex.de/version/v7.1.0/?path=/docs/notification-ino-snackbar--playground).

## Finishing touches

### Add a logo

> Hint: automatically style your logo with rounded borders by using the `rounded` property of `<InoImg>`

```jsx
<InoImg
  alt="Elements logo"
  decoding="async"
  src={logo}
  height={75}
  width={75}
  fallbackIcon="cloud"
></InoImg>
```

If our image can't be loaded, it will render an `<InoIcon icon="cloud">` due to the `fallbackIcon="cloud"` property.

### Toggle Password Visibility

By clicking on the ino icon lock, we can toggle the visibility of our password by changing the InoInput `type` property.

```jsx
const [hidePassword, setVisibility] = React.useState < InputType > 'password';

const togglePasswordVisibility = () => {
  if (hidePassword === 'password') {
    setVisibility('text');
  } else {
    setVisibility('password');
  }
};
```

```jsx
<InoInput
  type={hidePassword}
  label="password"
  outline
  value={password}
  onValueChange={value => onValueChanged(value, 'password')}
>
  <InoIcon
    slot="icon-trailing"
    icon="password"
    clickable
    onClick={() => togglePasswordVisibility()}
  ></InoIcon>
</InoInput>
```

### Use Popovers on components for more information

```jsx
<InoButton id="sign-up">Sign Up</InoButton>

<InoPopover for="sign-up" placement="bottom" colorScheme="light" interactive>
  <div className="styled-popover">
    <InoIcon icon="user"></InoIcon>
    Already have an account? Sign in.
  </div>
</InoPopover>
```

Make sure the `id` of the hosting element and the `for` property of the attached `<InoPopover>` is the same.
Given the intention or background of your page it is helpful to change the `placement`(`top`, `right`, `bottom`, `left`) and the`colorScheme` property(`primary`, `secondary`, `light`, `transparent`).
Use the `interactive` property if you want to interact with the popover content (e.g. button clicks).

### Display a social network login alternative

```jsx
<InoTab icon="mail" indicator-content-width="false" stacked>
  Gmail
</InoTab>
<InoTab icon="mail" indicator-content-width="false" stacked>
  Yahoo
</InoTab>
```

The `stacked` property indicates that the tab icon and label should flow vertically instead of horizontally.

> Hint: Alternatively group `<InoTab>` into an [ino-tab-bar](https://elements.inovex.de/version/v7.1.0/?path=/docs/structure-ino-tab-bar--playground), if you plan on using many tabs. It functions as a wrapper around the material Tab Bar component.
