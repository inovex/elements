@use '../base/mdc-customize';
@use '../base/theme';
@use '@material/icon-button/mdc-icon-button';
@use '@material/icon-button';
@use '@material/ripple/ripple-theme';

ino-icon-button {
  /**
    * @prop --ino-icon-button-size: size of the entire button
    * @prop --ino-icon-button-icon-size: size of the icon itself
    * @prop --ino-icon-button-icon-color: default color of the icon itself
    * @prop --ino-icon-button-background-color: default color of the background
    * @prop --ino-icon-button-icon-active-color: color of the active icon itself
    * @prop --ino-icon-button-background-active-color: base color of the active background
    * @prop --ino-icon-button-icon-disabled-color: color of the icon itself in disabled state
    * @prop --ino-icon-button-background-disabled-color: base color of the background in disabled state
  */

  $button-size: var(--ino-icon-button-size, 48px);
  $icon-size: var(--ino-icon-button-icon-size, 24px);
  $icon-color: var(--ino-icon-button-icon-color, theme.color(primary));
  $background-color: var(--ino-icon-button-background-color, transparent);
  $icon-active-color: var(
      --ino-icon-button-icon-active-color,
      theme.color(primary)
  );
  $background-active-color: var(
      --ino-icon-button-background-active-color,
      theme.color(primary)
  );

  ino-icon {
    --icon-color: #{$icon-color};
    --ino-icon-height: #{$icon-size};
    --ino-icon-width: #{$icon-size};
  }

  .mdc-icon-button {
    width: $button-size;
    height: $button-size;
    padding: calc((#{$button-size} - #{$icon-size}) / 2);
    font-size: $icon-size;

    background-color: $background-color;
    border-radius: 50%;

    .mdc-icon-button__ripple::before,
    .mdc-icon-button__ripple::after {
      background-color: $background-active-color;
    }

    &.mdc-ripple-upgraded--background-focused,
    &:focus {
      ino-icon {
        --icon-color: #{$icon-active-color};
      }
    }
  }

  &.ino-icon-button--filled {
    --ino-icon-button-icon-color: #{theme.color(primary, contrast)};
    --ino-icon-button-icon-active-color: #{theme.color(
            primary,
            contrast
          )};
    --ino-icon-button-background-color: #{theme.color(primary)};
    --ino-icon-button-background-active-color: #{theme.color(
            primary,
            contrast
          )};
  }
}

// Disabled

.ino-icon-button--disabled.ino-icon-button-filled {
  --ino-icon-button-background-color: var(
      --ino-icon-button-background-disabled-color,
      #{theme.color(dark, light)}
  );

  ino-icon {
    --ino-icon-button-icon-color: #fff;
  }
}

.ino-icon-button--disabled:not(.ino-icon-button-filled) {
  ino-icon {
    --ino-icon-button-icon-color: var(
        --ino-icon-button-icon-disabled-color,
        #{theme.color(dark, light)}
    );
  }
}

