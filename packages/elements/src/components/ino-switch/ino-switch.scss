@use 'base/mdc-customize';
@use '@material/switch';
@use '@material/switch/styles';
@use 'base/theme';

@mixin set-handle-border-color($color) {
  .mdc-switch__handle::after {
    border: 2px solid $color;
  }
}

@mixin set-track-border-color($color) {
  .mdc-switch__track{
    border: 2px solid white;
    margin: -2px;
    box-shadow: 0 0 0 3px $color;
  }
}

@each $color in theme.$color-schemes {
  ino-switch.ino-switch--color-scheme-#{$color} {
    @include switch.theme(
      (
        selected-handle-color: #ffffff,
        selected-hover-handle-color: #ffffff,
        selected-focus-handle-color: #ffffff,
        selected-pressed-handle-color: #ffffff,
        disabled-selected-handle-color: theme.color($color, light),
        selected-track-color: theme.color($color, light),
        selected-hover-track-color: theme.color($color, light),
        selected-focus-track-color: theme.color($color, light),
        selected-pressed-track-color: theme.color($color, light),
        unselected-focus-track-color: #abb1cc,
        unselected-hover-track-color: #abb1cc,
        disabled-selected-track-color: theme.color($color, light),
      )
    );

    &:not(.ino-switch-disabled) {
      .mdc-switch--selected:focus,
      .mdc-switch--unselected:focus {
        @include set-track-border-color(theme.color($color, light))
      }
      .mdc-switch--unselected:hover {
        @include set-handle-border-color(theme.color($color, base));
      }
    }

    &.ino-switch-disabled .mdc-switch--selected {
      @include set-handle-border-color(theme.color($color, light));
    }
  }
}

ino-switch {
  display: flex;
  gap: 5px;
  align-items: center;
  cursor: pointer;

  &.ino-switch-disabled {
    cursor: default;
    pointer-events: none;
  }


  // set basic styles, DOES NOT SUPPORT CSS-VARS
  @include switch.theme(
    (
      track-height: 20px,
      track-width: 36px,
      track-shape: 18px,
      handle-height: 16px,
      handle-width: 16px,
      handle-shape: 14px,
      selected-icon-size: 10px,
      unselected-icon-size: 10px,
      handle-surface-color: white,
      unselected-handle-color: white,
      unselected-track-color: theme.color(light, base),
      disabled-unselected-handle-color: white,
      disabled-unselected-track-color: theme.color(light, base),
      unselected-hover-handle-color: white,
      unselected-focus-handle-color: white,
      unselected-pressed-track-color: theme.color(light, base),
      unselected-pressed-handle-color: white,
    )
  );

  @include set-handle-border-color(theme.color(light, base));

  // hide ripple effect
  .mdc-switch__ripple {
    display: none;
  }
}
