# pnpm Configuration

# Use workspace protocol for local packages
link-workspace-packages=true

# Stricter peer dependency handling (set to false for gradual migration)
strict-peer-dependencies=false

# Auto install peer dependencies
auto-install-peers=true

# Hoist patterns for compatibility with tools that expect flat node_modules
# These patterns ensure certain packages are available at the root
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=@angular*
public-hoist-pattern[]=@storybook*
public-hoist-pattern[]=@stencil*
public-hoist-pattern[]=@material*
public-hoist-pattern[]=typescript
public-hoist-pattern[]=ts-node
public-hoist-pattern[]=jest*

# Use isolated node linker for better isolation
node-linker=isolated

# Enabled to support legacy tooling (like Sass @use across packages) that expects a flat node_modules structure.
# Should definitely be changed in the future once all tooling supports pnpm's default structure.
shamefully-hoist=true

# Engine strict (enforce node version)
engine-strict=true

# Prefer workspace packages over registry packages
prefer-workspace-packages=true

# Deduplicate peer dependencies
dedupe-peer-dependents=true

# Lockfile settings
lockfile=true
